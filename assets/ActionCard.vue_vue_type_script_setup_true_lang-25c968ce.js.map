{"version":3,"file":"ActionCard.vue_vue_type_script_setup_true_lang-25c968ce.js","sources":["../../node_modules/.pnpm/file-saver@2.0.5/node_modules/file-saver/dist/FileSaver.min.js","../../src/utils/github.ts","../../src/utils/export.ts","../../src/components/ActionCard.vue"],"sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { enhanceFetch } from './fetch';\nimport { isPngBf, isZipBf } from './file_type';\nimport { obj2form } from './others';\nimport store from './store';\n\nconst authenticityTokenPageUrl = `https://github.com/gkd-kit/inspect/issues/new`;\nconst repository_id = `661952005`;\nconst commonHeaders = {\n  origin: `https://github.com`,\n  referer: authenticityTokenPageUrl,\n};\n\nconst getCsrfToken = async () => {\n  const csrfSelector = `[data-upload-policy-url=\"/upload/policies/assets\"] input.js-data-upload-policy-url-csrf`;\n  const resp = await enhanceFetch(authenticityTokenPageUrl);\n  const responseDoc = new DOMParser().parseFromString(\n    await resp.text(),\n    'text/html',\n  );\n  const csrfToken = responseDoc\n    .querySelector(csrfSelector)\n    ?.getAttribute(`value`);\n  return csrfToken;\n};\n\ntype S3Form = {\n  key: string;\n  acl: string;\n  policy: string;\n  'X-Amz-Algorithm': string;\n  'X-Amz-Credential': string;\n  'X-Amz-Date': string;\n  'X-Amz-Signature': string;\n  'Content-Type': string;\n  'Cache-Control': string;\n  'x-amz-meta-Surrogate-Control': string;\n};\nexport type GithubPoliciesAsset = {\n  id: number;\n  name: string;\n  size: number;\n  content_type: string;\n  href: string;\n  original_name: string;\n};\n\ntype UploadPoliciesAssetsRsonpse = {\n  upload_url: string;\n  header: {};\n  asset: GithubPoliciesAsset;\n  form: S3Form;\n  same_origin: boolean;\n  asset_upload_url: string;\n  upload_authenticity_token: string;\n  asset_upload_authenticity_token: string;\n};\n\nexport const uploadPoliciesAssets = async (\n  bf: ArrayBuffer,\n  fileName?: string,\n) => {\n  const [name, content_type] = (() => {\n    if (isPngBf(bf)) {\n      return [fileName || `file.png`, `image/png`];\n    } else if (isZipBf(bf)) {\n      return [fileName || `file.zip`, `application/x-zip-compressed`];\n    }\n    throw new Error(`invalid buffer, it must be png or zip`);\n  })();\n\n  const authenticity_token = await getCsrfToken();\n  if (!authenticity_token) {\n    store.githubErrorDlgVisible = true;\n    throw new Error(`failed get csrfToken`);\n  }\n\n  const policiesResp: UploadPoliciesAssetsRsonpse = await enhanceFetch(\n    `https://github.com/upload/policies/assets`,\n    {\n      method: `POST`,\n      body: obj2form({\n        authenticity_token,\n        content_type,\n        name,\n        size: bf.byteLength,\n        repository_id,\n      }),\n      headers: commonHeaders,\n    },\n  ).then((r) => {\n    if (!r.ok) {\n      throw new Error(`failed upload policies assets`);\n    }\n    return r.json();\n  });\n\n  // violentmonkey success\n  // tampermonkey failed https://github.com/Tampermonkey/tampermonkey/issues/1783\n  // use fetch is also work, but console.error cors and can not get response\n  const s3Resp = await enhanceFetch(policiesResp.upload_url, {\n    method: `POST`,\n    body: obj2form(policiesResp.form, {\n      file: new File([bf], name, { type: content_type }),\n    }),\n    headers: commonHeaders,\n  });\n  if (!s3Resp.ok) {\n    throw new Error(`upload s3 failed`);\n  }\n\n  const assetsResp = await enhanceFetch(\n    new URL(policiesResp.asset_upload_url, `https://github.com/`).href,\n    {\n      method: `PUT`,\n      body: obj2form({\n        authenticity_token: policiesResp.asset_upload_authenticity_token,\n      }),\n      headers: {\n        ...commonHeaders,\n        // api must add `Accept` request headers\n        Accept: `application/json`,\n      },\n    },\n  );\n\n  if (assetsResp.status != 200) {\n    throw new Error(`failed check authenticity upload`);\n  }\n\n  return policiesResp.asset;\n};\n","import { saveAs } from 'file-saver';\nimport JSZip from 'jszip';\nimport pLimit from 'p-limit';\nimport { GithubPoliciesAsset, uploadPoliciesAssets } from './github';\nimport { delay } from './others';\nimport {\n  githubPngStorage,\n  githubZipStorage,\n  screenshotStorage,\n} from './storage';\nimport type { Snapshot } from './types';\n\nexport const snapshotAsZip = async (snapshot: Snapshot) => {\n  const zip = new JSZip();\n  zip\n    .file(`snapshot.json`, JSON.stringify(snapshot))\n    .file(`screenshot.png`, (await screenshotStorage.getItem(snapshot.id))!);\n  const content = await zip.generateAsync({\n    type: 'blob',\n    compression: `STORE`,\n  });\n  return content;\n};\n\nexport const exportSnapshotAsZip = async (snapshot: Snapshot) => {\n  const fileName = `snapshot-${snapshot.id}.zip`;\n  saveAs(await snapshotAsZip(snapshot), fileName);\n};\n\nexport const snapshotAsPng = async (snapshot: Snapshot) => {\n  const imgBf = (await screenshotStorage.getItem(snapshot.id))!;\n  const content = new Blob([imgBf, JSON.stringify(snapshot)]);\n  return content;\n};\n\nexport const exportSnapshotAsPng = async (snapshot: Snapshot) => {\n  const fileName = `snapshot-${snapshot.id}.png`;\n  saveAs(await snapshotAsPng(snapshot), fileName);\n};\n\nexport const batchPngDownloadZip = async (snapshots: Snapshot[]) => {\n  const zip = new JSZip();\n  for (const snapshot of snapshots) {\n    await delay();\n    zip.file(snapshot.id + `.png`, snapshotAsPng(snapshot));\n  }\n  const batchZipFile = await zip.generateAsync({\n    type: 'blob',\n    compression: `STORE`,\n  });\n  saveAs(batchZipFile, `batch-png-${snapshots.length}.zip`);\n};\n\nexport const batchZipDownloadZip = async (snapshots: Snapshot[]) => {\n  const zip = new JSZip();\n  for (const snapshot of snapshots) {\n    await delay();\n    zip.file(snapshot.id + `.zip`, await snapshotAsZip(snapshot));\n  }\n  const batchZipFile = await zip.generateAsync({\n    type: 'blob',\n    compression: `STORE`,\n  });\n  saveAs(batchZipFile, `batch-zip-${snapshots.length}.zip`);\n};\n\nexport const exportSnapshotAsPngUrl = async (snapshot: Snapshot) => {\n  return (\n    githubPngStorage[snapshot.id] ??\n    uploadPoliciesAssets(\n      await snapshotAsPng(snapshot).then((r) => r.arrayBuffer()),\n    ).then((r) => {\n      githubPngStorage[snapshot.id] = structuredClone(r);\n      return r;\n    })\n  );\n};\n\nexport const exportSnapshotAsZipUrl = async (snapshot: Snapshot) => {\n  return (\n    githubZipStorage[snapshot.id] ??\n    uploadPoliciesAssets(\n      await snapshotAsZip(snapshot).then((r) => r.arrayBuffer()),\n    ).then((r) => {\n      githubZipStorage[snapshot.id] = structuredClone(r);\n      return r;\n    })\n  );\n};\n\nexport const batchCreatePngUrl = async (snapshots: Snapshot[]) => {\n  const limit = pLimit(3);\n  return (\n    await Promise.allSettled(\n      snapshots.map((s) => limit(() => exportSnapshotAsPngUrl(s))),\n    )\n  ).reduce<GithubPoliciesAsset[]>((p, c) => {\n    if (c.status == 'fulfilled') {\n      p.push(c.value);\n    }\n    return p;\n  }, []);\n};\nexport const batchCreateZipUrl = async (snapshots: Snapshot[]) => {\n  const limit = pLimit(3);\n  return (\n    await Promise.allSettled(\n      snapshots.map((s) => limit(() => exportSnapshotAsZipUrl(s))),\n    )\n  ).reduce<GithubPoliciesAsset[]>((p, c) => {\n    if (c.status == 'fulfilled') {\n      p.push(c.value);\n    }\n    return p;\n  }, []);\n};\n","<script setup lang=\"tsx\">\nimport { showTextDLg } from '@/utils/dialog';\nimport {\n  exportSnapshotAsPng,\n  exportSnapshotAsPngUrl,\n  exportSnapshotAsZip,\n  exportSnapshotAsZipUrl,\n} from '@/utils/export';\nimport { delay } from '@/utils/others';\nimport { snapshotStorage } from '@/utils/storage';\nimport { useTask } from '@/utils/task';\nimport { Snapshot } from '@/utils/types';\nimport { githubUrlToSelfUrl } from '@/utils/url';\nimport { NButton, NPopover, NSpace } from 'naive-ui';\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst props = withDefaults(\n  defineProps<{\n    snapshot: Snapshot;\n    onDelete?: () => void;\n    showPreview?: boolean;\n    showExport?: boolean;\n    showDelete?: boolean;\n    showShare?: boolean;\n  }>(),\n  {\n    showPreview: true,\n    showExport: true,\n    showDelete: true,\n    showShare: true,\n    onDelete: () => () => {},\n  },\n);\n\nconst router = useRouter();\n\nconst exportPng = useTask(async () =>\n  exportSnapshotAsPng((await snapshotStorage.getItem(props.snapshot.id))!),\n);\nconst exportZip = useTask(async () =>\n  exportSnapshotAsZip((await snapshotStorage.getItem(props.snapshot.id))!),\n);\n\nconst previewUrl = computed(() => {\n  return router.resolve({\n    name: 'snapshot',\n    params: { snapshotId: props.snapshot.id },\n  }).href;\n});\n\nconst exportPngUrl = useTask(async () => {\n  const githubAsset = await exportSnapshotAsPngUrl(\n    (await snapshotStorage.getItem(props.snapshot.id))!,\n  );\n  showTextDLg({\n    title: `分享链接`,\n    content: githubUrlToSelfUrl(githubAsset.href),\n  });\n});\n\nconst exportZipUrl = useTask(async () => {\n  const githubAsset = await exportSnapshotAsZipUrl(\n    (await snapshotStorage.getItem(props.snapshot.id))!,\n  );\n  showTextDLg({\n    title: `分享链接`,\n    content: githubUrlToSelfUrl(githubAsset.href),\n  });\n});\n\nconst deleteSnapshot = async () => {\n  await snapshotStorage.removeItem(props.snapshot.id);\n  await delay(500);\n  props.onDelete();\n};\n</script>\n<template>\n  <NSpace>\n    <a v-if=\"showPreview\" target=\"_blank\" :href=\"previewUrl\">\n      <NButton size=\"small\"> {{ $t(`preview`) }} </NButton>\n    </a>\n\n    <NPopover v-if=\"showExport\">\n      <template #trigger>\n        <NButton size=\"small\"> 下载 </NButton>\n      </template>\n      <NSpace vertical>\n        <NButton @click=\"exportPng.invoke\" :loading=\"exportPng.loading\">\n          下载-png\n        </NButton>\n        <NButton @click=\"exportZip.invoke\" :loading=\"exportZip.loading\">\n          下载-zip\n        </NButton>\n      </NSpace>\n    </NPopover>\n\n    <NPopover v-if=\"showShare\">\n      <template #trigger>\n        <NButton size=\"small\"> 分享 </NButton>\n      </template>\n      <NSpace vertical>\n        <NButton @click=\"exportPngUrl.invoke\" :loading=\"exportPngUrl.loading\">\n          生成链接-png\n        </NButton>\n        <NButton @click=\"exportZipUrl.invoke\" :loading=\"exportZipUrl.loading\">\n          生成链接-zip\n        </NButton>\n      </NSpace>\n    </NPopover>\n\n    <NButton v-if=\"showDelete\" size=\"small\" @click=\"deleteSnapshot\">\n      删除\n    </NButton>\n  </NSpace>\n</template>\n"],"names":["a","b","this","c","d","g","e","f","global","h","i","j","k","l","m","module","authenticityTokenPageUrl","repository_id","commonHeaders","getCsrfToken","csrfSelector","resp","enhanceFetch","_a","uploadPoliciesAssets","bf","fileName","name","content_type","isPngBf","isZipBf","authenticity_token","store","policiesResp","obj2form","r","snapshotAsZip","snapshot","zip","JSZip","screenshotStorage","exportSnapshotAsZip","saveAs","snapshotAsPng","imgBf","exportSnapshotAsPng","batchPngDownloadZip","snapshots","delay","batchZipFile","batchZipDownloadZip","exportSnapshotAsPngUrl","githubPngStorage","exportSnapshotAsZipUrl","githubZipStorage","batchCreatePngUrl","limit","pLimit","p","batchCreateZipUrl","router","useRouter","exportPng","useTask","snapshotStorage","getItem","props","id","exportZip","previewUrl","computed","resolve","params","snapshotId","href","exportPngUrl","githubAsset","showTextDLg","title","content","githubUrlToSelfUrl","exportZipUrl","deleteSnapshot","removeItem","onDelete"],"mappings":"8YAAC,SAASA,EAAEC,EAAE,CAA2FA,EAAC,CAA6C,GAAGC,EAAK,UAAU,CAAc,SAASD,EAAED,EAAEC,EAAE,CAAC,OAAmB,OAAOA,EAApB,IAAsBA,EAAE,CAAC,QAAQ,EAAE,EAAY,OAAOA,GAAjB,WAAqB,QAAQ,KAAK,oDAAoD,EAAEA,EAAE,CAAC,QAAQ,CAACA,CAAC,GAAGA,EAAE,SAAS,6EAA6E,KAAKD,EAAE,IAAI,EAAE,IAAI,KAAK,CAAC,SAASA,CAAC,EAAE,CAAC,KAAKA,EAAE,IAAI,CAAC,EAAEA,CAAC,CAAC,SAASG,EAAEH,EAAEC,EAAEE,EAAE,CAAC,IAAIC,EAAE,IAAI,eAAeA,EAAE,KAAK,MAAMJ,CAAC,EAAEI,EAAE,aAAa,OAAOA,EAAE,OAAO,UAAU,CAACC,EAAED,EAAE,SAASH,EAAEE,CAAC,CAAC,EAAEC,EAAE,QAAQ,UAAU,CAAC,QAAQ,MAAM,yBAAyB,CAAC,EAAEA,EAAE,KAAI,CAAE,CAAC,SAAS,EAAEJ,EAAE,CAAC,IAAIC,EAAE,IAAI,eAAeA,EAAE,KAAK,OAAOD,EAAE,EAAE,EAAE,GAAG,CAACC,EAAE,MAAM,MAAS,CAAE,CAAA,MAAO,MAAKA,EAAE,QAAQ,KAAKA,EAAE,MAAM,CAAC,SAASK,EAAEN,EAAE,CAAC,GAAG,CAACA,EAAE,cAAc,IAAI,WAAW,OAAO,CAAC,CAAC,MAAS,CAAC,IAAIC,EAAE,SAAS,YAAY,aAAa,EAAEA,EAAE,eAAe,QAAQ,GAAG,GAAG,OAAO,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,EAAED,EAAE,cAAcC,CAAC,CAAC,CAAC,CAAC,IAAIM,EAAY,OAAO,QAAjB,UAAyB,OAAO,SAAS,OAAO,OAAiB,OAAO,MAAjB,UAAuB,KAAK,OAAO,KAAK,KAAe,OAAOC,GAAjB,UAAyBA,EAAO,SAASA,EAAOA,EAAO,OAAOR,EAAEO,EAAE,WAAW,YAAY,KAAK,UAAU,SAAS,GAAG,cAAc,KAAK,UAAU,SAAS,GAAG,CAAC,SAAS,KAAK,UAAU,SAAS,EAAEF,EAAEE,EAAE,SAAmB,OAAO,QAAjB,UAAyB,SAASA,EAAE,UAAU,CAAE,EAAC,aAAa,kBAAkB,WAAW,CAACP,EAAE,SAASC,EAAEI,EAAEI,EAAE,CAAC,IAAIC,EAAEH,EAAE,KAAKA,EAAE,UAAUI,EAAE,SAAS,cAAc,GAAG,EAAEN,EAAEA,GAAGJ,EAAE,MAAM,WAAWU,EAAE,SAASN,EAAEM,EAAE,IAAI,WAAqB,OAAOV,GAAjB,UAAoBU,EAAE,KAAKV,EAAEU,EAAE,SAAS,SAAS,OAAOL,EAAEK,CAAC,EAAE,EAAEA,EAAE,IAAI,EAAER,EAAEF,EAAEI,EAAEI,CAAC,EAAEH,EAAEK,EAAEA,EAAE,OAAO,QAAQ,IAAIA,EAAE,KAAKD,EAAE,gBAAgBT,CAAC,EAAE,WAAW,UAAU,CAACS,EAAE,gBAAgBC,EAAE,IAAI,CAAC,EAAE,GAAG,EAAE,WAAW,UAAU,CAACL,EAAEK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,qBAAqB,UAAU,SAASJ,EAAEF,EAAEI,EAAE,CAAC,GAAGJ,EAAEA,GAAGE,EAAE,MAAM,WAAqB,OAAOA,GAAjB,SAAmB,UAAU,iBAAiBN,EAAEM,EAAEE,CAAC,EAAEJ,CAAC,UAAU,EAAEE,CAAC,EAAEJ,EAAEI,EAAEF,EAAEI,CAAC,MAAM,CAAC,IAAIC,EAAE,SAAS,cAAc,GAAG,EAAEA,EAAE,KAAKH,EAAEG,EAAE,OAAO,SAAS,WAAW,UAAU,CAACJ,EAAEI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,SAAST,EAAEG,EAAEE,EAAED,EAAE,CAAC,GAAGA,EAAEA,GAAG,KAAK,GAAG,QAAQ,EAAEA,IAAIA,EAAE,SAAS,MAAMA,EAAE,SAAS,KAAK,UAAU,kBAA4B,OAAOJ,GAAjB,SAAmB,OAAOE,EAAEF,EAAEG,EAAEE,CAAC,EAAE,IAAIG,EAA+BR,EAAE,OAA/B,2BAAoCS,EAAE,eAAe,KAAKH,EAAE,WAAW,GAAGA,EAAE,OAAOI,EAAE,eAAe,KAAK,UAAU,SAAS,EAAE,IAAIA,GAAGF,GAAGC,GAAGV,IAAiB,OAAO,WAApB,IAA+B,CAAC,IAAIY,EAAE,IAAI,WAAWA,EAAE,UAAU,UAAU,CAAC,IAAIZ,EAAEY,EAAE,OAAOZ,EAAEW,EAAEX,EAAEA,EAAE,QAAQ,eAAe,uBAAuB,EAAEK,EAAEA,EAAE,SAAS,KAAKL,EAAE,SAASA,EAAEK,EAAE,IAAI,EAAEO,EAAE,cAAcX,CAAC,CAAC,KAAK,CAAC,IAAIY,EAAEN,EAAE,KAAKA,EAAE,UAAUO,EAAED,EAAE,gBAAgBZ,CAAC,EAAEI,EAAEA,EAAE,SAASS,EAAE,SAAS,KAAKA,EAAET,EAAE,KAAK,WAAW,UAAU,CAACQ,EAAE,gBAAgBC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAGP,EAAE,OAAOF,EAAE,OAAOA,EAA+BU,EAAA,QAAeV,CAAE,CAAC,uBCKhpF,MAAMW,EAA2B,gDAC3BC,GAAgB,YAChBC,EAAgB,CACpB,OAAQ,qBACR,QAASF,CACX,EAEMG,GAAe,SAAY,OAC/B,MAAMC,EAAe,0FACfC,EAAO,MAAMC,EAAaN,CAAwB,EAQjD,OAHWO,EAJE,IAAI,UAAA,EAAY,gBAClC,MAAMF,EAAK,KAAK,EAChB,WAAA,EAGC,cAAcD,CAAY,IADX,YAAAG,EAEd,aAAa,QAEnB,EAkCaC,EAAuB,MAClCC,EACAC,IACG,CACH,KAAM,CAACC,EAAMC,CAAY,GAAK,IAAM,CAC9B,GAAAC,GAAQJ,CAAE,EACL,MAAA,CAACC,GAAY,WAAY,WAAW,EAC7C,GAAWI,GAAQL,CAAE,EACZ,MAAA,CAACC,GAAY,WAAY,8BAA8B,EAE1D,MAAA,IAAI,MAAM,uCAAuC,CAAA,KAGnDK,EAAqB,MAAMZ,KACjC,GAAI,CAACY,EACH,MAAAC,EAAM,sBAAwB,GACxB,IAAI,MAAM,sBAAsB,EAGxC,MAAMC,EAA4C,MAAMX,EACtD,4CACA,CACE,OAAQ,OACR,KAAMY,EAAS,CACb,mBAAAH,EACA,aAAAH,EACA,KAAAD,EACA,KAAMF,EAAG,WACT,cAAAR,EAAA,CACD,EACD,QAASC,CACX,CAAA,EACA,KAAMiB,GAAM,CACR,GAAA,CAACA,EAAE,GACC,MAAA,IAAI,MAAM,+BAA+B,EAEjD,OAAOA,EAAE,MAAK,CACf,EAYG,GAAA,EAPW,MAAMb,EAAaW,EAAa,WAAY,CACzD,OAAQ,OACR,KAAMC,EAASD,EAAa,KAAM,CAChC,KAAM,IAAI,KAAK,CAACR,CAAE,EAAGE,EAAM,CAAE,KAAMC,EAAc,CAAA,CAClD,EACD,QAASV,CAAA,CACV,GACW,GACJ,MAAA,IAAI,MAAM,kBAAkB,EAkBhC,IAfe,MAAMI,EACvB,IAAI,IAAIW,EAAa,iBAAkB,qBAAqB,EAAE,KAC9D,CACE,OAAQ,MACR,KAAMC,EAAS,CACb,mBAAoBD,EAAa,+BAAA,CAClC,EACD,QAAS,CACP,GAAGf,EAEH,OAAQ,kBACV,CACF,CAAA,GAGa,QAAU,IACjB,MAAA,IAAI,MAAM,kCAAkC,EAGpD,OAAOe,EAAa,KACtB,ECtHaG,EAAgB,MAAOC,GAAuB,CACnD,MAAAC,EAAM,IAAIC,EAChB,OAAAD,EACG,KAAK,gBAAiB,KAAK,UAAUD,CAAQ,CAAC,EAC9C,KAAK,iBAAmB,MAAMG,EAAkB,QAAQH,EAAS,EAAE,CAAG,EACzD,MAAMC,EAAI,cAAc,CACtC,KAAM,OACN,YAAa,OAAA,CACd,CAEH,EAEaG,GAAsB,MAAOJ,GAAuB,CACzD,MAAAX,EAAW,YAAYW,EAAS,EAAE,OACxCK,EAAAA,OAAO,MAAMN,EAAcC,CAAQ,EAAGX,CAAQ,CAChD,EAEaiB,EAAgB,MAAON,GAAuB,CACzD,MAAMO,EAAS,MAAMJ,EAAkB,QAAQH,EAAS,EAAE,EAEnD,OADS,IAAI,KAAK,CAACO,EAAO,KAAK,UAAUP,CAAQ,CAAC,CAAC,CAE5D,EAEaQ,GAAsB,MAAOR,GAAuB,CACzD,MAAAX,EAAW,YAAYW,EAAS,EAAE,OACxCK,EAAAA,OAAO,MAAMC,EAAcN,CAAQ,EAAGX,CAAQ,CAChD,EAEaoB,GAAsB,MAAOC,GAA0B,CAC5D,MAAAT,EAAM,IAAIC,EAChB,UAAWF,KAAYU,EACrB,MAAMC,EAAM,EACZV,EAAI,KAAKD,EAAS,GAAK,OAAQM,EAAcN,CAAQ,CAAC,EAElD,MAAAY,EAAe,MAAMX,EAAI,cAAc,CAC3C,KAAM,OACN,YAAa,OAAA,CACd,EACDI,EAAA,OAAOO,EAAc,aAAaF,EAAU,MAAM,MAAM,CAC1D,EAEaG,GAAsB,MAAOH,GAA0B,CAC5D,MAAAT,EAAM,IAAIC,EAChB,UAAWF,KAAYU,EACrB,MAAMC,EAAM,EACZV,EAAI,KAAKD,EAAS,GAAK,OAAQ,MAAMD,EAAcC,CAAQ,CAAC,EAExD,MAAAY,EAAe,MAAMX,EAAI,cAAc,CAC3C,KAAM,OACN,YAAa,OAAA,CACd,EACDI,EAAA,OAAOO,EAAc,aAAaF,EAAU,MAAM,MAAM,CAC1D,EAEaI,EAAyB,MAAOd,GAEzCe,EAAiBf,EAAS,EAAE,GAC5Bb,EACE,MAAMmB,EAAcN,CAAQ,EAAE,KAAMF,GAAMA,EAAE,aAAa,CAAA,EACzD,KAAMA,IACNiB,EAAiBf,EAAS,EAAE,EAAI,gBAAgBF,CAAC,EAC1CA,EACR,EAIQkB,EAAyB,MAAOhB,GAEzCiB,EAAiBjB,EAAS,EAAE,GAC5Bb,EACE,MAAMY,EAAcC,CAAQ,EAAE,KAAMF,GAAMA,EAAE,aAAa,CAAA,EACzD,KAAMA,IACNmB,EAAiBjB,EAAS,EAAE,EAAI,gBAAgBF,CAAC,EAC1CA,EACR,EAIQoB,GAAoB,MAAOR,GAA0B,CAC1D,MAAAS,EAAQC,EAAO,CAAC,EACtB,OACE,MAAM,QAAQ,WACZV,EAAU,IAAK,GAAMS,EAAM,IAAML,EAAuB,CAAC,CAAC,CAAC,CAAA,GAE7D,OAA8B,CAACO,EAAGvD,KAC9BA,EAAE,QAAU,aACZuD,EAAA,KAAKvD,EAAE,KAAK,EAETuD,GACN,CAAE,CAAA,CACP,EACaC,GAAoB,MAAOZ,GAA0B,CAC1D,MAAAS,EAAQC,EAAO,CAAC,EACtB,OACE,MAAM,QAAQ,WACZV,EAAU,IAAK,GAAMS,EAAM,IAAMH,EAAuB,CAAC,CAAC,CAAC,CAAA,GAE7D,OAA8B,CAACK,EAAGvD,KAC9BA,EAAE,QAAU,aACZuD,EAAA,KAAKvD,EAAE,KAAK,EAETuD,GACN,CAAE,CAAA,CACP,+QChFME,EAASC,KAETC,EAAYC,EAAQ,SACxBlB,GAAqB,MAAMmB,EAAgBC,QAAQC,EAAM7B,SAAS8B,EAAE,CAAG,CACzE,EACMC,EAAYL,EAAQ,SACxBtB,GAAqB,MAAMuB,EAAgBC,QAAQC,EAAM7B,SAAS8B,EAAE,CAAG,CACzE,EAEME,EAAaC,GAAS,IACnBV,EAAOW,QAAQ,CACpB5C,KAAM,WACN6C,OAAQ,CAAEC,WAAYP,EAAM7B,SAAS8B,EAAG,CACzC,CAAA,EAAEO,IACJ,EAEKC,EAAeZ,EAAQ,SAAY,CACvC,MAAMa,EAAc,MAAMzB,EACvB,MAAMa,EAAgBC,QAAQC,EAAM7B,SAAS8B,EAAE,CAClD,EACAU,EAAY,CACVC,MAAQ,OACRC,QAASC,EAAmBJ,EAAYF,IAAI,CAC9C,CAAC,CACH,CAAC,EAEKO,EAAelB,EAAQ,SAAY,CACvC,MAAMa,EAAc,MAAMvB,EACvB,MAAMW,EAAgBC,QAAQC,EAAM7B,SAAS8B,EAAE,CAClD,EACAU,EAAY,CACVC,MAAQ,OACRC,QAASC,EAAmBJ,EAAYF,IAAI,CAC9C,CAAC,CACH,CAAC,EAEKQ,EAAiB,SAAY,CACjC,MAAMlB,EAAgBmB,WAAWjB,EAAM7B,SAAS8B,EAAE,EAClD,MAAMnB,EAAM,GAAG,EACfkB,EAAMkB,SAAQ","x_google_ignoreList":[0]}