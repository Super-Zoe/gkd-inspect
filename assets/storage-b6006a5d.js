var Ln=(r,t,c)=>{if(!t.has(r))throw TypeError("Cannot "+c)};var ve=(r,t,c)=>(Ln(r,t,"read from private field"),c?c.call(r):t.get(r)),Te=(r,t,c)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,c)},ae=(r,t,c,l)=>(Ln(r,t,"write to private field"),l?l.call(r,c):t.set(r,c),c);var on=(r,t,c,l)=>({set _(d){ae(r,t,d,c)},get _(){return ve(r,t,l)}});import{x as M,bO as Vt,bP as Xt,d as Z,z as X,m as R,bQ as Gt,aH as Bn,bR as Qt,N as Jt,B as ce,bS as zn,bT as Zt,bU as er,bV as nr,bW as tr,F as Fe,M as an,r as Me,P as le,Q as He,W as rr,n as sn,X as or,E as _e,p as k,bX as ir,q as F,y as Ce,c as be,A as Se,D as cn,J as ar,K as sr,az as $n,ad as ye,aJ as cr,aj as ln,v as ne,a8 as lr,C as kn,a1 as ur,a3 as ge,aD as Dn,a0 as se,a2 as fr,T as jn,bY as Fn,bZ as Mn,b_ as Hn,b$ as Wn,a5 as Un,L as dr,w as vr,aC as hr,aG as gr,a9 as mr,c0 as pr,a4 as br,u as Tn,c1 as yr,aS as wr,c2 as xr,ao as _r,e as Cr,bN as Sr}from"./index-54ba92a5.js";function un(r,t=[],c){const l={};return Object.getOwnPropertyNames(r).forEach(h=>{t.includes(h)||(l[h]=r[h])}),Object.assign(l,c)}const{cubicBezierEaseInOut:re,cubicBezierEaseOut:Ir,cubicBezierEaseIn:Er}=Vt;function Rr({overflow:r="hidden",duration:t=".3s",originalTransition:c="",leavingDelay:l="0s",foldPadding:d=!1,enterToProps:h=void 0,leaveToProps:m=void 0,reverse:y=!1}={}){const u=y?"leave":"enter",g=y?"enter":"leave";return[M(`&.fade-in-height-expand-transition-${g}-from,
 &.fade-in-height-expand-transition-${u}-to`,Object.assign(Object.assign({},h),{opacity:1})),M(`&.fade-in-height-expand-transition-${g}-to,
 &.fade-in-height-expand-transition-${u}-from`,Object.assign(Object.assign({},m),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:d?"0 !important":void 0,paddingBottom:d?"0 !important":void 0})),M(`&.fade-in-height-expand-transition-${g}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${re} ${l},
 opacity ${t} ${Ir} ${l},
 margin-top ${t} ${re} ${l},
 margin-bottom ${t} ${re} ${l},
 padding-top ${t} ${re} ${l},
 padding-bottom ${t} ${re} ${l}
 ${c?","+c:""}
 `),M(`&.fade-in-height-expand-transition-${u}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${re},
 opacity ${t} ${Er},
 margin-top ${t} ${re},
 margin-bottom ${t} ${re},
 padding-top ${t} ${re},
 padding-bottom ${t} ${re}
 ${c?","+c:""}
 `)]}var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const Or=Object.assign(Object.assign({},Xt),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),Pr=Z({name:"DialogEnvironment",props:Object.assign(Object.assign({},Or),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const t=X(!0);function c(){const{onInternalAfterLeave:_,internalKey:v,onAfterLeave:I}=r;_&&_(v),I&&I()}function l(_){const{onPositiveClick:v}=r;v?Promise.resolve(v(_)).then(I=>{I!==!1&&u()}):u()}function d(_){const{onNegativeClick:v}=r;v?Promise.resolve(v(_)).then(I=>{I!==!1&&u()}):u()}function h(){const{onClose:_}=r;_?Promise.resolve(_()).then(v=>{v!==!1&&u()}):u()}function m(_){const{onMaskClick:v,maskClosable:I}=r;v&&(v(_),I&&u())}function y(){const{onEsc:_}=r;_&&_()}function u(){t.value=!1}function g(_){t.value=_}return{show:t,hide:u,handleUpdateShow:g,handleAfterLeave:c,handleCloseClick:h,handleNegativeClick:d,handlePositiveClick:l,handleMaskClick:m,handleEsc:y}},render(){const{handlePositiveClick:r,handleUpdateShow:t,handleNegativeClick:c,handleCloseClick:l,handleAfterLeave:d,handleMaskClick:h,handleEsc:m,to:y,maskClosable:u,show:g}=this;return R(Jt,{show:g,onUpdateShow:t,onMaskClick:h,onEsc:m,to:y,maskClosable:u,onAfterEnter:this.onAfterEnter,onAfterLeave:d,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,internalAppear:!0,internalDialog:!0},{default:()=>R(Gt,Object.assign({},Bn(this.$props,Qt),{style:this.internalStyle,onClose:l,onNegativeClick:c,onPositiveClick:r}))})}}),Nr={injectionKey:String,to:[String,Object]},Lr=Z({name:"DialogProvider",props:Nr,setup(){const r=X([]),t={};function c(y={}){const u=an(),g=Me(Object.assign(Object.assign({},y),{key:u,destroy:()=>{t[`n-dialog-${u}`].hide()}}));return r.value.push(g),g}const l=["info","success","warning","error"].map(y=>u=>c(Object.assign(Object.assign({},u),{type:y})));function d(y){const{value:u}=r;u.splice(u.findIndex(g=>g.key===y),1)}function h(){Object.values(t).forEach(y=>{y.hide()})}const m={create:c,destroyAll:h,info:l[0],success:l[1],warning:l[2],error:l[3]};return ce(zn,m),ce(nr,{clickedRef:Zt(64),clickPositionRef:er()}),ce(tr,r),Object.assign(Object.assign({},m),{dialogList:r,dialogInstRefs:t,handleAfterLeave:d})},render(){var r,t;return R(Fe,null,[this.dialogList.map(c=>R(Pr,un(c,["destroy","style"],{internalStyle:c.style,to:this.to,ref:l=>{l===null?delete this.dialogInstRefs[`n-dialog-${c.key}`]:this.dialogInstRefs[`n-dialog-${c.key}`]=l},internalKey:c.key,onInternalAfterLeave:this.handleAfterLeave}))),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r)])}});function Tr(){const r=le(zn,null);return r===null&&He("use-dialog","No outer <n-dialog-provider /> founded."),r}const Br={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},zr=r=>{const{textColor2:t,successColor:c,infoColor:l,warningColor:d,errorColor:h,popoverColor:m,closeIconColor:y,closeIconColorHover:u,closeIconColorPressed:g,closeColorHover:_,closeColorPressed:v,textColor1:I,textColor3:A,borderRadius:C,fontWeightStrong:N,boxShadow2:O,lineHeight:j,fontSize:z}=r;return Object.assign(Object.assign({},Br),{borderRadius:C,lineHeight:j,fontSize:z,headerFontWeight:N,iconColor:t,iconColorSuccess:c,iconColorInfo:l,iconColorWarning:d,iconColorError:h,color:m,textColor:t,closeIconColor:y,closeIconColorHover:u,closeIconColorPressed:g,closeBorderRadius:C,closeColorHover:_,closeColorPressed:v,headerTextColor:I,descriptionTextColor:A,actionTextColor:t,boxShadow:O})},$r=rr({name:"Notification",common:sn,peers:{Scrollbar:or},self:zr}),kr=$r,Dr={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},jr=r=>{const{textColor2:t,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,infoColor:h,successColor:m,errorColor:y,warningColor:u,popoverColor:g,boxShadow2:_,primaryColor:v,lineHeight:I,borderRadius:A,closeColorHover:C,closeColorPressed:N}=r;return Object.assign(Object.assign({},Dr),{closeBorderRadius:A,textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:g,colorInfo:g,colorSuccess:g,colorError:g,colorWarning:g,colorLoading:g,boxShadow:_,boxShadowInfo:_,boxShadowSuccess:_,boxShadowError:_,boxShadowWarning:_,boxShadowLoading:_,iconColor:t,iconColorInfo:h,iconColorSuccess:m,iconColorWarning:u,iconColorError:y,iconColorLoading:v,closeColorHover:C,closeColorPressed:N,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,closeColorHoverInfo:C,closeColorPressedInfo:N,closeIconColorInfo:c,closeIconColorHoverInfo:l,closeIconColorPressedInfo:d,closeColorHoverSuccess:C,closeColorPressedSuccess:N,closeIconColorSuccess:c,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:d,closeColorHoverError:C,closeColorPressedError:N,closeIconColorError:c,closeIconColorHoverError:l,closeIconColorPressedError:d,closeColorHoverWarning:C,closeColorPressedWarning:N,closeIconColorWarning:c,closeIconColorHoverWarning:l,closeIconColorPressedWarning:d,closeColorHoverLoading:C,closeColorPressedLoading:N,closeIconColorLoading:c,closeIconColorHoverLoading:l,closeIconColorPressedLoading:d,loadingColor:v,lineHeight:I,borderRadius:A})},Fr={name:"Message",common:sn,self:jr},Mr=Fr,Hr=r=>{const{primaryColor:t,errorColor:c}=r;return{colorError:c,colorLoading:t,height:"2px"}},Wr={name:"LoadingBar",common:sn,self:Hr},Ur=Wr,Kn=_e("n-loading-bar"),qn=_e("n-loading-bar-api"),Kr=k("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[ir({enterDuration:"0.3s",leaveDuration:"0.8s"}),k("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[F("starting",`
 background: var(--n-color-loading);
 `),F("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),F("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var ze=globalThis&&globalThis.__awaiter||function(r,t,c,l){function d(h){return h instanceof c?h:new c(function(m){m(h)})}return new(c||(c=Promise))(function(h,m){function y(_){try{g(l.next(_))}catch(v){m(v)}}function u(_){try{g(l.throw(_))}catch(v){m(v)}}function g(_){_.done?h(_.value):d(_.value).then(y,u)}g((l=l.apply(r,t||[])).next())})};function $e(r,t){return`${t}-loading-bar ${t}-loading-bar--${r}`}const qr=Z({name:"LoadingBar",props:{containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:r}=Ce(),{props:t,mergedClsPrefixRef:c}=le(Kn),l=X(null),d=X(!1),h=X(!1),m=X(!1),y=X(!1);let u=!1;const g=X(!1),_=be(()=>{const{loadingBarStyle:b}=t;return b?b[g.value?"error":"loading"]:""});function v(){return ze(this,void 0,void 0,function*(){d.value=!1,m.value=!1,u=!1,g.value=!1,y.value=!0,yield ye(),y.value=!1})}function I(b=0,T=80,P="starting"){return ze(this,void 0,void 0,function*(){if(h.value=!0,yield v(),u)return;m.value=!0,yield ye();const L=l.value;L&&(L.style.maxWidth=`${b}%`,L.style.transition="none",L.offsetWidth,L.className=$e(P,c.value),L.style.transition="",L.style.maxWidth=`${T}%`)})}function A(){return ze(this,void 0,void 0,function*(){if(u||g.value)return;h.value&&(yield ye()),u=!0;const b=l.value;b&&(b.className=$e("finishing",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1)})}function C(){if(!(u||g.value))if(!m.value)I(100,100,"error").then(()=>{g.value=!0;const b=l.value;b&&(b.className=$e("error",c.value),b.offsetWidth,m.value=!1)});else{g.value=!0;const b=l.value;if(!b)return;b.className=$e("error",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1}}function N(){d.value=!0}function O(){d.value=!1}function j(){return ze(this,void 0,void 0,function*(){yield v()})}const z=Se("LoadingBar","-loading-bar",Kr,Ur,t,c),G=be(()=>{const{self:{height:b,colorError:T,colorLoading:P}}=z.value;return{"--n-height":b,"--n-color-loading":P,"--n-color-error":T}}),H=r?cn("loading-bar",void 0,G,t):void 0;return{mergedClsPrefix:c,loadingBarRef:l,started:h,loading:m,entering:d,transitionDisabled:y,start:I,error:C,finish:A,handleEnter:N,handleAfterEnter:O,handleAfterLeave:j,mergedLoadingBarStyle:_,cssVars:r?void 0:G,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:r}=this;return R($n,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),ar(R("div",{class:[`${r}-loading-bar-container`,this.themeClass],style:this.containerStyle},R("div",{ref:"loadingBarRef",class:[`${r}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[sr,this.loading||!this.loading&&this.entering]])}})}}),Yr=Object.assign(Object.assign({},Se.props),{to:{type:[String,Object,Boolean],default:void 0},containerStyle:[String,Object],loadingBarStyle:{type:Object}}),Vr=Z({name:"LoadingBarProvider",props:Yr,setup(r){const t=cr(),c=X(null),l={start(){var h;t.value?(h=c.value)===null||h===void 0||h.start():ye(()=>{var m;(m=c.value)===null||m===void 0||m.start()})},error(){var h;t.value?(h=c.value)===null||h===void 0||h.error():ye(()=>{var m;(m=c.value)===null||m===void 0||m.error()})},finish(){var h;t.value?(h=c.value)===null||h===void 0||h.finish():ye(()=>{var m;(m=c.value)===null||m===void 0||m.finish()})}},{mergedClsPrefixRef:d}=Ce(r);return ce(qn,l),ce(Kn,{props:r,mergedClsPrefixRef:d}),Object.assign(l,{loadingBarRef:c})},render(){var r,t;return R(Fe,null,R(ln,{disabled:this.to===!1,to:this.to||"body"},R(qr,{ref:"loadingBarRef",containerStyle:this.containerStyle})),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))}});function Xr(){const r=le(qn,null);return r===null&&He("use-loading-bar","No outer <n-loading-bar-provider /> founded."),r}const Yn={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},Vn=_e("n-message-api"),Xn=_e("n-message-provider"),Gr=M([k("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[Rr({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),k("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[ne("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),ne("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(r=>F(`${r}-type`,[M("> *",`
 color: var(--n-icon-color-${r});
 transition: color .3s var(--n-bezier);
 `)])),M("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[lr()])]),ne("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[M("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),M("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),k("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[F("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),F("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),F("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),F("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),F("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),F("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),Qr={info:()=>R(Fn,null),success:()=>R(Mn,null),warning:()=>R(Hn,null),error:()=>R(Wn,null),default:()=>null},Jr=Z({name:"Message",props:Object.assign(Object.assign({},Yn),{render:Function}),setup(r){const{inlineThemeDisabled:t,mergedRtlRef:c}=Ce(r),{props:l,mergedClsPrefixRef:d}=le(Xn),h=kn("Message",c,d),m=Se("Message","-message",Gr,Mr,l,d),y=be(()=>{const{type:g}=r,{common:{cubicBezierEaseInOut:_},self:{padding:v,margin:I,maxWidth:A,iconMargin:C,closeMargin:N,closeSize:O,iconSize:j,fontSize:z,lineHeight:G,borderRadius:H,iconColorInfo:b,iconColorSuccess:T,iconColorWarning:P,iconColorError:L,iconColorLoading:W,closeIconSize:q,closeBorderRadius:Y,[se("textColor",g)]:V,[se("boxShadow",g)]:Q,[se("color",g)]:ie,[se("closeColorHover",g)]:ue,[se("closeColorPressed",g)]:he,[se("closeIconColor",g)]:te,[se("closeIconColorPressed",g)]:we,[se("closeIconColorHover",g)]:Ie}}=m.value;return{"--n-bezier":_,"--n-margin":I,"--n-padding":v,"--n-max-width":A,"--n-font-size":z,"--n-icon-margin":C,"--n-icon-size":j,"--n-close-icon-size":q,"--n-close-border-radius":Y,"--n-close-size":O,"--n-close-margin":N,"--n-text-color":V,"--n-color":ie,"--n-box-shadow":Q,"--n-icon-color-info":b,"--n-icon-color-success":T,"--n-icon-color-warning":P,"--n-icon-color-error":L,"--n-icon-color-loading":W,"--n-close-color-hover":ue,"--n-close-color-pressed":he,"--n-close-icon-color":te,"--n-close-icon-color-pressed":we,"--n-close-icon-color-hover":Ie,"--n-line-height":G,"--n-border-radius":H}}),u=t?cn("message",be(()=>r.type[0]),y,{}):void 0;return{mergedClsPrefix:d,rtlEnabled:h,messageProviderProps:l,handleClose(){var g;(g=r.onClose)===null||g===void 0||g.call(r)},cssVars:t?void 0:y,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender,placement:l.placement}},render(){const{render:r,type:t,closable:c,content:l,mergedClsPrefix:d,cssVars:h,themeClass:m,onRender:y,icon:u,handleClose:g,showIcon:_}=this;y==null||y();let v;return R("div",{class:[`${d}-message-wrapper`,m],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},h]},r?r(this.$props):R("div",{class:[`${d}-message ${d}-message--${t}-type`,this.rtlEnabled&&`${d}-message--rtl`]},(v=Zr(u,t,d))&&_?R("div",{class:`${d}-message__icon ${d}-message__icon--${t}-type`},R(ur,null,{default:()=>v})):null,R("div",{class:`${d}-message__content`},ge(l)),c?R(Dn,{clsPrefix:d,class:`${d}-message__close`,onClick:g,absolute:!0}):null))}});function Zr(r,t,c){if(typeof r=="function")return r();{const l=t==="loading"?R(fr,{clsPrefix:c,strokeWidth:24,scale:.85}):Qr[t]();return l?R(jn,{clsPrefix:c,key:t},{default:()=>l}):null}}const eo=Z({name:"MessageEnvironment",props:Object.assign(Object.assign({},Yn),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(r){let t=null;const c=X(!0);Un(()=>{l()});function l(){const{duration:_}=r;_&&(t=window.setTimeout(m,_))}function d(_){_.currentTarget===_.target&&t!==null&&(window.clearTimeout(t),t=null)}function h(_){_.currentTarget===_.target&&l()}function m(){const{onHide:_}=r;c.value=!1,t&&(window.clearTimeout(t),t=null),_&&_()}function y(){const{onClose:_}=r;_&&_(),m()}function u(){const{onAfterLeave:_,onInternalAfterLeave:v,onAfterHide:I,internalKey:A}=r;_&&_(),v&&v(A),I&&I()}function g(){m()}return{show:c,hide:m,handleClose:y,handleAfterLeave:u,handleMouseleave:h,handleMouseenter:d,deactivate:g}},render(){return R(dr,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?R(Jr,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),no=Object.assign(Object.assign({},Se.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),to=Z({name:"MessageProvider",props:no,setup(r){const{mergedClsPrefixRef:t}=Ce(r),c=X([]),l=X({}),d={create(u,g){return h(u,Object.assign({type:"default"},g))},info(u,g){return h(u,Object.assign(Object.assign({},g),{type:"info"}))},success(u,g){return h(u,Object.assign(Object.assign({},g),{type:"success"}))},warning(u,g){return h(u,Object.assign(Object.assign({},g),{type:"warning"}))},error(u,g){return h(u,Object.assign(Object.assign({},g),{type:"error"}))},loading(u,g){return h(u,Object.assign(Object.assign({},g),{type:"loading"}))},destroyAll:y};ce(Xn,{props:r,mergedClsPrefixRef:t}),ce(Vn,d);function h(u,g){const _=an(),v=Me(Object.assign(Object.assign({},g),{content:u,key:_,destroy:()=>{var A;(A=l.value[_])===null||A===void 0||A.hide()}})),{max:I}=r;return I&&c.value.length>=I&&c.value.shift(),c.value.push(v),v}function m(u){c.value.splice(c.value.findIndex(g=>g.key===u),1),delete l.value[u]}function y(){Object.values(l.value).forEach(u=>{u.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:l,messageList:c,handleAfterLeave:m},d)},render(){var r,t,c;return R(Fe,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.messageList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(l=>R(eo,Object.assign({ref:d=>{d&&(this.messageRefs[l.key]=d)},internalKey:l.key,onInternalAfterLeave:this.handleAfterLeave},un(l,["destroy"],void 0),{duration:l.duration===void 0?this.duration:l.duration,keepAliveOnHover:l.keepAliveOnHover===void 0?this.keepAliveOnHover:l.keepAliveOnHover,closable:l.closable===void 0?this.closable:l.closable}))))):null)}});function ro(){const r=le(Vn,null);return r===null&&He("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),r}const We=_e("n-notification-provider"),oo=Z({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:r,mergedClsPrefixRef:t,wipTransitionCountRef:c}=le(We),l=X(null);return vr(()=>{var d,h;c.value>0?(d=l==null?void 0:l.value)===null||d===void 0||d.classList.add("transitioning"):(h=l==null?void 0:l.value)===null||h===void 0||h.classList.remove("transitioning")}),{selfRef:l,mergedTheme:r,mergedClsPrefix:t,transitioning:c}},render(){const{$slots:r,scrollable:t,mergedClsPrefix:c,mergedTheme:l,placement:d}=this;return R("div",{ref:"selfRef",class:[`${c}-notification-container`,t&&`${c}-notification-container--scrollable`,`${c}-notification-container--${d}`]},t?R(hr,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},r):r)}}),io={info:()=>R(Fn,null),success:()=>R(Mn,null),warning:()=>R(Hn,null),error:()=>R(Wn,null),default:()=>null},fn={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},ao=gr(fn),so=Z({name:"Notification",props:fn,setup(r){const{mergedClsPrefixRef:t,mergedThemeRef:c,props:l}=le(We),{inlineThemeDisabled:d,mergedRtlRef:h}=Ce(),m=kn("Notification",h,t),y=be(()=>{const{type:g}=r,{self:{color:_,textColor:v,closeIconColor:I,closeIconColorHover:A,closeIconColorPressed:C,headerTextColor:N,descriptionTextColor:O,actionTextColor:j,borderRadius:z,headerFontWeight:G,boxShadow:H,lineHeight:b,fontSize:T,closeMargin:P,closeSize:L,width:W,padding:q,closeIconSize:Y,closeBorderRadius:V,closeColorHover:Q,closeColorPressed:ie,titleFontSize:ue,metaFontSize:he,descriptionFontSize:te,[se("iconColor",g)]:we},common:{cubicBezierEaseOut:Ie,cubicBezierEaseIn:Ke,cubicBezierEaseInOut:ee}}=c.value,{left:Pe,right:qe,top:Ye,bottom:Ve}=mr(q);return{"--n-color":_,"--n-font-size":T,"--n-text-color":v,"--n-description-text-color":O,"--n-action-text-color":j,"--n-title-text-color":N,"--n-title-font-weight":G,"--n-bezier":ee,"--n-bezier-ease-out":Ie,"--n-bezier-ease-in":Ke,"--n-border-radius":z,"--n-box-shadow":H,"--n-close-border-radius":V,"--n-close-color-hover":Q,"--n-close-color-pressed":ie,"--n-close-icon-color":I,"--n-close-icon-color-hover":A,"--n-close-icon-color-pressed":C,"--n-line-height":b,"--n-icon-color":we,"--n-close-margin":P,"--n-close-size":L,"--n-close-icon-size":Y,"--n-width":W,"--n-padding-left":Pe,"--n-padding-right":qe,"--n-padding-top":Ye,"--n-padding-bottom":Ve,"--n-title-font-size":ue,"--n-meta-font-size":he,"--n-description-font-size":te}}),u=d?cn("notification",be(()=>r.type[0]),y,l):void 0;return{mergedClsPrefix:t,showAvatar:be(()=>r.avatar||r.type!=="default"),handleCloseClick(){r.onClose()},rtlEnabled:m,cssVars:d?void 0:y,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var r;const{mergedClsPrefix:t}=this;return(r=this.onRender)===null||r===void 0||r.call(this),R("div",{class:[`${t}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},R("div",{class:[`${t}-notification`,this.rtlEnabled&&`${t}-notification--rtl`,this.themeClass,{[`${t}-notification--closable`]:this.closable,[`${t}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?R("div",{class:`${t}-notification__avatar`},this.avatar?ge(this.avatar):this.type!=="default"?R(jn,{clsPrefix:t},{default:()=>io[this.type]()}):null):null,this.closable?R(Dn,{clsPrefix:t,class:`${t}-notification__close`,onClick:this.handleCloseClick}):null,R("div",{ref:"bodyRef",class:`${t}-notification-main`},this.title?R("div",{class:`${t}-notification-main__header`},ge(this.title)):null,this.description?R("div",{class:`${t}-notification-main__description`},ge(this.description)):null,this.content?R("pre",{class:`${t}-notification-main__content`},ge(this.content)):null,this.meta||this.action?R("div",{class:`${t}-notification-main-footer`},this.meta?R("div",{class:`${t}-notification-main-footer__meta`},ge(this.meta)):null,this.action?R("div",{class:`${t}-notification-main-footer__action`},ge(this.action)):null):null)))}}),co=Object.assign(Object.assign({},fn),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),lo=Z({name:"NotificationEnvironment",props:Object.assign(Object.assign({},co),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const{wipTransitionCountRef:t}=le(We),c=X(!0);let l=null;function d(){c.value=!1,l&&window.clearTimeout(l)}function h(C){t.value++,ye(()=>{C.style.height=`${C.offsetHeight}px`,C.style.maxHeight="0",C.style.transition="none",C.offsetHeight,C.style.transition="",C.style.maxHeight=C.style.height})}function m(C){t.value--,C.style.height="",C.style.maxHeight="";const{onAfterEnter:N,onAfterShow:O}=r;N&&N(),O&&O()}function y(C){t.value++,C.style.maxHeight=`${C.offsetHeight}px`,C.style.height=`${C.offsetHeight}px`,C.offsetHeight}function u(C){const{onHide:N}=r;N&&N(),C.style.maxHeight="0",C.offsetHeight}function g(){t.value--;const{onAfterLeave:C,onInternalAfterLeave:N,onAfterHide:O,internalKey:j}=r;C&&C(),N(j),O&&O()}function _(){const{duration:C}=r;C&&(l=window.setTimeout(d,C))}function v(C){C.currentTarget===C.target&&l!==null&&(window.clearTimeout(l),l=null)}function I(C){C.currentTarget===C.target&&_()}function A(){const{onClose:C}=r;C?Promise.resolve(C()).then(N=>{N!==!1&&d()}):d()}return Un(()=>{r.duration&&(l=window.setTimeout(d,r.duration))}),{show:c,hide:d,handleClose:A,handleAfterLeave:g,handleLeave:u,handleBeforeLeave:y,handleAfterEnter:m,handleBeforeEnter:h,handleMouseenter:v,handleMouseleave:I}},render(){return R($n,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?R(so,Object.assign({},Bn(this.$props,ao),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),uo=M([k("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[M(">",[k("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[M(">",[k("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[k("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),F("top, top-right, top-left",`
 top: 12px;
 `,[M("&.transitioning >",[k("scrollbar",[M(">",[k("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),F("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[M(">",[k("scrollbar",[M(">",[k("scrollbar-container",[k("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),k("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),F("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),F("top",[k("notification-wrapper",`
 transform-origin: top center;
 `)]),F("bottom",[k("notification-wrapper",`
 transform-origin: bottom center;
 `)]),F("top-right, bottom-right",[k("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),F("top-left, bottom-left",[k("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),F("top-right",`
 right: 0;
 `,[ke("top-right")]),F("top-left",`
 left: 0;
 `,[ke("top-left")]),F("bottom-right",`
 right: 0;
 `,[ke("bottom-right")]),F("bottom-left",`
 left: 0;
 `,[ke("bottom-left")]),F("scrollable",[F("top-right",`
 top: 0;
 `),F("top-left",`
 top: 0;
 `),F("bottom-right",`
 bottom: 0;
 `),F("bottom-left",`
 bottom: 0;
 `)]),k("notification-wrapper",`
 margin-bottom: 12px;
 `,[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),M("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),M("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),k("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[ne("avatar",[k("icon",{color:"var(--n-icon-color)"}),k("base-icon",{color:"var(--n-icon-color)"})]),F("show-avatar",[k("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),F("closable",[k("notification-main",[M("> *:first-child",{paddingRight:"20px"})]),ne("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),ne("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("icon","transition: color .3s var(--n-bezier);")]),k("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[k("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[ne("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),ne("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),ne("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[M("&:first-child",{margin:0})])])])])]);function ke(r){const c=r.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",l="0";return k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${c}, 0);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${l}, 0);
 `)])}const Gn=_e("n-notification-api"),fo=Object.assign(Object.assign({},Se.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),vo=Z({name:"NotificationProvider",props:fo,setup(r){const{mergedClsPrefixRef:t}=Ce(r),c=X([]),l={},d=new Set;function h(A){const C=an(),N=()=>{d.add(C),l[C]&&l[C].hide()},O=Me(Object.assign(Object.assign({},A),{key:C,destroy:N,hide:N,deactivate:N})),{max:j}=r;if(j&&c.value.length-d.size>=j){let z=!1,G=0;for(const H of c.value){if(!d.has(H.key)){l[H.key]&&(H.destroy(),z=!0);break}G++}z||c.value.splice(G,1)}return c.value.push(O),O}const m=["info","success","warning","error"].map(A=>C=>h(Object.assign(Object.assign({},C),{type:A})));function y(A){d.delete(A),c.value.splice(c.value.findIndex(C=>C.key===A),1)}const u=Se("Notification","-notification",uo,kr,r,t),g={create:h,info:m[0],success:m[1],warning:m[2],error:m[3],open:v,destroyAll:I},_=X(0);ce(Gn,g),ce(We,{props:r,mergedClsPrefixRef:t,mergedThemeRef:u,wipTransitionCountRef:_});function v(A){return h(A)}function I(){Object.values(c.value).forEach(A=>{A.hide()})}return Object.assign({mergedClsPrefix:t,notificationList:c,notificationRefs:l,handleAfterLeave:y},g)},render(){var r,t,c;const{placement:l}=this;return R(Fe,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.notificationList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R(oo,{style:this.containerStyle,scrollable:this.scrollable&&l!=="top"&&l!=="bottom",placement:l},{default:()=>this.notificationList.map(d=>R(lo,Object.assign({ref:h=>{const m=d.key;h===null?delete this.notificationRefs[m]:this.notificationRefs[m]=h}},un(d,["destroy","hide","deactivate"]),{internalKey:d.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:d.keepAliveOnHover===void 0?this.keepAliveOnHover:d.keepAliveOnHover})))})):null)}});function ho(){const r=le(Gn,null);return r===null&&He("use-notification","No outer `n-notification-provider` found."),r}const go=Z({name:"InjectionExtractor",props:{onSetup:Function},setup(r,{slots:t}){var c;return(c=r.onSetup)===null||c===void 0||c.call(r),()=>{var l;return(l=t.default)===null||l===void 0?void 0:l.call(t)}}}),mo={message:ro,notification:ho,loadingBar:Xr,dialog:Tr};function po({providersAndProps:r,configProviderProps:t}){let l=pr(()=>R(yr,Tn(t),{default:()=>r.map(({type:y,Provider:u,props:g})=>R(u,Tn(g),{default:()=>R(go,{onSetup:()=>d[y]=mo[y]()})}))}));const d={app:l};let h;return br&&(h=document.createElement("div"),document.body.appendChild(h),l.mount(h)),Object.assign({unmount:()=>{var y;if(l===null||h===null){wr("discrete","unmount call no need because discrete app has been unmounted");return}l.unmount(),(y=h.parentNode)===null||y===void 0||y.removeChild(h),h=null,l=null}},d)}function bo(r,{configProviderProps:t,messageProviderProps:c,dialogProviderProps:l,notificationProviderProps:d,loadingBarProviderProps:h}={}){const m=[];return r.forEach(u=>{switch(u){case"message":m.push({type:u,Provider:to,props:c});break;case"notification":m.push({type:u,Provider:vo,props:d});break;case"dialog":m.push({type:u,Provider:Lr,props:l});break;case"loadingBar":m.push({type:u,Provider:Vr,props:h});break}}),po({providersAndProps:m,configProviderProps:t})}const{message:yo,dialog:jo,loadingBar:Fo}=bo(["message","dialog","loadingBar"]);function De(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class wo{value;next;constructor(t){this.value=t}}var oe,me,pe;class xo{constructor(){Te(this,oe,void 0);Te(this,me,void 0);Te(this,pe,void 0);this.clear()}enqueue(t){const c=new wo(t);ve(this,oe)?(ve(this,me).next=c,ae(this,me,c)):(ae(this,oe,c),ae(this,me,c)),on(this,pe)._++}dequeue(){const t=ve(this,oe);if(t)return ae(this,oe,ve(this,oe).next),on(this,pe)._--,t.value}clear(){ae(this,oe,void 0),ae(this,me,void 0),ae(this,pe,0)}get size(){return ve(this,pe)}*[Symbol.iterator](){let t=ve(this,oe);for(;t;)yield t.value,t=t.next}}oe=new WeakMap,me=new WeakMap,pe=new WeakMap;function Mo(r){if(!((Number.isInteger(r)||r===Number.POSITIVE_INFINITY)&&r>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new xo;let c=0;const l=()=>{c--,t.size>0&&t.dequeue()()},d=async(y,u,g)=>{c++;const _=(async()=>y(...g))();u(_);try{await _}catch{}l()},h=(y,u,g)=>{t.enqueue(d.bind(void 0,y,u,g)),(async()=>(await Promise.resolve(),c<r&&t.size>0&&t.dequeue()()))()},m=(y,...u)=>new Promise(g=>{h(y,g,u)});return Object.defineProperties(m,{activeCount:{get:()=>c},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),m}const Ho=(...r)=>{const t=new FormData;return r.forEach(c=>{for(const l in c){const d=c[l];d!==void 0&&(d instanceof Blob?t.append(l,d,d.name):t.append(l,String(d)))}}),t},_o=r=>{const t={};return r.forEach((c,l)=>{t[l]=c}),t},Ae=async(r=0)=>new Promise(t=>{setTimeout(t,r)}),Wo=(()=>{let r;return async(t="")=>{r!==t&&(r=t,Ae(1e4).then(()=>{r=void 0}),await navigator.clipboard.writeText(t),yo.success("复制成功"))}})(),Co=r=>(...t)=>r()(...t),So=Co(()=>{var r;return(r=window.__NetworkExtension__)==null?void 0:r.GM_xmlhttpRequest}),Io=()=>{var r;return!!((r=window.__NetworkExtension__)!=null&&r.GM_xmlhttpRequest)},Eo=(r="")=>{const t=new Headers;return r.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(l){return l.startsWith(`
`)?l.substring(1):l}).forEach(function(l){var m;let d=l.split(":"),h=(m=d.shift())==null?void 0:m.trim();if(h){let y=d.join(":").trim();try{t.append(h,y)}catch{}}}),t},Ro=(r="")=>{try{return r===""&&location.href?location.href:r}catch{return r}},Ao=async(r,t={},c={})=>{var g;const l=new Request(r,t).clone();if((g=l.signal)!=null&&g.aborted)throw new DOMException("Aborted","AbortError");const d=l.method.toUpperCase(),h=Ro(l.url),m=new Headers(l.headers);new Headers(t.headers).forEach((_,v)=>{m.set(v,_)});let y=!1,u;return d!="GET"&&t.body&&(typeof t.body=="string"||t.body instanceof URLSearchParams?u=t.body:t.body instanceof FormData?(u=t.body,m.delete("content-type")):(y=!0,u=await l.blob())),new Promise((_,v)=>{var N;let I={method:d,url:h,headers:_o(m),data:u,binary:y,responseType:"blob",async onload(O){let j;O.response instanceof Blob&&O.response.size==0||(j=O.response??O.responseText),await Ae();const z=new Response(j,{status:O.status,statusText:O.statusText,headers:Eo(O.responseHeaders)});Object.defineProperty(z,"url",{value:O.finalUrl}),_(z)},async onerror(){await Ae(),v(new TypeError("Network request onerror failed"))},async ontimeout(){await Ae(),v(new TypeError("Network request ontimeout failed"))},async onabort(){await Ae(),v(new DOMException("Aborted","AbortError"))},async onreadystatechange(O){var j;O.readyState===4&&((j=l.signal)==null||j.removeEventListener("abort",C))}};typeof c=="function"?I=c(I):I={...I,...c};const A=So(I);function C(){A.abort()}(N=l.signal)==null||N.addEventListener("abort",C)})},Oo=new Set([location.origin,"https://cdn.jsdelivr.net","https://fastly.jsdelivr.net","https://raw.githubusercontent.com","https://raw.githubusercontents.com","https://raw.gitmirror.com"]),Po=r=>(r=new URL(r),r.hostname=="127.0.0.1"||r.hostname=="localhost"||location.protocol=="http:"&&r.protocol=="http:"&&r.hostname.split(".").every(t=>Number.isSafeInteger(parseInt(t)))?!0:Oo.has(r.origin)),No=/^https:\/\/github\.com\/gkd-kit\/inspect\/files\/([0-9]+)\/file\.zip$/,Lo=/^https:\/\/github\.com\/gkd-kit\/inspect\/assets\/([0-9]+)\/([0-9a-z\-]+)$/,Uo=r=>{r=r.toString();const{1:t}=r.match(No)||[],{1:c,2:l}=r.match(Lo)||[];if(t)return location.origin+xr.resolve({path:`/import/${t}`}).href;if(c&&l)return r;throw new Error(`github url ${r} should come from gkd-kit/inspect files/assets`)},Ko=async(r,t,c)=>{const l=new Request(r),d=new URL(l.url);if(Po(d))return fetch(r,{...t,mode:"cors"});if(Io())return Ao(r,t);if(c!=null&&c.proxy){const h=new URL("https://proxy-workers.lisonge.workers.dev/");h.searchParams.set("proxyUrl",d.href);const m=new Request(r,t);return fetch(h,{method:m.method,headers:m.headers,body:m.body})}else throw _r.networkErrorDlgVisible=!0,new Error("gm is not supported")};var Qn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,t){(function(c){r.exports=c()})(function(){return function c(l,d,h){function m(g,_){if(!d[g]){if(!l[g]){var v=typeof De=="function"&&De;if(!_&&v)return v(g,!0);if(y)return y(g,!0);var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I}var A=d[g]={exports:{}};l[g][0].call(A.exports,function(C){var N=l[g][1][C];return m(N||C)},A,A.exports,c,l,d,h)}return d[g].exports}for(var y=typeof De=="function"&&De,u=0;u<h.length;u++)m(h[u]);return m}({1:[function(c,l,d){(function(h){var m=h.MutationObserver||h.WebKitMutationObserver,y;if(m){var u=0,g=new m(C),_=h.document.createTextNode("");g.observe(_,{characterData:!0}),y=function(){_.data=u=++u%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var v=new h.MessageChannel;v.port1.onmessage=C,y=function(){v.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?y=function(){var O=h.document.createElement("script");O.onreadystatechange=function(){C(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},h.document.documentElement.appendChild(O)}:y=function(){setTimeout(C,0)};var I,A=[];function C(){I=!0;for(var O,j,z=A.length;z;){for(j=A,A=[],O=-1;++O<z;)j[O]();z=A.length}I=!1}l.exports=N;function N(O){A.push(O)===1&&!I&&y()}}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,l,d){var h=c(1);function m(){}var y={},u=["REJECTED"],g=["FULFILLED"],_=["PENDING"];l.exports=v;function v(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,b!==m&&N(this,b)}v.prototype.catch=function(b){return this.then(null,b)},v.prototype.then=function(b,T){if(typeof b!="function"&&this.state===g||typeof T!="function"&&this.state===u)return this;var P=new this.constructor(m);if(this.state!==_){var L=this.state===g?b:T;A(P,L,this.outcome)}else this.queue.push(new I(P,b,T));return P};function I(b,T,P){this.promise=b,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}I.prototype.callFulfilled=function(b){y.resolve(this.promise,b)},I.prototype.otherCallFulfilled=function(b){A(this.promise,this.onFulfilled,b)},I.prototype.callRejected=function(b){y.reject(this.promise,b)},I.prototype.otherCallRejected=function(b){A(this.promise,this.onRejected,b)};function A(b,T,P){h(function(){var L;try{L=T(P)}catch(W){return y.reject(b,W)}L===b?y.reject(b,new TypeError("Cannot resolve promise with itself")):y.resolve(b,L)})}y.resolve=function(b,T){var P=O(C,T);if(P.status==="error")return y.reject(b,P.value);var L=P.value;if(L)N(b,L);else{b.state=g,b.outcome=T;for(var W=-1,q=b.queue.length;++W<q;)b.queue[W].callFulfilled(T)}return b},y.reject=function(b,T){b.state=u,b.outcome=T;for(var P=-1,L=b.queue.length;++P<L;)b.queue[P].callRejected(T);return b};function C(b){var T=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof T=="function")return function(){T.apply(b,arguments)}}function N(b,T){var P=!1;function L(V){P||(P=!0,y.reject(b,V))}function W(V){P||(P=!0,y.resolve(b,V))}function q(){T(W,L)}var Y=O(q);Y.status==="error"&&L(Y.value)}function O(b,T){var P={};try{P.value=b(T),P.status="success"}catch(L){P.status="error",P.value=L}return P}v.resolve=j;function j(b){return b instanceof this?b:y.resolve(new this(m),b)}v.reject=z;function z(b){var T=new this(m);return y.reject(T,b)}v.all=G;function G(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=new Array(P),q=0,Y=-1,V=new this(m);++Y<P;)Q(b[Y],Y);return V;function Q(ie,ue){T.resolve(ie).then(he,function(te){L||(L=!0,y.reject(V,te))});function he(te){W[ue]=te,++q===P&&!L&&(L=!0,y.resolve(V,W))}}}v.race=H;function H(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=-1,q=new this(m);++W<P;)Y(b[W]);return q;function Y(V){T.resolve(V).then(function(Q){L||(L=!0,y.resolve(q,Q))},function(Q){L||(L=!0,y.reject(q,Q))})}}},{1:1}],3:[function(c,l,d){(function(h){typeof h.Promise!="function"&&(h.Promise=c(2))}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,l,d){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=y();function g(){try{if(!u||!u.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(i){if(i.name!=="TypeError")throw i;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new n,s=0;s<e.length;s+=1)a.append(e[s]);return a.getBlob(o.type)}}typeof Promise>"u"&&c(3);var v=Promise;function I(e,o){o&&e.then(function(n){o(null,n)},function(n){o(n)})}function A(e,o,n){typeof o=="function"&&e.then(o),typeof n=="function"&&e.catch(n)}function C(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",j=void 0,z={},G=Object.prototype.toString,H="readonly",b="readwrite";function T(e){for(var o=e.length,n=new ArrayBuffer(o),a=new Uint8Array(n),s=0;s<o;s++)a[s]=e.charCodeAt(s);return n}function P(e){return new v(function(o){var n=e.transaction(O,b),a=_([""]);n.objectStore(O).put(a,"key"),n.onabort=function(s){s.preventDefault(),s.stopPropagation(),o(!1)},n.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);o(i||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function L(e){return typeof j=="boolean"?v.resolve(j):P(e).then(function(o){return j=o,j})}function W(e){var o=z[e.name],n={};n.promise=new v(function(a,s){n.resolve=a,n.reject=s}),o.deferredOperations.push(n),o.dbReady?o.dbReady=o.dbReady.then(function(){return n.promise}):o.dbReady=n.promise}function q(e){var o=z[e.name],n=o.deferredOperations.pop();if(n)return n.resolve(),n.promise}function Y(e,o){var n=z[e.name],a=n.deferredOperations.pop();if(a)return a.reject(o),a.promise}function V(e,o){return new v(function(n,a){if(z[e.name]=z[e.name]||Pe(),e.db)if(o)W(e),e.db.close();else return n(e.db);var s=[e.name];o&&s.push(e.version);var i=u.open.apply(u,s);o&&(i.onupgradeneeded=function(f){var p=i.result;try{p.createObjectStore(e.storeName),f.oldVersion<=1&&p.createObjectStore(O)}catch(w){if(w.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw w}}),i.onerror=function(f){f.preventDefault(),a(i.error)},i.onsuccess=function(){var f=i.result;f.onversionchange=function(p){p.target.close()},n(f),q(e)}})}function Q(e){return V(e,!1)}function ie(e){return V(e,!0)}function ue(e,o){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,s=e.version>e.db.version;if(a&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function he(e){return new v(function(o,n){var a=new FileReader;a.onerror=n,a.onloadend=function(s){var i=btoa(s.target.result||"");o({__local_forage_encoded_blob:!0,data:i,type:e.type})},a.readAsBinaryString(e)})}function te(e){var o=T(atob(e.data));return _([o],{type:e.type})}function we(e){return e&&e.__local_forage_encoded_blob}function Ie(e){var o=this,n=o._initReady().then(function(){var a=z[o._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return A(n,e,e),n}function Ke(e){W(e);for(var o=z[e.name],n=o.forages,a=0;a<n.length;a++){var s=n[a];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Q(e).then(function(i){return e.db=i,ue(e)?ie(e):i}).then(function(i){e.db=o.db=i;for(var f=0;f<n.length;f++)n[f]._dbInfo.db=i}).catch(function(i){throw Y(e,i),i})}function ee(e,o,n,a){a===void 0&&(a=1);try{var s=e.db.transaction(e.storeName,o);n(null,s)}catch(i){if(a>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return Ke(e).then(function(){ee(e,o,n,a-1)})}).catch(n);n(i)}}function Pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function qe(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=e[a];var s=z[n.name];s||(s=Pe(),z[n.name]=s),s.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=Ie);var i=[];function f(){return v.resolve()}for(var p=0;p<s.forages.length;p++){var w=s.forages[p];w!==o&&i.push(w._initReady().catch(f))}var x=s.forages.slice(0);return v.all(i).then(function(){return n.db=s.db,Q(n)}).then(function(S){return n.db=S,ue(n,o._defaultConfig.version)?ie(n):S}).then(function(S){n.db=s.db=S,o._dbInfo=n;for(var E=0;E<x.length;E++){var B=x[E];B!==o&&(B._dbInfo.db=n.db,B._dbInfo.version=n.version)}})}function Ye(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(f,p){if(f)return i(f);try{var w=p.objectStore(n._dbInfo.storeName),x=w.get(e);x.onsuccess=function(){var S=x.result;S===void 0&&(S=null),we(S)&&(S=te(S)),s(S)},x.onerror=function(){i(x.error)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function Ve(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(f,p){if(f)return i(f);try{var w=p.objectStore(n._dbInfo.storeName),x=w.openCursor(),S=1;x.onsuccess=function(){var E=x.result;if(E){var B=E.value;we(B)&&(B=te(B));var $=e(B,E.key,S++);$!==void 0?s($):E.continue()}else s()},x.onerror=function(){i(x.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function et(e,o,n){var a=this;e=C(e);var s=new v(function(i,f){var p;a.ready().then(function(){return p=a._dbInfo,G.call(o)==="[object Blob]"?L(p.db).then(function(w){return w?o:he(o)}):o}).then(function(w){ee(a._dbInfo,b,function(x,S){if(x)return f(x);try{var E=S.objectStore(a._dbInfo.storeName);w===null&&(w=void 0);var B=E.put(w,e);S.oncomplete=function(){w===void 0&&(w=null),i(w)},S.onabort=S.onerror=function(){var $=B.error?B.error:B.transaction.error;f($)}}catch($){f($)}})}).catch(f)});return I(s,n),s}function nt(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,b,function(f,p){if(f)return i(f);try{var w=p.objectStore(n._dbInfo.storeName),x=w.delete(e);p.oncomplete=function(){s()},p.onerror=function(){i(x.error)},p.onabort=function(){var S=x.error?x.error:x.transaction.error;i(S)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function tt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,b,function(i,f){if(i)return s(i);try{var p=f.objectStore(o._dbInfo.storeName),w=p.clear();f.oncomplete=function(){a()},f.onabort=f.onerror=function(){var x=w.error?w.error:w.transaction.error;s(x)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function rt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,f){if(i)return s(i);try{var p=f.objectStore(o._dbInfo.storeName),w=p.count();w.onsuccess=function(){a(w.result)},w.onerror=function(){s(w.error)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function ot(e,o){var n=this,a=new v(function(s,i){if(e<0){s(null);return}n.ready().then(function(){ee(n._dbInfo,H,function(f,p){if(f)return i(f);try{var w=p.objectStore(n._dbInfo.storeName),x=!1,S=w.openKeyCursor();S.onsuccess=function(){var E=S.result;if(!E){s(null);return}e===0||x?s(E.key):(x=!0,E.advance(e))},S.onerror=function(){i(S.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function it(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,f){if(i)return s(i);try{var p=f.objectStore(o._dbInfo.storeName),w=p.openKeyCursor(),x=[];w.onsuccess=function(){var S=w.result;if(!S){a(x);return}x.push(S.key),S.continue()},w.onerror=function(){s(w.error)}}catch(S){s(S)}})}).catch(s)});return I(n,e),n}function at(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;if(!e.name)s=v.reject("Invalid arguments");else{var i=e.name===n.name&&a._dbInfo.db,f=i?v.resolve(a._dbInfo.db):Q(e).then(function(p){var w=z[e.name],x=w.forages;w.db=p;for(var S=0;S<x.length;S++)x[S]._dbInfo.db=p;return p});e.storeName?s=f.then(function(p){if(p.objectStoreNames.contains(e.storeName)){var w=p.version+1;W(e);var x=z[e.name],S=x.forages;p.close();for(var E=0;E<S.length;E++){var B=S[E];B._dbInfo.db=null,B._dbInfo.version=w}var $=new v(function(D,K){var U=u.open(e.name,w);U.onerror=function(J){var Re=U.result;Re.close(),K(J)},U.onupgradeneeded=function(){var J=U.result;J.deleteObjectStore(e.storeName)},U.onsuccess=function(){var J=U.result;J.close(),D(J)}});return $.then(function(D){x.db=D;for(var K=0;K<S.length;K++){var U=S[K];U._dbInfo.db=D,q(U._dbInfo)}}).catch(function(D){throw(Y(e,D)||v.resolve()).catch(function(){}),D})}}):s=f.then(function(p){W(e);var w=z[e.name],x=w.forages;p.close();for(var S=0;S<x.length;S++){var E=x[S];E._dbInfo.db=null}var B=new v(function($,D){var K=u.deleteDatabase(e.name);K.onerror=function(){var U=K.result;U&&U.close(),D(K.error)},K.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},K.onsuccess=function(){var U=K.result;U&&U.close(),$(U)}});return B.then(function($){w.db=$;for(var D=0;D<x.length;D++){var K=x[D];q(K._dbInfo)}}).catch(function($){throw(Y(e,$)||v.resolve()).catch(function(){}),$})})}return I(s,o),s}var st={_driver:"asyncStorage",_initStorage:qe,_support:g(),iterate:Ve,getItem:Ye,setItem:et,removeItem:nt,clear:tt,length:rt,key:ot,keys:it,dropInstance:at};function ct(){return typeof openDatabase=="function"}var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lt="~~local_forage_type~",vn=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Xe=Ne.length,Ge="arbf",Qe="blob",hn="si08",gn="ui08",mn="uic8",pn="si16",bn="si32",yn="ur16",wn="ui32",xn="fl32",_n="fl64",Cn=Xe+Ge.length,Sn=Object.prototype.toString;function In(e){var o=e.length*.75,n=e.length,a,s=0,i,f,p,w;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var x=new ArrayBuffer(o),S=new Uint8Array(x);for(a=0;a<n;a+=4)i=fe.indexOf(e[a]),f=fe.indexOf(e[a+1]),p=fe.indexOf(e[a+2]),w=fe.indexOf(e[a+3]),S[s++]=i<<2|f>>4,S[s++]=(f&15)<<4|p>>2,S[s++]=(p&3)<<6|w&63;return x}function Je(e){var o=new Uint8Array(e),n="",a;for(a=0;a<o.length;a+=3)n+=fe[o[a]>>2],n+=fe[(o[a]&3)<<4|o[a+1]>>4],n+=fe[(o[a+1]&15)<<2|o[a+2]>>6],n+=fe[o[a+2]&63];return o.length%3===2?n=n.substring(0,n.length-1)+"=":o.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function ut(e,o){var n="";if(e&&(n=Sn.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Sn.call(e.buffer)==="[object ArrayBuffer]")){var a,s=Ne;e instanceof ArrayBuffer?(a=e,s+=Ge):(a=e.buffer,n==="[object Int8Array]"?s+=hn:n==="[object Uint8Array]"?s+=gn:n==="[object Uint8ClampedArray]"?s+=mn:n==="[object Int16Array]"?s+=pn:n==="[object Uint16Array]"?s+=yn:n==="[object Int32Array]"?s+=bn:n==="[object Uint32Array]"?s+=wn:n==="[object Float32Array]"?s+=xn:n==="[object Float64Array]"?s+=_n:o(new Error("Failed to get type for BinaryArray"))),o(s+Je(a))}else if(n==="[object Blob]"){var i=new FileReader;i.onload=function(){var f=lt+e.type+"~"+Je(this.result);o(Ne+Qe+f)},i.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(f){console.error("Couldn't convert value into a JSON string: ",e),o(null,f)}}function ft(e){if(e.substring(0,Xe)!==Ne)return JSON.parse(e);var o=e.substring(Cn),n=e.substring(Xe,Cn),a;if(n===Qe&&vn.test(o)){var s=o.match(vn);a=s[1],o=o.substring(s[0].length)}var i=In(o);switch(n){case Ge:return i;case Qe:return _([i],{type:a});case hn:return new Int8Array(i);case gn:return new Uint8Array(i);case mn:return new Uint8ClampedArray(i);case pn:return new Int16Array(i);case yn:return new Uint16Array(i);case bn:return new Int32Array(i);case wn:return new Uint32Array(i);case xn:return new Float32Array(i);case _n:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var Ze={serialize:ut,deserialize:ft,stringToBuffer:In,bufferToString:Je};function En(e,o,n,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,a)}function dt(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=typeof e[a]!="string"?e[a].toString():e[a];var s=new v(function(i,f){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return f(p)}n.db.transaction(function(p){En(p,n,function(){o._dbInfo=n,i()},function(w,x){f(x)})},f)});return n.serializer=Ze,s}function de(e,o,n,a,s,i){e.executeSql(n,a,s,function(f,p){p.code===p.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(w,x){x.rows.length?i(w,p):En(w,o,function(){w.executeSql(n,a,s,i)},i)},i):i(f,p)},i)}function vt(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(p){de(p,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[e],function(w,x){var S=x.rows.length?x.rows.item(0).value:null;S&&(S=f.serializer.deserialize(S)),s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function ht(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(p){de(p,f,"SELECT * FROM "+f.storeName,[],function(w,x){for(var S=x.rows,E=S.length,B=0;B<E;B++){var $=S.item(B),D=$.value;if(D&&(D=f.serializer.deserialize(D)),D=e(D,$.key,B+1),D!==void 0){s(D);return}}s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function Rn(e,o,n,a){var s=this;e=C(e);var i=new v(function(f,p){s.ready().then(function(){o===void 0&&(o=null);var w=o,x=s._dbInfo;x.serializer.serialize(o,function(S,E){E?p(E):x.db.transaction(function(B){de(B,x,"INSERT OR REPLACE INTO "+x.storeName+" (key, value) VALUES (?, ?)",[e,S],function(){f(w)},function($,D){p(D)})},function(B){if(B.code===B.QUOTA_ERR){if(a>0){f(Rn.apply(s,[e,w,n,a-1]));return}p(B)}})})}).catch(p)});return I(i,n),i}function gt(e,o,n){return Rn.apply(this,[e,o,n,1])}function mt(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(p){de(p,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[e],function(){s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function pt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(f){de(f,i,"DELETE FROM "+i.storeName,[],function(){a()},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function bt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(f){de(f,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(p,w){var x=w.rows.item(0).c;a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function yt(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(p){de(p,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[e+1],function(w,x){var S=x.rows.length?x.rows.item(0).key:null;s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function wt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(f){de(f,i,"SELECT key FROM "+i.storeName,[],function(p,w){for(var x=[],S=0;S<w.rows.length;S++)x.push(w.rows.item(S).key);a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function xt(e){return new v(function(o,n){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,i){for(var f=[],p=0;p<i.rows.length;p++)f.push(i.rows.item(p).name);o({db:e,storeNames:f})},function(s,i){n(i)})},function(a){n(a)})})}function _t(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;return e.name?s=new v(function(i){var f;e.name===n.name?f=a._dbInfo.db:f=openDatabase(e.name,"","",0),e.storeName?i({db:f,storeNames:[e.storeName]}):i(xt(f))}).then(function(i){return new v(function(f,p){i.db.transaction(function(w){function x($){return new v(function(D,K){w.executeSql("DROP TABLE IF EXISTS "+$,[],function(){D()},function(U,J){K(J)})})}for(var S=[],E=0,B=i.storeNames.length;E<B;E++)S.push(x(i.storeNames[E]));v.all(S).then(function(){f()}).catch(function($){p($)})},function(w){p(w)})})}):s=v.reject("Invalid arguments"),I(s,o),s}var Ct={_driver:"webSQLStorage",_initStorage:dt,_support:ct(),iterate:ht,getItem:vt,setItem:gt,removeItem:mt,clear:pt,length:bt,key:yt,keys:wt,dropInstance:_t};function St(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function An(e,o){var n=e.name+"/";return e.storeName!==o.storeName&&(n+=e.storeName+"/"),n}function It(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Et(){return!It()||localStorage.length>0}function Rt(e){var o=this,n={};if(e)for(var a in e)n[a]=e[a];return n.keyPrefix=An(e,o._defaultConfig),Et()?(o._dbInfo=n,n.serializer=Ze,v.resolve()):v.reject()}function At(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var i=localStorage.key(s);i.indexOf(a)===0&&localStorage.removeItem(i)}});return I(n,e),n}function Ot(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo,i=localStorage.getItem(s.keyPrefix+e);return i&&(i=s.serializer.deserialize(i)),i});return I(a,o),a}function Pt(e,o){var n=this,a=n.ready().then(function(){for(var s=n._dbInfo,i=s.keyPrefix,f=i.length,p=localStorage.length,w=1,x=0;x<p;x++){var S=localStorage.key(x);if(S.indexOf(i)===0){var E=localStorage.getItem(S);if(E&&(E=s.serializer.deserialize(E)),E=e(E,S.substring(f),w++),E!==void 0)return E}}});return I(a,o),a}function Nt(e,o){var n=this,a=n.ready().then(function(){var s=n._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(s.keyPrefix.length)),i});return I(a,o),a}function Lt(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo,s=localStorage.length,i=[],f=0;f<s;f++){var p=localStorage.key(f);p.indexOf(a.keyPrefix)===0&&i.push(p.substring(a.keyPrefix.length))}return i});return I(n,e),n}function Tt(e){var o=this,n=o.keys().then(function(a){return a.length});return I(n,e),n}function Bt(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return I(a,o),a}function zt(e,o,n){var a=this;e=C(e);var s=a.ready().then(function(){o===void 0&&(o=null);var i=o;return new v(function(f,p){var w=a._dbInfo;w.serializer.serialize(o,function(x,S){if(S)p(S);else try{localStorage.setItem(w.keyPrefix+e,x),f(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(E),p(E)}})})});return I(s,n),s}function $t(e,o){if(o=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var a=this,s;return e.name?s=new v(function(i){e.storeName?i(An(e,a._defaultConfig)):i(e.name+"/")}).then(function(i){for(var f=localStorage.length-1;f>=0;f--){var p=localStorage.key(f);p.indexOf(i)===0&&localStorage.removeItem(p)}}):s=v.reject("Invalid arguments"),I(s,o),s}var kt={_driver:"localStorageWrapper",_initStorage:Rt,_support:St(),iterate:Pt,getItem:Ot,setItem:zt,removeItem:Bt,clear:At,length:Tt,key:Nt,keys:Lt,dropInstance:$t},Dt=function(o,n){return o===n||typeof o=="number"&&typeof n=="number"&&isNaN(o)&&isNaN(n)},jt=function(o,n){for(var a=o.length,s=0;s<a;){if(Dt(o[s],n))return!0;s++}return!1},On=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},Pn={},xe={INDEXEDDB:st,WEBSQL:Ct,LOCALSTORAGE:kt},Ft=[xe.INDEXEDDB._driver,xe.WEBSQL._driver,xe.LOCALSTORAGE._driver],Le=["dropInstance"],en=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Le),Mt={description:"",driver:Ft.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ht(e,o){e[o]=function(){var n=arguments;return e.ready().then(function(){return e[o].apply(e,n)})}}function nn(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var n in o)o.hasOwnProperty(n)&&(On(o[n])?arguments[0][n]=o[n].slice():arguments[0][n]=o[n])}return arguments[0]}var Wt=function(){function e(o){m(this,e);for(var n in xe)if(xe.hasOwnProperty(n)){var a=xe[n],s=a._driver;this[n]=s,Ee[s]||this.defineDriver(a)}this._defaultConfig=nn({},Mt),this._config=nn({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":h(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in n){if(a==="storeName"&&(n[a]=n[a].replace(/\W/g,"_")),a==="version"&&typeof n[a]!="number")return new Error("Database version must be a number.");this._config[a]=n[a]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,a,s){var i=new v(function(f,p){try{var w=n._driver,x=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(x);return}for(var S=en.concat("_initStorage"),E=0,B=S.length;E<B;E++){var $=S[E],D=!jt(Le,$);if((D||n[$])&&typeof n[$]!="function"){p(x);return}}var K=function(){for(var Re=function(qt){return function(){var Yt=new Error("Method "+qt+" is not implemented by the current driver"),Nn=v.reject(Yt);return I(Nn,arguments[arguments.length-1]),Nn}},tn=0,Kt=Le.length;tn<Kt;tn++){var rn=Le[tn];n[rn]||(n[rn]=Re(rn))}};K();var U=function(Re){Ee[w]&&console.info("Redefining LocalForage driver: "+w),Ee[w]=n,Pn[w]=Re,f()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(J){p(J)}});return A(i,a,s),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,a,s){var i=Ee[n]?v.resolve(Ee[n]):v.reject(new Error("Driver not found."));return A(i,a,s),i},e.prototype.getSerializer=function(n){var a=v.resolve(Ze);return A(a,n),a},e.prototype.ready=function(n){var a=this,s=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return A(s,n,n),s},e.prototype.setDriver=function(n,a,s){var i=this;On(n)||(n=[n]);var f=this._getSupportedDrivers(n);function p(){i._config.driver=i.driver()}function w(E){return i._extend(E),p(),i._ready=i._initStorage(i._config),i._ready}function x(E){return function(){var B=0;function $(){for(;B<E.length;){var D=E[B];return B++,i._dbInfo=null,i._ready=null,i.getDriver(D).then(w).catch($)}p();var K=new Error("No available storage method found.");return i._driverSet=v.reject(K),i._driverSet}return $()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=S.then(function(){var E=f[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(B){i._driver=B._driver,p(),i._wrapLibraryMethodsWithReady(),i._initDriver=x(f)})}).catch(function(){p();var E=new Error("No available storage method found.");return i._driverSet=v.reject(E),i._driverSet}),A(this._driverSet,a,s),this._driverSet},e.prototype.supports=function(n){return!!Pn[n]},e.prototype._extend=function(n){nn(this,n)},e.prototype._getSupportedDrivers=function(n){for(var a=[],s=0,i=n.length;s<i;s++){var f=n[s];this.supports(f)&&a.push(f)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,a=en.length;n<a;n++)Ht(this,en[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Ut=new Wt;l.exports=Ut},{3:3}]},{},[4])(4)})})(Qn);var To=Qn.exports;const je=Ar(To),Ue=(r={})=>{r.driver??(r.driver=je.INDEXEDDB);const t=je.createInstance(r);return{keys:async()=>t.keys(),hasItem:async u=>{const g=u.toString();return t.keys().then(_=>_.includes(g))},getItem:async u=>t.getItem(u.toString()),setItem:async(u,g)=>t.setItem(u.toString(),g),removeItem:async u=>t.removeItem(u.toString()),getAllItems:async()=>Promise.all((await t.keys()).map(u=>t.getItem(u)))}},dn=(r,t)=>{const c=Me(typeof t=="function"?t():t);let l=!1;return Cr(c,async()=>{l&&await je.setItem(r,Sr(c))}),je.getItem(r).then(d=>{d&&Object.assign(c,d),l=!0}),c},Oe=Ue({name:"snapshot",version:1}),Bo=Oe.setItem;Oe.setItem=async(r,t)=>{const c={...t,nodes:[]};return await Jn.setItem(r,c),Bo(r,t)};const zo=Oe.removeItem;Oe.removeItem=async r=>{await Promise.all([zo(r),Jn.removeItem(r),Zn.removeItem(r)])};const Jn=Ue({name:"shallowSnapshot",version:1}),Zn=Ue({name:"screenshot",version:1}),qo=async(r,t)=>{await Oe.setItem(r.id,r),await Zn.setItem(r.id,t)};Ue({name:"cache",version:1});const Yo=dn("url",{}),Vo=dn("githubJpg",{}),Xo=dn("githubZip",{});export{Oe as a,Io as b,Wo as c,jo as d,Xo as e,Rr as f,Uo as g,Zn as h,Ae as i,Be as j,Ko as k,Vo as l,yo as m,Fo as n,Ho as o,Mo as p,No as q,Lo as r,Jn as s,qo as t,Yo as u,De as v,Ar as w,un as x};
//# sourceMappingURL=storage-b6006a5d.js.map
