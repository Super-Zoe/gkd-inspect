{"version":3,"file":"SnapshotPage-7581a14b.js","sources":["../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_utils/vue/create-data-key.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_internal/icons/ChevronLeft.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_internal/icons/Switcher.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/Collapse.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/CollapseItemContent.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/CollapseItem.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/styles/_common.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Table.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Th.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Tr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Td.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Thead.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Tbody.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree-select/src/interface.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/interface.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeSwitcher.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeCheckbox.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeContent.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/dnd.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/utils.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNode.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/keyboard.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/MotionWrapper.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/Tree.js","../../src/utils/index.ts","../../src/components/DraggableCard.vue","../../src/components/AttrCard.vue","../../src/components/ScreenshotCard.vue","../../src/selector_core/data/BinaryExpression.ts","../../src/selector_core/data/CompareOperator.ts","../../src/selector_core/data/ConnectOperator.ts","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/all.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/any.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/asIterable.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/associate.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/associateBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/average.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/chunk.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/contains.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/count.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/distinct.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/distinctBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/drop.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/dropWhile.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/elementAt.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/elementAtOrElse.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/elementAtOrNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/filter.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/filterIndexed.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/filterNot.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/filterNotNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/first.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/firstOrNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/flatMap.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/flatten.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/fold.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/foldIndexed.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/forEach.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/forEachIndexed.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/groupBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/indexOf.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/indexOfFirst.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/indexOfLast.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/joinToString.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/last.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/lastOrNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/map.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/mapIndexed.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/mapNotNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/max.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/maxBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/maxWith.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/merge.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/min.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/minBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/minus.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/minWith.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/none.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/onEach.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/partition.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/plus.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/reduce.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/reduceIndexed.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/reverse.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/single.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/singleOrNull.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/createComparatorFactory.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sorted.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sortedBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sortedByDescending.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sortedDescending.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sortedWith.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sum.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/sumBy.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/take.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/takeWhile.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/toArray.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/toMap.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/toSet.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/unzip.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/withIndex.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/zip.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/GeneratorIterator.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/GeneratorSeedIterator.js","../../node_modules/.pnpm/sequency@0.20.0/node_modules/sequency/lib/Sequence.js","../../src/selector_core/kotlin.ts","../../src/selector_core/data/PolynomialExpression.ts","../../src/selector_core/data/ConnectSegment.ts","../../src/selector_core/data/ConnectWrapper.ts","../../src/selector_core/data/PropertySegment.ts","../../src/selector_core/data/PropertyWrapper.ts","../../src/selector_core/parser/ExtSyntaxError.ts","../../src/selector_core/parser/Parser.ts","../../src/selector_core/parser/ParserResult.ts","../../src/selector_core/parser/ParserSet.ts","../../src/selector_core/Selector.ts","../../src/selector_core/NodeExt.ts","../../src/utils/selector.ts","../../src/components/SearchCard.vue","../../src/components/WindowCard.vue","../../src/views/SnapshotPage.vue"],"sourcesContent":["export function createDataKey(key) {\n    return typeof key === 'string' ? `s-${key}` : `n-${key}`;\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'ChevronLeft',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Switcher',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\" },\n            h(\"path\", { d: \"M12 8l10 8l-10 8z\" })));\n    }\n});\n","import { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { fontWeight, textColor1, textColor2, textColorDisabled, dividerColor, fontSize } = vars;\n    return {\n        titleFontSize: fontSize,\n        titleFontWeight: fontWeight,\n        dividerColor,\n        titleTextColor: textColor1,\n        titleTextColorDisabled: textColorDisabled,\n        fontSize,\n        textColor: textColor2,\n        arrowColor: textColor2,\n        arrowColorDisabled: textColorDisabled,\n        itemMargin: '16px 0 0 0',\n        titlePadding: '16px 0 0 0'\n    };\n};\nconst collapseLight = {\n    name: 'Collapse',\n    common: commonLight,\n    self\n};\nexport default collapseLight;\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr';\n// vars:\n// --n-font-size\n// --n-bezier\n// --n-text-color\n// --n-divider-color\n// --n-title-padding\n// --n-title-font-size\n// --n-title-text-color\n// --n-title-font-weight\n// --n-arrow-color\n// --n-arrow-color-disabled\n// --n-title-text-color-disabled\n// --n-item-margin\nexport default cB('collapse', 'width: 100%;', [cB('collapse-item', `\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n transition:\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n margin: var(--n-item-margin);\n `, [cM('disabled', [cE('header', 'cursor: not-allowed;', [cE('header-main', `\n color: var(--n-title-text-color-disabled);\n `), cB('collapse-item-arrow', `\n color: var(--n-arrow-color-disabled);\n `)])]), cB('collapse-item', 'margin-left: 32px;'), c('&:first-child', 'margin-top: 0;'), c('&:first-child >', [cE('header', 'padding-top: 0;')]), cM('left-arrow-placement', [cE('header', [cB('collapse-item-arrow', 'margin-right: 4px;')])]), cM('right-arrow-placement', [cE('header', [cB('collapse-item-arrow', 'margin-left: 4px;')])]), cE('content-wrapper', [cE('content-inner', 'padding-top: 16px;'), fadeInHeightExpandTransition({\n  duration: '0.15s'\n})]), cM('active', [cE('header', [cM('active', [cB('collapse-item-arrow', 'transform: rotate(90deg);')])])]), c('&:not(:first-child)', 'border-top: 1px solid var(--n-divider-color);'), cE('header', `\n font-size: var(--n-title-font-size);\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n transition: color .3s var(--n-bezier);\n position: relative;\n padding: var(--n-title-padding);\n color: var(--n-title-text-color);\n cursor: pointer;\n `, [cE('header-main', `\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n flex: 1;\n color: var(--n-title-text-color);\n `), cE('header-extra', `\n display: flex;\n align-items: center;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cB('collapse-item-arrow', `\n display: flex;\n transition:\n transform .15s var(--n-bezier),\n color .3s var(--n-bezier);\n font-size: 18px;\n color: var(--n-arrow-color);\n `)])])]);","import { computed, h, defineComponent, provide, ref } from 'vue';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { call, createInjectionKey, warn } from '../../_utils';\nimport { collapseLight } from '../styles';\nimport style from './styles/index.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nexport const collapseProps = Object.assign(Object.assign({}, useTheme.props), { defaultExpandedNames: {\n        type: [Array, String],\n        default: null\n    }, expandedNames: [Array, String], arrowPlacement: {\n        type: String,\n        default: 'left'\n    }, accordion: {\n        type: Boolean,\n        default: false\n    }, displayDirective: {\n        type: String,\n        default: 'if'\n    }, onItemHeaderClick: [Function, Array], 'onUpdate:expandedNames': [Function, Array], onUpdateExpandedNames: [Function, Array], \n    // deprecated\n    onExpandedNamesChange: {\n        type: [Function, Array],\n        validator: () => {\n            if (process.env.NODE_ENV !== 'production') {\n                warn('collapse', '`on-expanded-names-change` is deprecated, please use `on-update:expanded-names` instead.');\n            }\n            return true;\n        },\n        default: undefined\n    } });\nexport const collapseInjectionKey = createInjectionKey('n-collapse');\nexport default defineComponent({\n    name: 'Collapse',\n    props: collapseProps,\n    setup(props, { slots }) {\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const uncontrolledExpandedNamesRef = ref(props.defaultExpandedNames);\n        const controlledExpandedNamesRef = computed(() => props.expandedNames);\n        const mergedExpandedNamesRef = useMergedState(controlledExpandedNamesRef, uncontrolledExpandedNamesRef);\n        const themeRef = useTheme('Collapse', '-collapse', style, collapseLight, props, mergedClsPrefixRef);\n        function doUpdateExpandedNames(names) {\n            const { 'onUpdate:expandedNames': _onUpdateExpandedNames, onUpdateExpandedNames, onExpandedNamesChange } = props;\n            if (onUpdateExpandedNames) {\n                call(onUpdateExpandedNames, names);\n            }\n            if (_onUpdateExpandedNames) {\n                call(_onUpdateExpandedNames, names);\n            }\n            if (onExpandedNamesChange) {\n                call(onExpandedNamesChange, names);\n            }\n            uncontrolledExpandedNamesRef.value = names;\n        }\n        function doItemHeaderClick(info) {\n            const { onItemHeaderClick } = props;\n            if (onItemHeaderClick) {\n                call(onItemHeaderClick, info);\n            }\n        }\n        function toggleItem(collapse, name, event) {\n            const { accordion } = props;\n            const { value: expandedNames } = mergedExpandedNamesRef;\n            if (accordion) {\n                if (collapse) {\n                    doUpdateExpandedNames([name]);\n                    doItemHeaderClick({ name, expanded: true, event });\n                }\n                else {\n                    doUpdateExpandedNames([]);\n                    doItemHeaderClick({ name, expanded: false, event });\n                }\n            }\n            else {\n                if (!Array.isArray(expandedNames)) {\n                    doUpdateExpandedNames([name]);\n                    doItemHeaderClick({ name, expanded: true, event });\n                }\n                else {\n                    const activeNames = expandedNames.slice();\n                    const index = activeNames.findIndex((activeName) => name === activeName);\n                    if (~index) {\n                        activeNames.splice(index, 1);\n                        doUpdateExpandedNames(activeNames);\n                        doItemHeaderClick({ name, expanded: false, event });\n                    }\n                    else {\n                        activeNames.push(name);\n                        doUpdateExpandedNames(activeNames);\n                        doItemHeaderClick({ name, expanded: true, event });\n                    }\n                }\n            }\n        }\n        provide(collapseInjectionKey, {\n            props,\n            mergedClsPrefixRef,\n            expandedNamesRef: mergedExpandedNamesRef,\n            slots,\n            toggleItem\n        });\n        const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { titleFontWeight, dividerColor, titlePadding, titleTextColor, titleTextColorDisabled, textColor, arrowColor, fontSize, titleFontSize, arrowColorDisabled, itemMargin } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-divider-color': dividerColor,\n                '--n-title-padding': titlePadding,\n                '--n-title-font-size': titleFontSize,\n                '--n-title-text-color': titleTextColor,\n                '--n-title-text-color-disabled': titleTextColorDisabled,\n                '--n-title-font-weight': titleFontWeight,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-item-margin': itemMargin\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('collapse', undefined, cssVarsRef, props)\n            : undefined;\n        return {\n            rtlEnabled: rtlEnabledRef,\n            mergedTheme: themeRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { class: [\n                `${this.mergedClsPrefix}-collapse`,\n                this.rtlEnabled && `${this.mergedClsPrefix}-collapse--rtl`,\n                this.themeClass\n            ], style: this.cssVars }, this.$slots));\n    }\n});\n","import { h, withDirectives, vShow, defineComponent, toRef } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { NFadeInExpandTransition } from '../../_internal';\nexport default defineComponent({\n    name: 'CollapseItemContent',\n    props: {\n        displayDirective: {\n            type: String,\n            required: true\n        },\n        show: Boolean,\n        clsPrefix: {\n            type: String,\n            required: true\n        }\n    },\n    setup(props) {\n        const onceTrueRef = useFalseUntilTruthy(toRef(props, 'show'));\n        return {\n            onceTrue: onceTrueRef\n        };\n    },\n    render() {\n        return (h(NFadeInExpandTransition, null, {\n            default: () => {\n                const { show, displayDirective, onceTrue, clsPrefix } = this;\n                const useVShow = displayDirective === 'show' && onceTrue;\n                const contentNode = (h(\"div\", { class: `${clsPrefix}-collapse-item__content-wrapper` },\n                    h(\"div\", { class: `${clsPrefix}-collapse-item__content-inner` }, this.$slots)));\n                return useVShow\n                    ? withDirectives(contentNode, [[vShow, show]])\n                    : show\n                        ? contentNode\n                        : null;\n            }\n        }));\n    }\n});\n","import { h, defineComponent, inject, computed } from 'vue';\nimport { createId } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from '../../_internal/icons';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { useConfig } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { throwError, resolveSlotWithProps, resolveWrappedSlotWithProps } from '../../_utils';\nimport { collapseInjectionKey } from './Collapse';\nimport NCollapseItemContent from './CollapseItemContent';\nexport const collapseItemProps = {\n    title: String,\n    name: [String, Number],\n    disabled: Boolean,\n    displayDirective: String\n};\nexport default defineComponent({\n    name: 'CollapseItem',\n    props: collapseItemProps,\n    setup(props) {\n        const { mergedRtlRef } = useConfig(props);\n        const randomName = createId();\n        const mergedNameRef = useMemo(() => {\n            var _a;\n            return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n        });\n        const NCollapse = inject(collapseInjectionKey);\n        if (!NCollapse) {\n            throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n        }\n        const { expandedNamesRef, props: collapseProps, mergedClsPrefixRef, slots: collapseSlots } = NCollapse;\n        const collapsedRef = computed(() => {\n            const { value: expandedNames } = expandedNamesRef;\n            if (Array.isArray(expandedNames)) {\n                const { value: name } = mergedNameRef;\n                return !~expandedNames.findIndex((expandedName) => expandedName === name);\n            }\n            else if (expandedNames) {\n                const { value: name } = mergedNameRef;\n                return name !== expandedNames;\n            }\n            return true;\n        });\n        const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n        return {\n            rtlEnabled: rtlEnabledRef,\n            collapseSlots,\n            randomName,\n            mergedClsPrefix: mergedClsPrefixRef,\n            collapsed: collapsedRef,\n            mergedDisplayDirective: computed(() => {\n                const { displayDirective } = props;\n                if (displayDirective) {\n                    return displayDirective;\n                }\n                else {\n                    return collapseProps.displayDirective;\n                }\n            }),\n            arrowPlacement: computed(() => {\n                return collapseProps.arrowPlacement;\n            }),\n            handleClick(e) {\n                if (NCollapse && !props.disabled) {\n                    NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n                }\n            }\n        };\n    },\n    render() {\n        const { collapseSlots, $slots, arrowPlacement, collapsed, mergedDisplayDirective, mergedClsPrefix, disabled } = this;\n        const headerNode = resolveSlotWithProps($slots.header, { collapsed }, () => [this.title]);\n        const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n        const arrowSlot = $slots.arrow || collapseSlots.arrow;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-collapse-item`,\n                `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`,\n                disabled && `${mergedClsPrefix}-collapse-item--disabled`,\n                !collapsed && `${mergedClsPrefix}-collapse-item--active`\n            ] },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-collapse-item__header`,\n                    !collapsed && `${mergedClsPrefix}-collapse-item__header--active`\n                ] },\n                h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-main`, onClick: this.handleClick },\n                    arrowPlacement === 'right' && headerNode,\n                    h(\"div\", { class: `${mergedClsPrefix}-collapse-item-arrow`, key: this.rtlEnabled ? 0 : 1 }, resolveSlotWithProps(arrowSlot, { collapsed }, () => {\n                        var _a;\n                        return [\n                            h(NBaseIcon, { clsPrefix: mergedClsPrefix }, {\n                                default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : (() => this.rtlEnabled ? (h(ArrowLeftIcon, null)) : (h(ArrowRightIcon, null)))\n                            })\n                        ];\n                    })),\n                    arrowPlacement === 'left' && headerNode),\n                resolveWrappedSlotWithProps(headerExtraSlot, { collapsed }, (children) => (h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-extra`, onClick: this.handleClick }, children)))),\n            h(NCollapseItemContent, { clsPrefix: mergedClsPrefix, displayDirective: mergedDisplayDirective, show: !collapsed }, $slots)));\n    }\n});\n","export default {\n    thPaddingSmall: '6px',\n    thPaddingMedium: '12px',\n    thPaddingLarge: '12px',\n    tdPaddingSmall: '6px',\n    tdPaddingMedium: '12px',\n    tdPaddingLarge: '12px'\n};\n","import { composite } from 'seemly';\nimport sizeVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { dividerColor, cardColor, modalColor, popoverColor, tableHeaderColor, tableColorStriped, textColor1, textColor2, borderRadius, fontWeightStrong, lineHeight, fontSizeSmall, fontSizeMedium, fontSizeLarge } = vars;\n    return Object.assign(Object.assign({}, sizeVariables), { fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge,\n        lineHeight,\n        borderRadius, borderColor: composite(cardColor, dividerColor), borderColorModal: composite(modalColor, dividerColor), borderColorPopover: composite(popoverColor, dividerColor), tdColor: cardColor, tdColorModal: modalColor, tdColorPopover: popoverColor, tdColorStriped: composite(cardColor, tableColorStriped), tdColorStripedModal: composite(modalColor, tableColorStriped), tdColorStripedPopover: composite(popoverColor, tableColorStriped), thColor: composite(cardColor, tableHeaderColor), thColorModal: composite(modalColor, tableHeaderColor), thColorPopover: composite(popoverColor, tableHeaderColor), thTextColor: textColor1, tdTextColor: textColor2, thFontWeight: fontWeightStrong });\n};\nconst tableLight = {\n    name: 'Table',\n    common: commonLight,\n    self\n};\nexport default tableLight;\n","import { changeColor } from 'seemly';\nimport { checkboxLight } from '../../checkbox/styles';\nimport { emptyLight } from '../../empty/styles';\nimport { scrollbarLight } from '../../_internal/scrollbar/styles';\nimport { commonLight } from '../../_styles/common';\nimport { createTheme } from '../../_mixins/use-theme';\nexport const self = (vars) => {\n    const { borderRadiusSmall, hoverColor, pressedColor, primaryColor, textColor3, textColor2, textColorDisabled, fontSize } = vars;\n    return {\n        fontSize,\n        nodeBorderRadius: borderRadiusSmall,\n        nodeColorHover: hoverColor,\n        nodeColorPressed: pressedColor,\n        nodeColorActive: changeColor(primaryColor, { alpha: 0.1 }),\n        arrowColor: textColor3,\n        nodeTextColor: textColor2,\n        nodeTextColorDisabled: textColorDisabled,\n        loadingColor: primaryColor,\n        dropMarkColor: primaryColor\n    };\n};\nconst treeLight = createTheme({\n    name: 'Tree',\n    common: commonLight,\n    peers: {\n        Checkbox: checkboxLight,\n        Scrollbar: scrollbarLight,\n        Empty: emptyLight\n    },\n    self\n});\nexport default treeLight;\n","import { c, cB, cM, cNotM, insideModal, insidePopover } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-td-color\n// --n-td-color-modal\n// --n-td-color-popover\n// --n-td-text-color\n// --n-border-color\n// --n-border-color-modal\n// --n-border-color-popover\n// --n-border-radius\n// --n-font-size\n// --n-th-color\n// --n-th-color-modal\n// --n-th-color-popover\n// --n-th-font-weight\n// --n-th-text-color\n// --n-line-height\n// --n-td-padding\n// --n-th-padding\nexport default c([cB('table', `\n font-size: var(--n-font-size);\n font-variant-numeric: tabular-nums;\n line-height: var(--n-line-height);\n width: 100%;\n border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;\n text-align: left;\n border-collapse: separate;\n border-spacing: 0;\n overflow: hidden;\n background-color: var(--n-td-color);\n border-color: var(--n-merged-border-color);\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n --n-merged-border-color: var(--n-border-color);\n `, [c('th', `\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n text-align: inherit;\n padding: var(--n-th-padding);\n vertical-align: inherit;\n text-transform: none;\n border: 0px solid var(--n-merged-border-color);\n font-weight: var(--n-th-font-weight);\n color: var(--n-th-text-color);\n background-color: var(--n-th-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n border-right: 1px solid var(--n-merged-border-color);\n `, [c('&:last-child', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), c('td', `\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n padding: var(--n-td-padding);\n color: var(--n-td-text-color);\n background-color: var(--n-td-color);\n border: 0px solid var(--n-merged-border-color);\n border-right: 1px solid var(--n-merged-border-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n `, [c('&:last-child', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), cM('bordered', `\n border: 1px solid var(--n-merged-border-color);\n border-radius: var(--n-border-radius);\n `, [c('tr', [c('&:last-child', [c('td', `\n border-bottom: 0 solid var(--n-merged-border-color);\n `)])])]), cM('single-line', [c('th', `\n border-right: 0px solid var(--n-merged-border-color);\n `), c('td', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), cM('single-column', [c('tr', [c('&:not(:last-child)', [c('td', `\n border-bottom: 0px solid var(--n-merged-border-color);\n `)])])]), cM('striped', [c('tr:nth-of-type(even)', [c('td', 'background-color: var(--n-td-color-striped)')])]), cNotM('bottom-bordered', [c('tr', [c('&:last-child', [c('td', `\n border-bottom: 0px solid var(--n-merged-border-color);\n `)])])])]), insideModal(cB('table', `\n background-color: var(--n-td-color-modal);\n --n-merged-border-color: var(--n-border-color-modal);\n `, [c('th', `\n background-color: var(--n-th-color-modal);\n `), c('td', `\n background-color: var(--n-td-color-modal);\n `)])), insidePopover(cB('table', `\n background-color: var(--n-td-color-popover);\n --n-merged-border-color: var(--n-border-color-popover);\n `, [c('th', `\n background-color: var(--n-th-color-popover);\n `), c('td', `\n background-color: var(--n-td-color-popover);\n `)]))]);","import { defineComponent, computed, h } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { createKey } from '../../_utils';\nimport { tableLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const tableProps = Object.assign(Object.assign({}, useTheme.props), { bordered: {\n        type: Boolean,\n        default: true\n    }, bottomBordered: {\n        type: Boolean,\n        default: true\n    }, singleLine: {\n        type: Boolean,\n        default: true\n    }, striped: Boolean, singleColumn: Boolean, size: {\n        type: String,\n        default: 'medium'\n    } });\nexport default defineComponent({\n    name: 'Table',\n    props: tableProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Table', '-table', style, tableLight, props, mergedClsPrefixRef);\n        const rtlEnabledRef = useRtl('Table', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { self: { borderColor, tdColor, tdColorModal, tdColorPopover, thColor, thColorModal, thColorPopover, thTextColor, tdTextColor, borderRadius, thFontWeight, lineHeight, borderColorModal, borderColorPopover, tdColorStriped, tdColorStripedModal, tdColorStripedPopover, [createKey('fontSize', size)]: fontSize, [createKey('tdPadding', size)]: tdPadding, [createKey('thPadding', size)]: thPadding }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-td-color': tdColor,\n                '--n-td-color-modal': tdColorModal,\n                '--n-td-color-popover': tdColorPopover,\n                '--n-td-text-color': tdTextColor,\n                '--n-border-color': borderColor,\n                '--n-border-color-modal': borderColorModal,\n                '--n-border-color-popover': borderColorPopover,\n                '--n-border-radius': borderRadius,\n                '--n-font-size': fontSize,\n                '--n-th-color': thColor,\n                '--n-th-color-modal': thColorModal,\n                '--n-th-color-popover': thColorPopover,\n                '--n-th-font-weight': thFontWeight,\n                '--n-th-text-color': thTextColor,\n                '--n-line-height': lineHeight,\n                '--n-td-padding': tdPadding,\n                '--n-th-padding': thPadding,\n                '--n-td-color-striped': tdColorStriped,\n                '--n-td-color-striped-modal': tdColorStripedModal,\n                '--n-td-color-striped-popover': tdColorStripedPopover\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('table', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedClsPrefix } = this;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"table\", { class: [\n                `${mergedClsPrefix}-table`,\n                this.themeClass,\n                {\n                    [`${mergedClsPrefix}-table--rtl`]: this.rtlEnabled,\n                    [`${mergedClsPrefix}-table--bottom-bordered`]: this.bottomBordered,\n                    [`${mergedClsPrefix}-table--bordered`]: this.bordered,\n                    [`${mergedClsPrefix}-table--single-line`]: this.singleLine,\n                    [`${mergedClsPrefix}-table--single-column`]: this.singleColumn,\n                    [`${mergedClsPrefix}-table--striped`]: this.striped\n                }\n            ], style: this.cssVars }, this.$slots));\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Th',\n    render() {\n        return h(\"th\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Tr',\n    render() {\n        return h(\"tr\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Td',\n    render() {\n        return h(\"td\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Thead',\n    render() {\n        return h(\"thead\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Tbody',\n    render() {\n        return h(\"tbody\", null, this.$slots);\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const treeSelectInjectionKey = createInjectionKey('n-tree-select');\n","import { createInjectionKey } from '../../_utils';\nexport const treeInjectionKey = createInjectionKey('n-tree');\n","import { h, defineComponent, inject } from 'vue';\nimport { SwitcherIcon } from '../../_internal/icons';\nimport { NIconSwitchTransition, NBaseLoading, NBaseIcon } from '../../_internal';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeSwitcher',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        expanded: Boolean,\n        selected: Boolean,\n        hide: Boolean,\n        loading: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { renderSwitcherIconRef } = inject(treeInjectionKey, null);\n        return () => {\n            const { clsPrefix } = props;\n            return (h(\"span\", { \"data-switcher\": true, class: [\n                    `${clsPrefix}-tree-node-switcher`,\n                    props.expanded && `${clsPrefix}-tree-node-switcher--expanded`,\n                    props.hide && `${clsPrefix}-tree-node-switcher--hide`\n                ], onClick: props.onClick },\n                h(\"div\", { class: `${clsPrefix}-tree-node-switcher__icon` },\n                    h(NIconSwitchTransition, null, {\n                        default: () => {\n                            if (props.loading) {\n                                return (h(NBaseLoading, { clsPrefix: clsPrefix, key: \"loading\", radius: 85, strokeWidth: 20 }));\n                            }\n                            const { value: renderSwitcherIcon } = renderSwitcherIconRef;\n                            return renderSwitcherIcon ? (renderSwitcherIcon({\n                                expanded: props.expanded,\n                                selected: props.selected\n                            })) : (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"switcher\" }, { default: () => h(SwitcherIcon, null) }));\n                        }\n                    }))));\n        };\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { NCheckbox } from '../../checkbox';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeNodeCheckbox',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        right: Boolean,\n        focusable: Boolean,\n        disabled: Boolean,\n        checked: Boolean,\n        indeterminate: Boolean,\n        onCheck: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        function doCheck(value) {\n            const { onCheck } = props;\n            if (onCheck) {\n                onCheck(value);\n            }\n        }\n        function handleUpdateValue(value) {\n            if (props.indeterminate) {\n                doCheck(false);\n            }\n            else {\n                doCheck(value);\n            }\n        }\n        return {\n            handleUpdateValue,\n            mergedTheme: NTree.mergedThemeRef\n        };\n    },\n    render() {\n        const { clsPrefix, mergedTheme, checked, indeterminate, disabled, focusable, handleUpdateValue } = this;\n        return (h(\"span\", { class: [\n                `${clsPrefix}-tree-node-checkbox`,\n                this.right && `${clsPrefix}-tree-node-checkbox--right`\n            ], \"data-checkbox\": true },\n            h(NCheckbox, { focusable: focusable, disabled: disabled, theme: mergedTheme.peers.Checkbox, themeOverrides: mergedTheme.peerOverrides.Checkbox, checked: checked, indeterminate: indeterminate, onUpdateChecked: handleUpdateValue })));\n    }\n});\n","import { h, defineComponent, ref, inject } from 'vue';\nimport { render } from '../../_utils';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'TreeNodeContent',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        disabled: Boolean,\n        checked: Boolean,\n        selected: Boolean,\n        onClick: Function,\n        onDragstart: Function,\n        tmNode: {\n            type: Object,\n            required: true\n        },\n        nodeProps: Object\n    },\n    setup(props) {\n        const { renderLabelRef, renderPrefixRef, renderSuffixRef, labelFieldRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(treeInjectionKey);\n        const selfRef = ref(null);\n        function doClick(e) {\n            const { onClick } = props;\n            if (onClick)\n                onClick(e);\n        }\n        function handleClick(e) {\n            doClick(e);\n        }\n        return {\n            selfRef,\n            renderLabel: renderLabelRef,\n            renderPrefix: renderPrefixRef,\n            renderSuffix: renderSuffixRef,\n            labelField: labelFieldRef,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, labelField, nodeProps, checked = false, selected = false, renderLabel, renderPrefix, renderSuffix, handleClick, onDragstart, tmNode: { rawNode, rawNode: { prefix, suffix, [labelField]: label } } } = this;\n        return (h(\"span\", Object.assign({}, nodeProps, { ref: \"selfRef\", class: [`${clsPrefix}-tree-node-content`, nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class], onClick: handleClick, draggable: onDragstart === undefined ? undefined : true, onDragstart: onDragstart }),\n            renderPrefix || prefix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__prefix` }, renderPrefix\n                ? renderPrefix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(prefix))) : null,\n            h(\"div\", { class: `${clsPrefix}-tree-node-content__text` }, renderLabel\n                ? renderLabel({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(label)),\n            renderSuffix || suffix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__suffix` }, renderSuffix\n                ? renderSuffix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(suffix))) : null));\n    }\n});\n","import { h } from 'vue';\nexport function renderDropMark({ position, offsetLevel, indent, el }) {\n    const style = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        right: 0\n    };\n    if (position === 'inside') {\n        style.left = 0;\n        style.top = 0;\n        style.bottom = 0;\n        style.borderRadius = 'inherit';\n        style.boxShadow = 'inset 0 0 0 2px var(--n-drop-mark-color)';\n    }\n    else {\n        const cssPosition = position === 'before' ? 'top' : 'bottom';\n        style[cssPosition] = 0;\n        // The left prop should be modified when tree's style is changed\n        // Maybe it is possible to use content left\n        style.left = `${el.offsetLeft + 6 - offsetLevel * indent}px`;\n        style.height = '2px';\n        style.backgroundColor = 'var(--n-drop-mark-color)';\n        style.transformOrigin = cssPosition;\n        style.borderRadius = '1px';\n        style.transform =\n            position === 'before' ? 'translateY(-4px)' : 'translateY(4px)';\n    }\n    return h(\"div\", { style: style });\n}\nexport function defaultAllowDrop({ dropPosition, node }) {\n    if (node.isLeaf === false)\n        return true;\n    if (node.children) {\n        return true;\n    }\n    return dropPosition !== 'inside';\n}\n","import { computed } from 'vue';\nimport { isBrowser } from '../../_utils';\nexport function useMergedCheckStrategy(props) {\n    return computed(() => (props.leafOnly ? 'child' : props.checkStrategy));\n}\nexport function isNodeDisabled(node, disabledField) {\n    return !!node.rawNode[disabledField];\n}\nfunction traverse(nodes, childrenField, callback, callbackAfter) {\n    nodes === null || nodes === void 0 ? void 0 : nodes.forEach((node) => {\n        callback(node);\n        traverse(node[childrenField], childrenField, callback, callbackAfter);\n        callbackAfter(node);\n    });\n}\nexport function keysWithFilter(nodes, pattern, keyField, childrenField, filter) {\n    const keys = new Set();\n    const highlightKeySet = new Set();\n    const path = [];\n    traverse(nodes, childrenField, (node) => {\n        path.push(node);\n        if (filter(pattern, node)) {\n            highlightKeySet.add(node[keyField]);\n            for (let i = path.length - 2; i >= 0; --i) {\n                if (!keys.has(path[i][keyField])) {\n                    keys.add(path[i][keyField]);\n                }\n                else {\n                    return;\n                }\n            }\n        }\n    }, () => {\n        path.pop();\n    });\n    return {\n        expandedKeys: Array.from(keys),\n        highlightKeySet\n    };\n}\nconst emptyImage = null;\nif (isBrowser && Image) {\n    const emptyImage = new Image();\n    emptyImage.src =\n        'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n}\nexport { emptyImage };\nexport function filterTree(tree, filter, pattern, keyField, childrenField) {\n    const visitedTailKeys = new Set();\n    const visitedNonTailKeys = new Set();\n    const highlightKeySet = new Set();\n    const expandedKeys = [];\n    const filteredTree = [];\n    const path = [];\n    function visit(t) {\n        t.forEach((n) => {\n            path.push(n);\n            if (filter(pattern, n)) {\n                visitedTailKeys.add(n[keyField]);\n                highlightKeySet.add(n[keyField]);\n                for (let i = path.length - 2; i >= 0; --i) {\n                    const key = path[i][keyField];\n                    if (!visitedNonTailKeys.has(key)) {\n                        visitedNonTailKeys.add(key);\n                        if (visitedTailKeys.has(key)) {\n                            visitedTailKeys.delete(key);\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            const children = n[childrenField];\n            if (children) {\n                visit(children);\n            }\n            path.pop();\n        });\n    }\n    visit(tree);\n    function build(t, sibs) {\n        t.forEach((n) => {\n            const key = n[keyField];\n            const isVisitedTail = visitedTailKeys.has(key);\n            const isVisitedNonTail = visitedNonTailKeys.has(key);\n            if (!isVisitedTail && !isVisitedNonTail)\n                return;\n            const children = n[childrenField];\n            if (children) {\n                if (isVisitedTail) {\n                    // If it is visited path tail, use origin node\n                    sibs.push(n);\n                }\n                else {\n                    // It it is not visited path tail, use cloned node\n                    expandedKeys.push(key);\n                    const clonedNode = Object.assign(Object.assign({}, n), { [childrenField]: [] });\n                    sibs.push(clonedNode);\n                    build(children, clonedNode[childrenField]);\n                }\n            }\n            else {\n                sibs.push(n);\n            }\n        });\n    }\n    build(tree, filteredTree);\n    return {\n        filteredTree,\n        highlightKeySet,\n        expandedKeys\n    };\n}\n","import { h, inject, computed, defineComponent, ref, onMounted } from 'vue';\nimport { useMemo } from 'vooks';\nimport { happensIn, repeat } from 'seemly';\nimport { createDataKey } from '../../_utils';\nimport NTreeNodeSwitcher from './TreeNodeSwitcher';\nimport NTreeNodeCheckbox from './TreeNodeCheckbox';\nimport NTreeNodeContent from './TreeNodeContent';\nimport { treeInjectionKey } from './interface';\nimport { renderDropMark } from './dnd';\nimport { isNodeDisabled } from './utils';\nconst TreeNode = defineComponent({\n    name: 'TreeNode',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        const { droppingNodeParentRef, droppingMouseNodeRef, draggingNodeRef, droppingPositionRef, droppingOffsetLevelRef, nodePropsRef, indentRef, blockLineRef, checkboxPlacementRef, checkOnClickRef, disabledFieldRef } = NTree;\n        const checkboxDisabledRef = useMemo(() => !!props.tmNode.rawNode.checkboxDisabled);\n        const nodeIsDisabledRef = useMemo(() => {\n            return isNodeDisabled(props.tmNode, disabledFieldRef.value);\n        });\n        const disabledRef = useMemo(() => NTree.disabledRef.value || nodeIsDisabledRef.value);\n        const resolvedNodePropsRef = computed(() => {\n            const { value: nodeProps } = nodePropsRef;\n            if (!nodeProps)\n                return undefined;\n            return nodeProps({ option: props.tmNode.rawNode });\n        });\n        // used for drag and drop\n        const contentInstRef = ref(null);\n        // must be non-reactive\n        const contentElRef = { value: null };\n        onMounted(() => {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            contentElRef.value = contentInstRef.value.$el;\n        });\n        function handleSwitcherClick() {\n            const { tmNode } = props;\n            if (!tmNode.isLeaf && !tmNode.shallowLoaded) {\n                if (!NTree.loadingKeysRef.value.has(tmNode.key)) {\n                    NTree.loadingKeysRef.value.add(tmNode.key);\n                }\n                else {\n                    return;\n                }\n                const { onLoadRef: { value: onLoad } } = NTree;\n                if (onLoad) {\n                    void onLoad(tmNode.rawNode)\n                        .then((value) => {\n                        if (value !== false) {\n                            NTree.handleSwitcherClick(tmNode);\n                        }\n                    })\n                        .finally(() => {\n                        NTree.loadingKeysRef.value.delete(tmNode.key);\n                    });\n                }\n            }\n            else {\n                NTree.handleSwitcherClick(tmNode);\n            }\n        }\n        const selectableRef = useMemo(() => !nodeIsDisabledRef.value &&\n            NTree.selectableRef.value &&\n            (NTree.internalTreeSelect\n                ? NTree.mergedCheckStrategyRef.value !== 'child' ||\n                    (NTree.multipleRef.value && NTree.cascadeRef.value) ||\n                    props.tmNode.isLeaf\n                : true));\n        const checkableRef = useMemo(() => NTree.checkableRef.value &&\n            (NTree.cascadeRef.value ||\n                NTree.mergedCheckStrategyRef.value !== 'child' ||\n                props.tmNode.isLeaf));\n        const checkedRef = useMemo(() => NTree.displayedCheckedKeysRef.value.includes(props.tmNode.key));\n        const mergedCheckOnClickRef = useMemo(() => {\n            const { value: checkable } = checkableRef;\n            if (!checkable)\n                return false;\n            const { value: checkOnClick } = checkOnClickRef;\n            if (typeof checkOnClick === 'boolean') {\n                return checkOnClick;\n            }\n            return checkOnClick(props.tmNode.rawNode);\n        });\n        function _handleClick(e) {\n            const { value: expandOnClick } = NTree.expandOnClickRef;\n            const { value: selectable } = selectableRef;\n            const { value: mergedCheckOnClick } = mergedCheckOnClickRef;\n            if (!selectable && !expandOnClick && !mergedCheckOnClick)\n                return;\n            if (happensIn(e, 'checkbox') || happensIn(e, 'switcher'))\n                return;\n            const { tmNode } = props;\n            if (selectable) {\n                NTree.handleSelect(tmNode);\n            }\n            if (expandOnClick && !tmNode.isLeaf) {\n                handleSwitcherClick();\n            }\n            if (mergedCheckOnClick) {\n                handleCheck(!checkedRef.value);\n            }\n        }\n        function handleContentClick(e) {\n            var _a, _b;\n            if (blockLineRef.value)\n                return;\n            if (!disabledRef.value)\n                _handleClick(e);\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleLineClick(e) {\n            var _a, _b;\n            if (!blockLineRef.value)\n                return;\n            if (!disabledRef.value) {\n                _handleClick(e);\n            }\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleCheck(checked) {\n            NTree.handleCheck(props.tmNode, checked);\n        }\n        // Dnd\n        function handleDragStart(e) {\n            NTree.handleDragStart({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnter(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragEnter({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragOver(e) {\n            e.preventDefault(); // if not prevent, drop event won't be fired...\n            NTree.handleDragOver({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnd(e) {\n            NTree.handleDragEnd({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragLeave(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragLeave({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDrop(e) {\n            e.preventDefault();\n            if (droppingPositionRef.value !== null) {\n                NTree.handleDrop({\n                    event: e,\n                    node: props.tmNode,\n                    dropPosition: droppingPositionRef.value\n                });\n            }\n        }\n        return {\n            showDropMark: useMemo(() => {\n                const { value: draggingNode } = draggingNodeRef;\n                if (!draggingNode)\n                    return;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (!droppingPosition)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (!droppingMouseNode) {\n                    return;\n                }\n                const { tmNode } = props;\n                if (tmNode.key === droppingMouseNode.key)\n                    return true;\n                return false;\n            }),\n            showDropMarkAsParent: useMemo(() => {\n                const { value: droppingNodeParent } = droppingNodeParentRef;\n                if (!droppingNodeParent)\n                    return false;\n                const { tmNode } = props;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (droppingPosition === 'before' || droppingPosition === 'after') {\n                    return droppingNodeParent.key === tmNode.key;\n                }\n                return false;\n            }),\n            pending: useMemo(() => NTree.pendingNodeKeyRef.value === props.tmNode.key),\n            loading: useMemo(() => NTree.loadingKeysRef.value.has(props.tmNode.key)),\n            highlight: useMemo(() => {\n                var _a;\n                return (_a = NTree.highlightKeySetRef.value) === null || _a === void 0 ? void 0 : _a.has(props.tmNode.key);\n            }),\n            checked: checkedRef,\n            indeterminate: useMemo(() => NTree.displayedIndeterminateKeysRef.value.includes(props.tmNode.key)),\n            selected: useMemo(() => NTree.mergedSelectedKeysRef.value.includes(props.tmNode.key)),\n            expanded: useMemo(() => NTree.mergedExpandedKeysRef.value.includes(props.tmNode.key)),\n            disabled: disabledRef,\n            checkable: checkableRef,\n            mergedCheckOnClick: mergedCheckOnClickRef,\n            checkboxDisabled: checkboxDisabledRef,\n            selectable: selectableRef,\n            expandOnClick: NTree.expandOnClickRef,\n            internalScrollable: NTree.internalScrollableRef,\n            draggable: NTree.draggableRef,\n            blockLine: blockLineRef,\n            nodeProps: resolvedNodePropsRef,\n            checkboxFocusable: NTree.internalCheckboxFocusableRef,\n            droppingPosition: droppingPositionRef,\n            droppingOffsetLevel: droppingOffsetLevelRef,\n            indent: indentRef,\n            checkboxPlacement: checkboxPlacementRef,\n            contentInstRef,\n            contentElRef,\n            handleCheck,\n            handleDrop,\n            handleDragStart,\n            handleDragEnter,\n            handleDragOver,\n            handleDragEnd,\n            handleDragLeave,\n            handleLineClick,\n            handleContentClick,\n            handleSwitcherClick\n        };\n    },\n    render() {\n        const { tmNode, clsPrefix, checkable, expandOnClick, selectable, selected, checked, highlight, draggable, blockLine, indent, disabled, pending, internalScrollable, nodeProps, checkboxPlacement } = this;\n        // drag start not inside\n        // it need to be append to node itself, not wrapper\n        const dragEventHandlers = draggable && !disabled\n            ? {\n                onDragenter: this.handleDragEnter,\n                onDragleave: this.handleDragLeave,\n                onDragend: this.handleDragEnd,\n                onDrop: this.handleDrop,\n                onDragover: this.handleDragOver\n            }\n            : undefined;\n        // In non virtual mode, there's no evidence that which element should be\n        // scrolled to, so we need data-key to query the target element.\n        const dataKey = internalScrollable ? createDataKey(tmNode.key) : undefined;\n        const checkboxOnRight = checkboxPlacement === 'right';\n        const checkboxNode = checkable ? (h(NTreeNodeCheckbox, { right: checkboxOnRight, focusable: this.checkboxFocusable, disabled: disabled || this.checkboxDisabled, clsPrefix: clsPrefix, checked: this.checked, indeterminate: this.indeterminate, onCheck: this.handleCheck })) : null;\n        return (h(\"div\", Object.assign({ class: `${clsPrefix}-tree-node-wrapper` }, dragEventHandlers),\n            h(\"div\", Object.assign({}, (blockLine ? nodeProps : undefined), { class: [\n                    `${clsPrefix}-tree-node`,\n                    {\n                        [`${clsPrefix}-tree-node--selected`]: selected,\n                        [`${clsPrefix}-tree-node--checkable`]: checkable,\n                        [`${clsPrefix}-tree-node--highlight`]: highlight,\n                        [`${clsPrefix}-tree-node--pending`]: pending,\n                        [`${clsPrefix}-tree-node--disabled`]: disabled,\n                        [`${clsPrefix}-tree-node--selectable`]: selectable,\n                        [`${clsPrefix}-tree-node--clickable`]: selectable || expandOnClick || this.mergedCheckOnClick\n                    },\n                    nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class\n                ], \"data-key\": dataKey, draggable: draggable && blockLine, onClick: this.handleLineClick, onDragstart: draggable && blockLine && !disabled\n                    ? this.handleDragStart\n                    : undefined }),\n                repeat(tmNode.level, h(\"div\", { class: `${clsPrefix}-tree-node-indent` },\n                    h(\"div\", { style: { width: `${indent}px` } }))),\n                h(NTreeNodeSwitcher, { clsPrefix: clsPrefix, expanded: this.expanded, selected: selected, loading: this.loading, hide: tmNode.isLeaf, onClick: this.handleSwitcherClick }),\n                !checkboxOnRight ? checkboxNode : null,\n                h(NTreeNodeContent, { ref: \"contentInstRef\", clsPrefix: clsPrefix, checked: checked, selected: selected, onClick: this.handleContentClick, nodeProps: blockLine ? undefined : nodeProps, onDragstart: draggable && !blockLine && !disabled\n                        ? this.handleDragStart\n                        : undefined, tmNode: tmNode }),\n                draggable\n                    ? this.showDropMark\n                        ? renderDropMark({\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            el: this.contentElRef.value,\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            position: this.droppingPosition,\n                            offsetLevel: this.droppingOffsetLevel,\n                            indent\n                        })\n                        : this.showDropMarkAsParent\n                            ? renderDropMark({\n                                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                                el: this.contentElRef.value,\n                                position: 'inside',\n                                offsetLevel: this.droppingOffsetLevel,\n                                indent\n                            })\n                            : null\n                    : null,\n                checkboxOnRight ? checkboxNode : null)));\n    }\n});\nexport default TreeNode;\n","import { inject, ref } from 'vue';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nexport function useKeyboard({ props, fNodesRef, mergedExpandedKeysRef, mergedSelectedKeysRef, handleSelect, handleSwitcherClick }) {\n    const { value: mergedSelectedKeys } = mergedSelectedKeysRef;\n    // If it's used in tree-select, make it take over pending state\n    const treeSelectInjection = inject(treeSelectInjectionKey, null);\n    const pendingNodeKeyRef = treeSelectInjection\n        ? treeSelectInjection.pendingNodeKeyRef\n        : ref(mergedSelectedKeys.length\n            ? mergedSelectedKeys[mergedSelectedKeys.length - 1]\n            : null);\n    function handleKeydown(e) {\n        if (!props.keyboard)\n            return;\n        const { value: pendingNodeKey } = pendingNodeKeyRef;\n        if (pendingNodeKey === null) {\n            if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n                e.preventDefault();\n            }\n            if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n                if (pendingNodeKey === null) {\n                    const { value: fNodes } = fNodesRef;\n                    let fIndex = 0;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n        else {\n            const { value: fNodes } = fNodesRef;\n            let fIndex = fNodes.findIndex((tmNode) => tmNode.key === pendingNodeKey);\n            if (!~fIndex)\n                return;\n            if (e.key === 'Enter') {\n                handleSelect(fNodes[fIndex]);\n            }\n            else if (e.key === 'ArrowDown') {\n                e.preventDefault();\n                fIndex += 1;\n                while (fIndex < fNodes.length) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex += 1;\n                }\n            }\n            else if (e.key === 'ArrowUp') {\n                e.preventDefault();\n                fIndex -= 1;\n                while (fIndex >= 0) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex -= 1;\n                }\n            }\n            else if (e.key === 'ArrowLeft') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf ||\n                    !mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    const parentTmNode = pendingNode.getParent();\n                    if (parentTmNode) {\n                        pendingNodeKeyRef.value = parentTmNode.key;\n                    }\n                }\n                else {\n                    handleSwitcherClick(pendingNode);\n                }\n            }\n            else if (e.key === 'ArrowRight') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf)\n                    return;\n                if (!mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    handleSwitcherClick(pendingNode);\n                }\n                else {\n                    // Tha same as ArrowDown\n                    fIndex += 1;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n    }\n    return {\n        pendingNodeKeyRef,\n        handleKeydown\n    };\n}\n","import { h, defineComponent } from 'vue';\nimport { pxfy } from 'seemly';\nimport FadeInExpandTransition from '../../_internal/fade-in-expand-transition';\nimport TreeNode from './TreeNode';\nexport default defineComponent({\n    name: 'TreeMotionWrapper',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        height: Number,\n        nodes: {\n            type: Array,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        onAfterEnter: {\n            type: Function,\n            required: true\n        }\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(FadeInExpandTransition, { onAfterEnter: this.onAfterEnter, appear: true, reverse: this.mode === 'collapse' }, {\n            default: () => (h(\"div\", { class: [\n                    `${clsPrefix}-tree-motion-wrapper`,\n                    `${clsPrefix}-tree-motion-wrapper--${this.mode}`\n                ], style: {\n                    height: pxfy(this.height)\n                } }, this.nodes.map((node) => (h(TreeNode, { clsPrefix: clsPrefix, tmNode: node })))))\n        }));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\nimport { iconSwitchTransition } from '../../../_styles/transitions/icon-switch.cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr';\n// vars:\n// --n-arrow-color\n// --n-bezier\n// --n-font-size\n// --n-node-border-radius\n// --n-node-color-active\n// --n-node-color-hover\n// --n-node-color-pressed\n// --n-node-text-color\n// --n-node-text-color-disabled\nexport default cB('tree', `\n font-size: var(--n-font-size);\n outline: none;\n`, [c('ul, li', `\n margin: 0;\n padding: 0;\n list-style: none;\n `), c('>', [cB('tree-node', [c('&:first-child', {\n  marginTop: 0\n})])]), cB('tree-node-indent', `\n flex-grow: 0;\n flex-shrink: 0;\n height: 0;\n `), cB('tree-motion-wrapper', [cM('expand', [fadeInHeightExpandTransition({\n  duration: '0.2s'\n})]), cM('collapse', [fadeInHeightExpandTransition({\n  duration: '0.2s',\n  reverse: true\n})])]), cB('tree-node-wrapper', `\n box-sizing: border-box;\n padding: 3px 0;\n `), cB('tree-node', `\n transform: translate3d(0,0,0);\n position: relative;\n display: flex;\n border-radius: var(--n-node-border-radius);\n transition: background-color .3s var(--n-bezier);\n `, [cM('highlight', [cB('tree-node-content', [cE('text', {\n  borderBottomColor: 'var(--n-node-text-color-disabled)'\n})])]), cM('disabled', [cB('tree-node-content', `\n color: var(--n-node-text-color-disabled);\n cursor: not-allowed;\n `)]), cNotM('disabled', [cM('clickable', [cB('tree-node-content', `\n cursor: pointer;\n `)])])]), cM('block-node', [cB('tree-node-content', `\n flex: 1;\n min-width: 0;\n `)]), cNotM('block-line', [cB('tree-node', [cNotM('disabled', [cB('tree-node-content', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n})]), cM('selectable', [cB('tree-node-content', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('pending', [cB('tree-node-content', `\n background-color: var(--n-node-color-hover);\n `)]), cM('selected', [cB('tree-node-content', {\n  backgroundColor: 'var(--n-node-color-active)'\n})])])])]), cM('block-line', [cB('tree-node', [cNotM('disabled', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n}), cM('pending', `\n background-color: var(--n-node-color-hover);\n `), cM('selectable', [cNotM('selected', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('selected', {\n  backgroundColor: 'var(--n-node-color-active)'\n})]), cM('disabled', `\n cursor: not-allowed;\n `)])]), cB('tree-node-switcher', `\n cursor: pointer;\n display: inline-flex;\n flex-shrink: 0;\n height: 24px;\n width: 24px;\n align-items: center;\n justify-content: center;\n transition: transform .15s var(--n-bezier);\n vertical-align: bottom;\n `, [cE('icon', `\n position: relative;\n height: 14px;\n width: 14px;\n display: flex;\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n font-size: 14px;\n `, [cB('icon', [iconSwitchTransition()]), cB('base-loading', `\n color: var(--n-loading-color);\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n `, [iconSwitchTransition()]), cB('base-icon', [iconSwitchTransition()])]), cM('hide', {\n  visibility: 'hidden'\n}), cM('expanded', {\n  transform: 'rotate(90deg)'\n})]), cB('tree-node-checkbox', `\n display: inline-flex;\n height: 24px;\n width: 16px;\n vertical-align: bottom;\n align-items: center;\n justify-content: center;\n margin-right: 4px;\n `, [cM('right', 'margin-left: 4px;')]), cM('checkable', [cB('tree-node-content', `\n padding: 0 6px;\n `)]), cB('tree-node-content', `\n position: relative;\n display: inline-flex;\n align-items: center;\n min-height: 24px;\n box-sizing: border-box;\n line-height: 1.5;\n vertical-align: bottom;\n padding: 0 6px 0 4px;\n cursor: default;\n border-radius: var(--n-node-border-radius);\n text-decoration-color: #0000;\n text-decoration-line: underline;\n color: var(--n-node-text-color);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `, [c('&:last-child', {\n  marginBottom: 0\n}), cE('prefix', `\n display: inline-flex;\n margin-right: 8px;\n `), cE('text', `\n border-bottom: 1px solid #0000;\n transition: border-color .3s var(--n-bezier);\n flex-grow: 1;\n max-width: 100%;\n `), cE('suffix', `\n display: inline-flex;\n `)]), cE('empty', 'margin: auto;')]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, toRef, computed, defineComponent, provide, watch, nextTick, watchEffect, inject } from 'vue';\nimport { createTreeMate, flatten, createIndexGetter } from 'treemate';\nimport { useMergedState } from 'vooks';\nimport { VVirtualList } from 'vueuc';\nimport { getPadding } from 'seemly';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nimport { useConfig, useTheme, useThemeClass, useRtl } from '../../_mixins';\nimport { call, createDataKey, resolveSlot, warn, warnOnce } from '../../_utils';\nimport { NxScrollbar } from '../../_internal';\nimport { treeLight } from '../styles';\nimport { NEmpty } from '../../empty';\nimport NTreeNode from './TreeNode';\nimport { keysWithFilter, emptyImage, filterTree, isNodeDisabled, useMergedCheckStrategy } from './utils';\nimport { useKeyboard } from './keyboard';\nimport { treeInjectionKey } from './interface';\nimport MotionWrapper from './MotionWrapper';\nimport { defaultAllowDrop } from './dnd';\nimport style from './styles/index.cssr';\n// TODO:\n// During expanding, some node are mis-applied with :active style\n// Async dnd has bug\nconst ITEM_SIZE = 30; // 24 + 3 + 3\nexport function createTreeMateOptions(keyField, childrenField, disabledField, getChildren) {\n    const settledGetChildren = getChildren ||\n        ((node) => {\n            return node[childrenField];\n        });\n    return {\n        getIsGroup() {\n            return false;\n        },\n        getKey(node) {\n            return node[keyField];\n        },\n        getChildren: settledGetChildren,\n        getDisabled(node) {\n            return !!(node[disabledField] || node.checkboxDisabled);\n        }\n    };\n}\nexport const treeSharedProps = {\n    allowCheckingNotLoaded: Boolean,\n    filter: Function,\n    defaultExpandAll: Boolean,\n    expandedKeys: Array,\n    keyField: {\n        type: String,\n        default: 'key'\n    },\n    labelField: {\n        type: String,\n        default: 'label'\n    },\n    childrenField: {\n        type: String,\n        default: 'children'\n    },\n    disabledField: {\n        type: String,\n        default: 'disabled'\n    },\n    defaultExpandedKeys: {\n        type: Array,\n        default: () => []\n    },\n    indeterminateKeys: Array,\n    renderSwitcherIcon: Function,\n    onUpdateIndeterminateKeys: [Function, Array],\n    'onUpdate:indeterminateKeys': [Function, Array],\n    onUpdateExpandedKeys: [Function, Array],\n    'onUpdate:expandedKeys': [Function, Array]\n};\nexport const treeProps = Object.assign(Object.assign(Object.assign(Object.assign({}, useTheme.props), { accordion: Boolean, showIrrelevantNodes: { type: Boolean, default: true }, data: {\n        type: Array,\n        default: () => []\n    }, expandOnDragenter: {\n        type: Boolean,\n        default: true\n    }, expandOnClick: Boolean, checkOnClick: {\n        type: [Boolean, Function],\n        default: false\n    }, cancelable: {\n        type: Boolean,\n        default: true\n    }, checkable: Boolean, draggable: Boolean, blockNode: Boolean, blockLine: Boolean, disabled: Boolean, checkedKeys: Array, defaultCheckedKeys: {\n        type: Array,\n        default: () => []\n    }, selectedKeys: Array, defaultSelectedKeys: {\n        type: Array,\n        default: () => []\n    }, multiple: Boolean, pattern: {\n        type: String,\n        default: ''\n    }, onLoad: Function, cascade: Boolean, selectable: {\n        type: Boolean,\n        default: true\n    }, indent: {\n        type: Number,\n        default: 16\n    }, allowDrop: {\n        type: Function,\n        default: defaultAllowDrop\n    }, animated: {\n        type: Boolean,\n        default: true\n    }, checkboxPlacement: {\n        type: String,\n        default: 'left'\n    }, virtualScroll: Boolean, watchProps: Array, renderLabel: Function, renderPrefix: Function, renderSuffix: Function, nodeProps: Function, keyboard: {\n        type: Boolean,\n        default: true\n    }, getChildren: Function, onDragenter: [Function, Array], onDragleave: [Function, Array], onDragend: [Function, Array], onDragstart: [Function, Array], onDragover: [Function, Array], onDrop: [Function, Array], onUpdateCheckedKeys: [Function, Array], 'onUpdate:checkedKeys': [Function, Array], onUpdateSelectedKeys: [Function, Array], 'onUpdate:selectedKeys': [Function, Array] }), treeSharedProps), { \n    // internal props for tree-select\n    internalTreeSelect: Boolean, internalScrollable: Boolean, internalScrollablePadding: String, \n    // use it to display\n    internalRenderEmpty: Function, internalHighlightKeySet: Object, internalUnifySelectCheck: Boolean, internalCheckboxFocusable: {\n        type: Boolean,\n        default: true\n    }, internalFocusable: {\n        // Make tree-select take over keyboard operations\n        type: Boolean,\n        default: true\n    }, checkStrategy: {\n        type: String,\n        default: 'all'\n    }, \n    /**\n     * @deprecated\n     */\n    leafOnly: Boolean });\nexport default defineComponent({\n    name: 'Tree',\n    props: treeProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.leafOnly) {\n                    warnOnce('tree', '`leaf-only` is deprecated, please use `check-strategy=\"child\"` instead');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const rtlEnabledRef = useRtl('Tree', mergedRtlRef, mergedClsPrefixRef);\n        const themeRef = useTheme('Tree', '-tree', style, treeLight, props, mergedClsPrefixRef);\n        const selfElRef = ref(null);\n        const scrollbarInstRef = ref(null);\n        const virtualListInstRef = ref(null);\n        function getScrollContainer() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.listElRef;\n        }\n        function getScrollContent() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.itemsElRef;\n        }\n        const mergedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField } = props;\n            return (pattern, node) => {\n                if (!pattern.length)\n                    return true;\n                const label = node[labelField];\n                if (typeof label === 'string') {\n                    return label.toLowerCase().includes(pattern.toLowerCase());\n                }\n                return false;\n            };\n        });\n        const filteredTreeInfoRef = computed(() => {\n            const { pattern } = props;\n            if (!pattern) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            if (!pattern.length || !mergedFilterRef.value) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            return filterTree(props.data, mergedFilterRef.value, pattern, props.keyField, props.childrenField);\n        });\n        // We don't expect data source to change so we just determine it once\n        const displayTreeMateRef = computed(() => createTreeMate(props.showIrrelevantNodes\n            ? props.data\n            : filteredTreeInfoRef.value.filteredTree, createTreeMateOptions(props.keyField, props.childrenField, props.disabledField, props.getChildren)));\n        const treeSelectInjection = inject(treeSelectInjectionKey, null);\n        const dataTreeMateRef = props.internalTreeSelect\n            ? treeSelectInjection.dataTreeMate\n            : displayTreeMateRef;\n        const { watchProps } = props;\n        const uncontrolledCheckedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultCheckedKeys')) {\n            watchEffect(() => {\n                uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n            });\n        }\n        else {\n            uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n        }\n        const controlledCheckedKeysRef = toRef(props, 'checkedKeys');\n        const mergedCheckedKeysRef = useMergedState(controlledCheckedKeysRef, uncontrolledCheckedKeysRef);\n        const checkedStatusRef = computed(() => {\n            const value = dataTreeMateRef.value.getCheckedKeys(mergedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            return value;\n        });\n        const mergedCheckStrategyRef = useMergedCheckStrategy(props);\n        const displayedCheckedKeysRef = computed(() => {\n            return checkedStatusRef.value.checkedKeys;\n        });\n        const displayedIndeterminateKeysRef = computed(() => {\n            const { indeterminateKeys } = props;\n            if (indeterminateKeys !== undefined)\n                return indeterminateKeys;\n            return checkedStatusRef.value.indeterminateKeys;\n        });\n        const uncontrolledSelectedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultSelectedKeys')) {\n            watchEffect(() => {\n                uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n            });\n        }\n        else {\n            uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n        }\n        const controlledSelectedKeysRef = toRef(props, 'selectedKeys');\n        const mergedSelectedKeysRef = useMergedState(controlledSelectedKeysRef, uncontrolledSelectedKeysRef);\n        const uncontrolledExpandedKeysRef = ref([]);\n        const initUncontrolledExpandedKeys = (keys) => {\n            uncontrolledExpandedKeysRef.value = props.defaultExpandAll\n                ? dataTreeMateRef.value.getNonLeafKeys()\n                : keys === undefined\n                    ? props.defaultExpandedKeys\n                    : keys;\n        };\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultExpandedKeys')) {\n            // if watching defaultExpandedKeys, we use access props.defaultExpandedKeys inside initiator\n            watchEffect(() => { initUncontrolledExpandedKeys(undefined); });\n        }\n        else {\n            // We by default watchEffect since if defaultExpandAll is true, we should remain tree expand if data changes\n            watchEffect(() => { initUncontrolledExpandedKeys(props.defaultExpandedKeys); });\n        }\n        const controlledExpandedKeysRef = toRef(props, 'expandedKeys');\n        const mergedExpandedKeysRef = useMergedState(controlledExpandedKeysRef, uncontrolledExpandedKeysRef);\n        const fNodesRef = computed(() => displayTreeMateRef.value.getFlattenedNodes(mergedExpandedKeysRef.value));\n        const { pendingNodeKeyRef, handleKeydown } = useKeyboard({\n            props,\n            mergedSelectedKeysRef,\n            fNodesRef,\n            mergedExpandedKeysRef,\n            handleSelect,\n            handleSwitcherClick\n        });\n        let expandTimerId = null;\n        let nodeKeyToBeExpanded = null;\n        const uncontrolledHighlightKeySetRef = ref(new Set());\n        const controlledHighlightKeySetRef = computed(() => {\n            return (props.internalHighlightKeySet ||\n                filteredTreeInfoRef.value.highlightKeySet);\n        });\n        const mergedHighlightKeySetRef = useMergedState(controlledHighlightKeySetRef, uncontrolledHighlightKeySetRef);\n        const loadingKeysRef = ref(new Set());\n        const expandedNonLoadingKeysRef = computed(() => {\n            return mergedExpandedKeysRef.value.filter((key) => !loadingKeysRef.value.has(key));\n        });\n        let dragStartX = 0;\n        const draggingNodeRef = ref(null);\n        const droppingNodeRef = ref(null);\n        const droppingMouseNodeRef = ref(null);\n        const droppingPositionRef = ref(null);\n        const droppingOffsetLevelRef = ref(0);\n        const droppingNodeParentRef = computed(() => {\n            const { value: droppingNode } = droppingNodeRef;\n            if (!droppingNode)\n                return null;\n            // May avoid overlap between line mark of first child & rect mark of parent\n            // if (droppingNode.isFirstChild && droppingPositionRef.value === 'before') {\n            //   return null\n            // }\n            return droppingNode.parent;\n        });\n        // shallow watch data\n        watch(toRef(props, 'data'), () => {\n            loadingKeysRef.value.clear();\n            pendingNodeKeyRef.value = null;\n            resetDndState();\n        }, {\n            deep: false\n        });\n        let expandAnimationDisabled = false;\n        const disableExpandAnimationForOneTick = () => {\n            expandAnimationDisabled = true;\n            void nextTick(() => {\n                expandAnimationDisabled = false;\n            });\n        };\n        let memoizedExpandedKeys;\n        watch(toRef(props, 'pattern'), (value, oldValue) => {\n            if (props.showIrrelevantNodes) {\n                memoizedExpandedKeys = undefined;\n                if (value) {\n                    const { expandedKeys: expandedKeysAfterChange, highlightKeySet } = keysWithFilter(props.data, props.pattern, props.keyField, props.childrenField, mergedFilterRef.value);\n                    uncontrolledHighlightKeySetRef.value = highlightKeySet;\n                    disableExpandAnimationForOneTick();\n                    doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange), { node: null, action: 'filter' });\n                }\n                else {\n                    uncontrolledHighlightKeySetRef.value = new Set();\n                }\n            }\n            else {\n                if (!value.length) {\n                    if (memoizedExpandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(memoizedExpandedKeys, getOptionsByKeys(memoizedExpandedKeys), { node: null, action: 'filter' });\n                    }\n                }\n                else {\n                    if (!oldValue.length) {\n                        memoizedExpandedKeys = mergedExpandedKeysRef.value;\n                    }\n                    const { expandedKeys } = filteredTreeInfoRef.value;\n                    if (expandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(expandedKeys, getOptionsByKeys(expandedKeys), {\n                            node: null,\n                            action: 'filter'\n                        });\n                    }\n                }\n            }\n        });\n        function triggerLoading(node) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { onLoad } = props;\n                if (!onLoad) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        warn('tree', 'There is unloaded node in data but props.onLoad is not specified.');\n                    }\n                    yield Promise.resolve();\n                    return;\n                }\n                const { value: loadingKeys } = loadingKeysRef;\n                if (!loadingKeys.has(node.key)) {\n                    loadingKeys.add(node.key);\n                    try {\n                        const loadResult = yield onLoad(node.rawNode);\n                        if (loadResult === false) {\n                            resetDragExpandState();\n                        }\n                    }\n                    catch (loadError) {\n                        console.error(loadError);\n                        resetDragExpandState();\n                    }\n                    loadingKeys.delete(node.key);\n                }\n            });\n        }\n        watchEffect(() => {\n            var _a;\n            const { value: displayTreeMate } = displayTreeMateRef;\n            if (!displayTreeMate)\n                return;\n            const { getNode } = displayTreeMate;\n            (_a = mergedExpandedKeysRef.value) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n                const node = getNode(key);\n                if (node && !node.shallowLoaded) {\n                    void triggerLoading(node);\n                }\n            });\n        });\n        // animation in progress\n        const aipRef = ref(false);\n        // animation flattened nodes\n        const afNodesRef = ref([]);\n        // Note: Since the virtual list depends on min height, if there's a node\n        // whose height starts from 0, the virtual list will have a wrong height\n        // during animation. This will seldom cause wired scrollbar status. It is\n        // fixable and need some changes in vueuc, I've no time so I just leave it\n        // here. Maybe the bug won't be fixed during the life time of the project.\n        watch(expandedNonLoadingKeysRef, (value, prevValue) => {\n            if (!props.animated || expandAnimationDisabled) {\n                void nextTick(syncScrollbar);\n                return;\n            }\n            const prevVSet = new Set(prevValue);\n            let addedKey = null;\n            let removedKey = null;\n            for (const expandedKey of value) {\n                if (!prevVSet.has(expandedKey)) {\n                    if (addedKey !== null)\n                        return; // multi expand, not triggered by click\n                    addedKey = expandedKey;\n                }\n            }\n            const currentVSet = new Set(value);\n            for (const expandedKey of prevValue) {\n                if (!currentVSet.has(expandedKey)) {\n                    if (removedKey !== null)\n                        return; // multi collapse, not triggered by click\n                    removedKey = expandedKey;\n                }\n            }\n            if (addedKey === null && removedKey === null) {\n                // 1. multi action, not triggered by click\n                // 2. no action, don't know what happened\n                return;\n            }\n            const { virtualScroll } = props;\n            const viewportHeight = (virtualScroll ? virtualListInstRef.value.listElRef : selfElRef.value).offsetHeight;\n            const viewportItemCount = Math.ceil(viewportHeight / ITEM_SIZE) + 1;\n            // play add animation\n            let baseExpandedKeys;\n            if (addedKey !== null) {\n                baseExpandedKeys = prevValue;\n            }\n            if (removedKey !== null) {\n                if (baseExpandedKeys === undefined) {\n                    baseExpandedKeys = value;\n                }\n                else {\n                    baseExpandedKeys = baseExpandedKeys.filter((key) => key !== removedKey);\n                }\n            }\n            aipRef.value = true;\n            afNodesRef.value =\n                displayTreeMateRef.value.getFlattenedNodes(baseExpandedKeys);\n            if (addedKey !== null) {\n                const expandedNodeIndex = afNodesRef.value.findIndex((node) => node.key === addedKey);\n                if (~expandedNodeIndex) {\n                    const children = // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                     afNodesRef.value[expandedNodeIndex].children;\n                    // sometimes user will pass leaf keys in\n                    if (children) {\n                        const expandedChildren = flatten(children, value);\n                        afNodesRef.value.splice(expandedNodeIndex + 1, 0, {\n                            __motion: true,\n                            mode: 'expand',\n                            height: virtualScroll\n                                ? expandedChildren.length * ITEM_SIZE\n                                : undefined,\n                            nodes: virtualScroll\n                                ? expandedChildren.slice(0, viewportItemCount)\n                                : expandedChildren\n                        });\n                    }\n                }\n            }\n            if (removedKey !== null) {\n                const collapsedNodeIndex = afNodesRef.value.findIndex((node) => node.key === removedKey);\n                if (~collapsedNodeIndex) {\n                    const collapsedNodeChildren = afNodesRef.value[collapsedNodeIndex].children;\n                    // Sometime the whole tree is change, remove a key doesn't mean it is collapsed,\n                    // but maybe children removed\n                    if (!collapsedNodeChildren)\n                        return;\n                    // play remove animation\n                    aipRef.value = true;\n                    const collapsedChildren = flatten(collapsedNodeChildren, value);\n                    afNodesRef.value.splice(collapsedNodeIndex + 1, 0, {\n                        __motion: true,\n                        mode: 'collapse',\n                        height: virtualScroll\n                            ? collapsedChildren.length * ITEM_SIZE\n                            : undefined,\n                        nodes: virtualScroll\n                            ? collapsedChildren.slice(0, viewportItemCount)\n                            : collapsedChildren\n                    });\n                }\n            }\n        });\n        const getFIndexRef = computed(() => {\n            return createIndexGetter(fNodesRef.value);\n        });\n        const mergedFNodesRef = computed(() => {\n            if (aipRef.value)\n                return afNodesRef.value;\n            else\n                return fNodesRef.value;\n        });\n        function syncScrollbar() {\n            const { value: scrollbarInst } = scrollbarInstRef;\n            if (scrollbarInst)\n                scrollbarInst.sync();\n        }\n        function handleAfterEnter() {\n            aipRef.value = false;\n            if (props.virtualScroll) {\n                // If virtual scroll, we won't listen to resize during animation, so\n                // resize callback of virtual list won't be called and as a result\n                // scrollbar won't sync. We need to sync scrollbar manually.\n                void nextTick(syncScrollbar);\n            }\n        }\n        function getOptionsByKeys(keys) {\n            const { getNode } = dataTreeMateRef.value;\n            return keys.map((key) => { var _a; return ((_a = getNode(key)) === null || _a === void 0 ? void 0 : _a.rawNode) || null; });\n        }\n        function doUpdateExpandedKeys(value, option, meta) {\n            const { 'onUpdate:expandedKeys': _onUpdateExpandedKeys, onUpdateExpandedKeys } = props;\n            uncontrolledExpandedKeysRef.value = value;\n            if (_onUpdateExpandedKeys) {\n                call(_onUpdateExpandedKeys, value, option, meta);\n            }\n            if (onUpdateExpandedKeys) {\n                call(onUpdateExpandedKeys, value, option, meta);\n            }\n        }\n        function doUpdateCheckedKeys(value, option, meta) {\n            const { 'onUpdate:checkedKeys': _onUpdateCheckedKeys, onUpdateCheckedKeys } = props;\n            uncontrolledCheckedKeysRef.value = value;\n            if (onUpdateCheckedKeys) {\n                call(onUpdateCheckedKeys, value, option, meta);\n            }\n            if (_onUpdateCheckedKeys) {\n                call(_onUpdateCheckedKeys, value, option, meta);\n            }\n        }\n        function doUpdateIndeterminateKeys(value, option) {\n            const { 'onUpdate:indeterminateKeys': _onUpdateIndeterminateKeys, onUpdateIndeterminateKeys } = props;\n            if (_onUpdateIndeterminateKeys) {\n                call(_onUpdateIndeterminateKeys, value, option);\n            }\n            if (onUpdateIndeterminateKeys) {\n                call(onUpdateIndeterminateKeys, value, option);\n            }\n        }\n        function doUpdateSelectedKeys(value, option, meta) {\n            const { 'onUpdate:selectedKeys': _onUpdateSelectedKeys, onUpdateSelectedKeys } = props;\n            uncontrolledSelectedKeysRef.value = value;\n            if (onUpdateSelectedKeys) {\n                call(onUpdateSelectedKeys, value, option, meta);\n            }\n            if (_onUpdateSelectedKeys) {\n                call(_onUpdateSelectedKeys, value, option, meta);\n            }\n        }\n        // Drag & Drop\n        function doDragEnter(info) {\n            const { onDragenter } = props;\n            if (onDragenter)\n                call(onDragenter, info);\n        }\n        function doDragLeave(info) {\n            const { onDragleave } = props;\n            if (onDragleave)\n                call(onDragleave, info);\n        }\n        function doDragEnd(info) {\n            const { onDragend } = props;\n            if (onDragend)\n                call(onDragend, info);\n        }\n        function doDragStart(info) {\n            const { onDragstart } = props;\n            if (onDragstart)\n                call(onDragstart, info);\n        }\n        function doDragOver(info) {\n            const { onDragover } = props;\n            if (onDragover)\n                call(onDragover, info);\n        }\n        function doDrop(info) {\n            const { onDrop } = props;\n            if (onDrop)\n                call(onDrop, info);\n        }\n        function resetDndState() {\n            resetDragState();\n            resetDropState();\n        }\n        function resetDragState() {\n            draggingNodeRef.value = null;\n        }\n        function resetDropState() {\n            droppingOffsetLevelRef.value = 0;\n            droppingNodeRef.value = null;\n            droppingMouseNodeRef.value = null;\n            droppingPositionRef.value = null;\n            resetDragExpandState();\n        }\n        function resetDragExpandState() {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            nodeKeyToBeExpanded = null;\n        }\n        function handleCheck(node, checked) {\n            // We don't guard for leaf only since we have done it in view layer\n            if (props.disabled || isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            if (props.internalUnifySelectCheck && !props.multiple) {\n                handleSelect(node);\n                return;\n            }\n            const checkedAction = checked ? 'check' : 'uncheck';\n            const { checkedKeys, indeterminateKeys } = dataTreeMateRef.value[checkedAction](node.key, displayedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                checkStrategy: mergedCheckStrategyRef.value,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            doUpdateCheckedKeys(checkedKeys, getOptionsByKeys(checkedKeys), {\n                node: node.rawNode,\n                action: checkedAction\n            });\n            doUpdateIndeterminateKeys(indeterminateKeys, getOptionsByKeys(indeterminateKeys));\n        }\n        function toggleExpand(node) {\n            if (props.disabled)\n                return;\n            const { key } = node;\n            const { value: mergedExpandedKeys } = mergedExpandedKeysRef;\n            const index = mergedExpandedKeys.findIndex((expandNodeId) => expandNodeId === key);\n            if (~index) {\n                const expandedKeysAfterChange = Array.from(mergedExpandedKeys);\n                expandedKeysAfterChange.splice(index, 1);\n                doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange), {\n                    node: node.rawNode,\n                    action: 'collapse'\n                });\n            }\n            else {\n                const nodeToBeExpanded = displayTreeMateRef.value.getNode(key);\n                if (!nodeToBeExpanded || nodeToBeExpanded.isLeaf) {\n                    return;\n                }\n                let nextKeys;\n                if (props.accordion) {\n                    const siblingKeySet = new Set(node.siblings.map(({ key }) => key));\n                    nextKeys = mergedExpandedKeys.filter((expandedKey) => {\n                        return !siblingKeySet.has(expandedKey);\n                    });\n                    nextKeys.push(key);\n                }\n                else {\n                    nextKeys = mergedExpandedKeys.concat(key);\n                }\n                doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys), {\n                    node: node.rawNode,\n                    action: 'expand'\n                });\n            }\n        }\n        function handleSwitcherClick(node) {\n            if (props.disabled || aipRef.value)\n                return;\n            toggleExpand(node);\n        }\n        function handleSelect(node) {\n            if (props.disabled || !props.selectable) {\n                return;\n            }\n            pendingNodeKeyRef.value = node.key;\n            if (props.internalUnifySelectCheck) {\n                const { value: { checkedKeys, indeterminateKeys } } = checkedStatusRef;\n                if (props.multiple) {\n                    handleCheck(node, !(checkedKeys.includes(node.key) ||\n                        indeterminateKeys.includes(node.key)));\n                }\n                else {\n                    doUpdateCheckedKeys([node.key], getOptionsByKeys([node.key]), {\n                        node: node.rawNode,\n                        action: 'check'\n                    });\n                }\n            }\n            if (props.multiple) {\n                const selectedKeys = Array.from(mergedSelectedKeysRef.value);\n                const index = selectedKeys.findIndex((key) => key === node.key);\n                if (~index) {\n                    if (props.cancelable) {\n                        selectedKeys.splice(index, 1);\n                    }\n                }\n                else if (!~index) {\n                    selectedKeys.push(node.key);\n                }\n                doUpdateSelectedKeys(selectedKeys, getOptionsByKeys(selectedKeys), {\n                    node: node.rawNode,\n                    action: ~index ? 'unselect' : 'select'\n                });\n            }\n            else {\n                const selectedKeys = mergedSelectedKeysRef.value;\n                if (selectedKeys.includes(node.key)) {\n                    if (props.cancelable) {\n                        doUpdateSelectedKeys([], [], {\n                            node: node.rawNode,\n                            action: 'unselect'\n                        });\n                    }\n                }\n                else {\n                    doUpdateSelectedKeys([node.key], getOptionsByKeys([node.key]), {\n                        node: node.rawNode,\n                        action: 'select'\n                    });\n                }\n            }\n        }\n        function expandDragEnterNode(node) {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            // Don't expand leaf node.\n            if (node.isLeaf)\n                return;\n            nodeKeyToBeExpanded = node.key;\n            const expand = () => {\n                if (nodeKeyToBeExpanded !== node.key)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (droppingMouseNode &&\n                    droppingMouseNode.key === node.key &&\n                    !mergedExpandedKeysRef.value.includes(node.key)) {\n                    const nextKeys = mergedExpandedKeysRef.value.concat(node.key);\n                    doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys), {\n                        node: node.rawNode,\n                        action: 'expand'\n                    });\n                }\n                expandTimerId = null;\n                nodeKeyToBeExpanded = null;\n            };\n            if (!node.shallowLoaded) {\n                expandTimerId = window.setTimeout(() => {\n                    void triggerLoading(node).then(() => {\n                        expand();\n                    });\n                }, 1000);\n            }\n            else {\n                expandTimerId = window.setTimeout(() => {\n                    expand();\n                }, 1000);\n            }\n        }\n        // Dnd\n        function handleDragEnter({ event, node }) {\n            // node should be a tmNode\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            handleDragOver({ event, node }, false);\n            doDragEnter({ event, node: node.rawNode });\n        }\n        function handleDragLeave({ event, node }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragLeave({ event, node: node.rawNode });\n        }\n        function handleDragLeaveTree(e) {\n            if (e.target !== e.currentTarget)\n                return;\n            resetDropState();\n        }\n        // Dragend is ok, we don't need to add global listener to reset drag status\n        function handleDragEnd({ event, node }) {\n            resetDndState();\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragEnd({ event, node: node.rawNode });\n        }\n        function handleDragStart({ event, node }) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            // Most of time, the image will block user's view\n            emptyImage && ((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.setDragImage(emptyImage, 0, 0));\n            dragStartX = event.clientX;\n            draggingNodeRef.value = node;\n            doDragStart({ event, node: node.rawNode });\n        }\n        function handleDragOver({ event, node }, emit = true) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            if (!draggingNode)\n                return;\n            const { allowDrop, indent } = props;\n            if (emit)\n                doDragOver({ event, node: node.rawNode });\n            // Update dropping node\n            const el = event.currentTarget;\n            const { height: elOffsetHeight, top: elClientTop } = el.getBoundingClientRect();\n            const eventOffsetY = event.clientY - elClientTop;\n            let mousePosition;\n            const allowDropInside = allowDrop({\n                node: node.rawNode,\n                dropPosition: 'inside',\n                phase: 'drag'\n            });\n            if (allowDropInside) {\n                if (eventOffsetY <= 8) {\n                    mousePosition = 'before';\n                }\n                else if (eventOffsetY >= elOffsetHeight - 8) {\n                    mousePosition = 'after';\n                }\n                else {\n                    mousePosition = 'inside';\n                }\n            }\n            else {\n                if (eventOffsetY <= elOffsetHeight / 2) {\n                    mousePosition = 'before';\n                }\n                else {\n                    mousePosition = 'after';\n                }\n            }\n            const { value: getFindex } = getFIndexRef;\n            /** determine the drop position and drop node */\n            /** the dropping node needn't to be the mouse hovering node! */\n            /**\n             * if there is something i've learned from implementing a complex\n             * drag & drop. that is never write unit test before you really figure\n             * out what behavior is exactly you want.\n             */\n            let finalDropNode;\n            let finalDropPosition;\n            const hoverNodeFIndex = getFindex(node.key);\n            if (hoverNodeFIndex === null) {\n                resetDropState();\n                return;\n            }\n            let mouseAtExpandedNonLeafNode = false;\n            if (mousePosition === 'inside') {\n                finalDropNode = node;\n                finalDropPosition = 'inside';\n            }\n            else {\n                if (mousePosition === 'before') {\n                    if (node.isFirstChild) {\n                        finalDropNode = node;\n                        finalDropPosition = 'before';\n                    }\n                    else {\n                        finalDropNode = fNodesRef.value[hoverNodeFIndex - 1];\n                        finalDropPosition = 'after';\n                    }\n                }\n                else {\n                    finalDropNode = node;\n                    finalDropPosition = 'after';\n                }\n            }\n            // If the node is non-leaf and it is expanded, we don't allow it to\n            // drop after it and change it to drop before its next view sibling\n            if (!finalDropNode.isLeaf &&\n                mergedExpandedKeysRef.value.includes(finalDropNode.key)) {\n                mouseAtExpandedNonLeafNode = true;\n                if (finalDropPosition === 'after') {\n                    finalDropNode = fNodesRef.value[hoverNodeFIndex + 1];\n                    if (!finalDropNode) {\n                        // maybe there is no next view sibling when non-leaf node has no\n                        // children and it is the last node in the tree\n                        finalDropNode = node;\n                        finalDropPosition = 'inside';\n                    }\n                    else {\n                        finalDropPosition = 'before';\n                    }\n                }\n            }\n            const droppingMouseNode = finalDropNode;\n            droppingMouseNodeRef.value = droppingMouseNode;\n            // This is a speacial case, user is dragging a last child itself, so we\n            // only view it as they are trying to drop after it.\n            // There are some relevant codes in bailout 1's child branch.\n            // Also, the expand bailout should have a high priority. If it's non-leaf\n            // node and expanded, keep its origin drop position\n            if (!mouseAtExpandedNonLeafNode &&\n                draggingNode.isLastChild &&\n                draggingNode.key === finalDropNode.key) {\n                finalDropPosition = 'after';\n            }\n            if (finalDropPosition === 'after') {\n                let offset = dragStartX - event.clientX; // drag left => > 0\n                let offsetLevel = 0;\n                while (offset >= indent / 2 && // divide by 2 to make it easier to trigger\n                    finalDropNode.parent !== null &&\n                    finalDropNode.isLastChild &&\n                    offsetLevel < 1) {\n                    offset -= indent;\n                    offsetLevel += 1;\n                    finalDropNode = finalDropNode.parent;\n                }\n                droppingOffsetLevelRef.value = offsetLevel;\n            }\n            else {\n                droppingOffsetLevelRef.value = 0;\n            }\n            // Bailout 1\n            // Drag self into self\n            // Drag it into direct parent\n            if (draggingNode.contains(finalDropNode) ||\n                (finalDropPosition === 'inside' &&\n                    ((_a = draggingNode.parent) === null || _a === void 0 ? void 0 : _a.key) === finalDropNode.key)) {\n                if (draggingNode.key === droppingMouseNode.key &&\n                    draggingNode.key === finalDropNode.key) {\n                    // This is special case that we want ui to show a mark to guide user\n                    // to start dragging. Nor they will think nothing happens.\n                    // However this is an invalid drop, we need to guard it inside\n                    // handleDrop\n                }\n                else {\n                    resetDropState();\n                    return;\n                }\n            }\n            // Bailout 3\n            if (!allowDrop({\n                node: finalDropNode.rawNode,\n                dropPosition: finalDropPosition,\n                phase: 'drag'\n            })) {\n                resetDropState();\n                return;\n            }\n            if (draggingNode.key === finalDropNode.key) {\n                // don't expand when drag on itself\n                resetDragExpandState();\n            }\n            else {\n                if (nodeKeyToBeExpanded !== finalDropNode.key) {\n                    if (finalDropPosition === 'inside') {\n                        if (props.expandOnDragenter) {\n                            expandDragEnterNode(finalDropNode);\n                            // Bailout 4\n                            // not try to loading\n                            if (!finalDropNode.shallowLoaded &&\n                                nodeKeyToBeExpanded !== finalDropNode.key) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                        else {\n                            // Bailout 5\n                            // never expands on drag\n                            if (!finalDropNode.shallowLoaded) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                    }\n                    else {\n                        resetDragExpandState();\n                    }\n                }\n                else {\n                    if (finalDropPosition !== 'inside') {\n                        resetDragExpandState();\n                    }\n                }\n            }\n            droppingPositionRef.value = finalDropPosition;\n            droppingNodeRef.value = finalDropNode;\n        }\n        function handleDrop({ event, node, dropPosition }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            const { value: droppingNode } = droppingNodeRef;\n            const { value: droppingPosition } = droppingPositionRef;\n            if (!draggingNode || !droppingNode || !droppingPosition) {\n                return;\n            }\n            // Bailout 1\n            if (!props.allowDrop({\n                node: droppingNode.rawNode,\n                dropPosition: droppingPosition,\n                phase: 'drag'\n            })) {\n                return;\n            }\n            // Bailout 2\n            // This is a special case to guard since we want ui to show the status\n            // but not to emit a event\n            if (draggingNode.key === droppingNode.key) {\n                return;\n            }\n            // Bailout 3\n            // insert before its next node\n            // insert after its prev node\n            if (droppingPosition === 'before') {\n                const nextNode = draggingNode.getNext({ includeDisabled: true });\n                if (nextNode) {\n                    if (nextNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            if (droppingPosition === 'after') {\n                const prevNode = draggingNode.getPrev({ includeDisabled: true });\n                if (prevNode) {\n                    if (prevNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            doDrop({\n                event,\n                node: droppingNode.rawNode,\n                dragNode: draggingNode.rawNode,\n                dropPosition\n            });\n            resetDndState();\n        }\n        function handleScroll() {\n            syncScrollbar();\n        }\n        function handleResize() {\n            syncScrollbar();\n        }\n        function handleFocusout(e) {\n            var _a;\n            if (props.virtualScroll || props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if ((_a = scrollbarInst === null || scrollbarInst === void 0 ? void 0 : scrollbarInst.containerRef) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) {\n                    return;\n                }\n                pendingNodeKeyRef.value = null;\n            }\n            else {\n                const { value: selfEl } = selfElRef;\n                if (selfEl === null || selfEl === void 0 ? void 0 : selfEl.contains(e.relatedTarget))\n                    return;\n                pendingNodeKeyRef.value = null;\n            }\n        }\n        watch(pendingNodeKeyRef, (value) => {\n            var _a, _b;\n            if (value === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ key: value });\n            }\n            else if (props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if (scrollbarInst === null)\n                    return;\n                const targetEl = (_b = scrollbarInst.contentRef) === null || _b === void 0 ? void 0 : _b.querySelector(`[data-key=\"${createDataKey(value)}\"]`);\n                if (!targetEl)\n                    return;\n                scrollbarInst.scrollTo({\n                    el: targetEl\n                });\n            }\n        });\n        provide(treeInjectionKey, {\n            loadingKeysRef,\n            highlightKeySetRef: mergedHighlightKeySetRef,\n            displayedCheckedKeysRef,\n            displayedIndeterminateKeysRef,\n            mergedSelectedKeysRef,\n            mergedExpandedKeysRef,\n            mergedThemeRef: themeRef,\n            mergedCheckStrategyRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            disabledRef: toRef(props, 'disabled'),\n            checkableRef: toRef(props, 'checkable'),\n            selectableRef: toRef(props, 'selectable'),\n            expandOnClickRef: toRef(props, 'expandOnClick'),\n            onLoadRef: toRef(props, 'onLoad'),\n            draggableRef: toRef(props, 'draggable'),\n            blockLineRef: toRef(props, 'blockLine'),\n            indentRef: toRef(props, 'indent'),\n            cascadeRef: toRef(props, 'cascade'),\n            checkOnClickRef: toRef(props, 'checkOnClick'),\n            checkboxPlacementRef: props.checkboxPlacement,\n            droppingMouseNodeRef,\n            droppingNodeParentRef,\n            draggingNodeRef,\n            droppingPositionRef,\n            droppingOffsetLevelRef,\n            fNodesRef,\n            pendingNodeKeyRef,\n            disabledFieldRef: toRef(props, 'disabledField'),\n            internalScrollableRef: toRef(props, 'internalScrollable'),\n            internalCheckboxFocusableRef: toRef(props, 'internalCheckboxFocusable'),\n            internalTreeSelect: props.internalTreeSelect,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderPrefixRef: toRef(props, 'renderPrefix'),\n            renderSuffixRef: toRef(props, 'renderSuffix'),\n            renderSwitcherIconRef: toRef(props, 'renderSwitcherIcon'),\n            labelFieldRef: toRef(props, 'labelField'),\n            multipleRef: toRef(props, 'multiple'),\n            handleSwitcherClick,\n            handleDragEnd,\n            handleDragEnter,\n            handleDragLeave,\n            handleDragStart,\n            handleDrop,\n            handleDragOver,\n            handleSelect,\n            handleCheck\n        });\n        function scrollTo(options) {\n            var _a;\n            (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(options);\n        }\n        const exposedMethods = {\n            handleKeydown,\n            scrollTo,\n            getCheckedData: () => {\n                if (!props.checkable)\n                    return { keys: [], options: [] };\n                const { checkedKeys } = checkedStatusRef.value;\n                return {\n                    keys: checkedKeys,\n                    options: getOptionsByKeys(checkedKeys)\n                };\n            },\n            getIndeterminateData: () => {\n                if (!props.checkable)\n                    return { keys: [], options: [] };\n                const { indeterminateKeys } = checkedStatusRef.value;\n                return {\n                    keys: indeterminateKeys,\n                    options: getOptionsByKeys(indeterminateKeys)\n                };\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { fontSize, nodeBorderRadius, nodeColorHover, nodeColorPressed, nodeColorActive, arrowColor, loadingColor, nodeTextColor, nodeTextColorDisabled, dropMarkColor } } = themeRef.value;\n            return {\n                '--n-arrow-color': arrowColor,\n                '--n-loading-color': loadingColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-font-size': fontSize,\n                '--n-node-border-radius': nodeBorderRadius,\n                '--n-node-color-active': nodeColorActive,\n                '--n-node-color-hover': nodeColorHover,\n                '--n-node-color-pressed': nodeColorPressed,\n                '--n-node-text-color': nodeTextColor,\n                '--n-node-text-color-disabled': nodeTextColorDisabled,\n                '--n-drop-mark-color': dropMarkColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tree', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedClsPrefix: mergedClsPrefixRef, mergedTheme: themeRef, rtlEnabled: rtlEnabledRef, fNodes: mergedFNodesRef, aip: aipRef, selfElRef,\n            virtualListInstRef,\n            scrollbarInstRef,\n            handleFocusout,\n            handleDragLeaveTree,\n            handleScroll,\n            getScrollContainer,\n            getScrollContent,\n            handleAfterEnter,\n            handleResize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        var _a;\n        const { fNodes, internalRenderEmpty } = this;\n        if (!fNodes.length && internalRenderEmpty) {\n            return internalRenderEmpty();\n        }\n        const { mergedClsPrefix, blockNode, blockLine, draggable, disabled, internalFocusable, checkable, handleKeydown, rtlEnabled, handleFocusout } = this;\n        const mergedFocusable = internalFocusable && !disabled;\n        const tabindex = mergedFocusable ? '0' : undefined;\n        const treeClass = [\n            `${mergedClsPrefix}-tree`,\n            rtlEnabled && `${mergedClsPrefix}-tree--rtl`,\n            checkable && `${mergedClsPrefix}-tree--checkable`,\n            (blockLine || blockNode) && `${mergedClsPrefix}-tree--block-node`,\n            blockLine && `${mergedClsPrefix}-tree--block-line`\n        ];\n        const createNode = (tmNode) => {\n            return '__motion' in tmNode ? (h(MotionWrapper, { height: tmNode.height, nodes: tmNode.nodes, clsPrefix: mergedClsPrefix, mode: tmNode.mode, onAfterEnter: this.handleAfterEnter })) : (h(NTreeNode, { key: tmNode.key, tmNode: tmNode, clsPrefix: mergedClsPrefix }));\n        };\n        if (this.virtualScroll) {\n            const { mergedTheme, internalScrollablePadding } = this;\n            const padding = getPadding(internalScrollablePadding || '0');\n            return (h(NxScrollbar, { ref: \"scrollbarInstRef\", onDragleave: draggable ? this.handleDragLeaveTree : undefined, container: this.getScrollContainer, content: this.getScrollContent, class: treeClass, theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined }, {\n                default: () => {\n                    var _a;\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return (h(VVirtualList, { ref: \"virtualListInstRef\", items: this.fNodes, itemSize: ITEM_SIZE, ignoreItemResize: this.aip, paddingTop: padding.top, paddingBottom: padding.bottom, class: this.themeClass, style: [\n                            this.cssVars,\n                            {\n                                paddingLeft: padding.left,\n                                paddingRight: padding.right\n                            }\n                        ], onScroll: this.handleScroll, onResize: this.handleResize, showScrollbar: false, itemResizable: true }, {\n                        default: ({ item }) => createNode(item)\n                    }));\n                }\n            }));\n        }\n        const { internalScrollable } = this;\n        treeClass.push(this.themeClass);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        if (internalScrollable) {\n            return (h(NxScrollbar, { class: treeClass, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, style: this.cssVars, contentStyle: { padding: this.internalScrollablePadding } }, {\n                default: () => (h(\"div\", { onDragleave: draggable ? this.handleDragLeaveTree : undefined, ref: \"selfElRef\" }, this.fNodes.map(createNode)))\n            }));\n        }\n        else {\n            return (h(\"div\", { class: treeClass, tabindex: tabindex, ref: \"selfElRef\", style: this.cssVars, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, onDragleave: draggable ? this.handleDragLeaveTree : undefined }, !fNodes.length\n                ? resolveSlot(this.$slots.empty, () => [\n                    h(NEmpty, { class: `${mergedClsPrefix}-tree__empty`, theme: this.mergedTheme.peers.Empty, themeOverrides: this.mergedTheme.peerOverrides.Empty })\n                ])\n                : fNodes.map(createNode)));\n        }\n    }\n});\n","import type { NaiveNode, RawNode, SizeExt } from '@/utils/types';\nimport { h } from 'vue';\n\nexport const toSelectorLiteral = (\n  s: string | number | null | boolean,\n): string => {\n  if (typeof s == 'string') {\n    const s2 = JSON.stringify(s);\n    const s3 = s2.substring(1, s2.length - 1).replaceAll(`'`, `\\\\'`);\n    return `'` + s3 + `'`;\n  }\n  return String(s);\n};\n\nexport const getImageSize = async (src: string) => {\n  return new Promise<SizeExt>((res, rej) => {\n    const img = new Image();\n    img.onload = () => {\n      res({\n        height: img.naturalHeight,\n        width: img.naturalWidth,\n      });\n    };\n    img.onerror = rej;\n    img.src = src;\n  });\n};\n\nexport function* traverseNode(node: NaiveNode, skipKeys: number[] = []) {\n  const stack: NaiveNode[] = [];\n  stack.push(node);\n  while (stack.length > 0) {\n    const top = stack.pop()!;\n    if (skipKeys.includes(top.key)) {\n      continue;\n    }\n    yield top;\n    stack.push(...[...top.children].reverse());\n  }\n}\n\nexport const toNodeTree = (nodes: RawNode[]) => {\n  const nodeXs = nodes.map<NaiveNode>((n) => {\n    n.attr.name ??= n.attr.className;\n    let label = n.attr.name?.split(`.`)?.at(-1) ?? ``;\n    if (n.attr.text) {\n      label = `${label} : ${n.attr.text}`;\n    } else if (n.attr.desc) {\n      label = `${label} : ${n.attr.desc}`;\n    }\n    return {\n      value: n,\n      children: [],\n      key: n.id,\n      label,\n      prefix:\n        n.attr.childCount > 0\n          ? () => h('div', n.attr.childCount.toString())\n          : undefined,\n    };\n  });\n  nodeXs.forEach((node) => {\n    node.value.attr._id = node.value.id;\n    node.value.attr._pid = node.value.pid;\n    node.parent = nodeXs[node.value.pid];\n    if (node.parent) {\n      node.value.attr.index = node.parent.children.length;\n      node.parent.children.push(node);\n    }\n  });\n  nodeXs.forEach((node) => {\n    let n = node;\n    let depth = 0;\n    while (n.parent) {\n      depth++;\n      n = n.parent;\n    }\n    node.value.attr.depth = depth;\n\n    node.isLeaf = node.children.length == 0;\n  });\n  return nodeXs[0];\n};\n\nexport const xyInNode = (nodeX: NaiveNode, ox: number, oy: number) => {\n  const attr = nodeX.value.attr;\n  return (\n    attr.left <= ox && ox <= attr.right && attr.top <= oy && oy <= attr.bottom\n  );\n};\n","<script setup lang=\"ts\">\nimport { computed, onUnmounted, shallowReactive, shallowRef, watch } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    initialValue: {\n      left?: number;\n      right?: number;\n      top?: number;\n      bottom?: number;\n    };\n  }>(),\n  { initialValue: () => ({}) },\n);\n\nconst isLeft = props.initialValue.left !== undefined;\nconst isTop = props.initialValue.top !== undefined;\n\nconst offset = shallowReactive({\n  x: (isLeft ? props.initialValue.left : props.initialValue.right) ?? 0,\n  y: (isTop ? props.initialValue.top : props.initialValue.bottom) ?? 0,\n});\nconst currentStyle = computed(() => {\n  const xStyle = isLeft ? `left:${offset.x}px;` : `right:${offset.x}px;`;\n  const yStyle = isTop ? `top:${offset.y}px;` : `bottom:${offset.y}px;`;\n  return xStyle + yStyle;\n});\nlet moving = false;\nconst startMove = () => {\n  moving = true;\n};\nconst move = (ev: PointerEvent) => {\n  if (!moving) return;\n  offset.x += isLeft ? ev.movementX : -ev.movementX;\n  offset.y += isTop ? ev.movementY : -ev.movementY;\n};\nconst endMove = () => {\n  moving = false;\n};\nconst target = shallowRef<HTMLElement>();\n\n// move  window. ,bug\nwindow.addEventListener('pointermove', move);\nonUnmounted(() => {\n  window.removeEventListener('pointermove', move);\n});\nwatch(target, (newValue, oldvalue) => {\n  if (newValue) {\n    newValue.addEventListener('pointerdown', startMove);\n    newValue.addEventListener('pointerup', endMove);\n  }\n  if (oldvalue) {\n    oldvalue.removeEventListener('pointerdown', startMove);\n    oldvalue.removeEventListener('pointerup', endMove);\n  }\n});\nonUnmounted(() => {\n  if (!target.value) return;\n  target.value.removeEventListener('pointerdown', startMove);\n  target.value.removeEventListener('pointerup', endMove);\n});\nconst updateTarget = (arg: unknown) => {\n  if (arg instanceof HTMLElement) {\n    target.value = arg;\n  } else {\n    target.value = undefined;\n  }\n};\n</script>\n<template>\n  <Teleport to=\"body\">\n    <div\n      fixed\n      :style=\"[$attrs.style as string, currentStyle]\"\n      :class=\"$attrs.class\"\n    >\n      <slot :onRef=\"updateTarget\"></slot>\n    </div>\n  </Teleport>\n</template>\n","<script setup lang=\"ts\">\nimport { toSelectorLiteral } from '@/utils';\nimport type { NaiveNode } from '@/utils/types';\nimport { NEllipsis, NTable, NTbody, NTd, NTh, NTr } from 'naive-ui';\nimport { computed, watch } from 'vue';\nimport DraggableCard from './DraggableCard.vue';\nimport { message } from '@/utils/discrete';\nimport { copy } from '@/utils/others';\n\nconst props = withDefaults(defineProps<{ focusNode: NaiveNode }>(), {});\n\nconst attrs = computed(() => {\n  return Object.entries(props.focusNode.value.attr).map(([name, value]) => {\n    value = toSelectorLiteral(value);\n    return {\n      name,\n      value,\n    };\n  });\n});\n</script>\n\n<template>\n  <DraggableCard :initial-value=\"{ top: 90, right: 10 }\" v-slot=\"{ onRef }\">\n    <NTable size=\"small\" striped :single-line=\"false\" class=\"gkd_code\">\n      <thead cursor-move :ref=\"onRef\">\n        <NTr>\n          <NTh> Name </NTh>\n          <NTh> Value </NTh>\n        </NTr>\n      </thead>\n      <NTbody>\n        <NTr v-for=\"attrx in attrs\" :key=\"attrx.name\">\n          <NTd>\n            <span @click=\"copy(`[${attrx.name}=${attrx.value}]`)\">\n              {{ attrx.name }}\n            </span>\n          </NTd>\n          <NTd>\n            <NEllipsis style=\"width: 250px\">\n              {{ attrx.value }}\n            </NEllipsis>\n          </NTd>\n        </NTr>\n      </NTbody>\n    </NTable>\n  </DraggableCard>\n</template>\n","<script setup lang=\"ts\">\nimport { getImageSize, traverseNode, xyInNode } from '@/utils';\nimport type { NaiveNode, SizeExt } from '@/utils/types';\nimport { computed, ref, watchEffect } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    url: string;\n    node?: NaiveNode;\n    focusNode?: NaiveNode;\n    skipKeys?: number[];\n  }>(),\n  { skipKeys: () => [] },\n);\n\nconst emit = defineEmits<{\n  (e: 'update:focusNode', data: NaiveNode): void;\n}>();\n\nconst sizeRef = ref<SizeExt>();\nwatchEffect(async () => {\n  sizeRef.value = await getImageSize(props.url);\n});\n\nconst evRef = ref<MouseEvent>();\nwatchEffect(() => {\n  if (!props.node) return;\n  const ev = evRef.value;\n  const img = ev?.target;\n  if (!ev || !img || !(img instanceof HTMLImageElement)) {\n    return;\n  }\n\n  const imgRect = img.getBoundingClientRect();\n  const ox = ((ev.clientX - imgRect.left) / img.offsetWidth) * img.naturalWidth;\n  const oy =\n    ((ev.clientY - imgRect.top) / img.offsetHeight) * img.naturalHeight;\n  for (const childNode of traverseNode(props.node, props.skipKeys)) {\n    if (\n      xyInNode(childNode, ox, oy) &&\n      (childNode.children.length == 0 ||\n        childNode.children.every((n) => !xyInNode(n, ox, oy)))\n    ) {\n      emit('update:focusNode', childNode);\n      return;\n    }\n  }\n});\n\nconst positionStyle = computed(() => {\n  const size = sizeRef.value;\n  if (!size || !props.focusNode) {\n    return ``;\n  }\n  const attr = props.focusNode.value.attr;\n  return {\n    left: `calc(${(100 * attr.left) / size.width + '%'} - 1px)`,\n    top: `calc(${(100 * attr.top) / size.height + '%'} - 1px)`,\n    width: (100 * (attr.right - attr.left)) / size.width + '%',\n    height: (100 * (attr.bottom - attr.top)) / size.height + '%',\n  };\n});\n</script>\n\n<template>\n  <div flex flex-col relative h-full>\n    <img :src=\"url\" @click=\"evRef = $event\" h-full cursor-crosshair />\n    <div\n      :style=\"positionStyle\"\n      absolute\n      pointer-events-none\n      transition-all-300\n      b-1px\n      b-red\n      b-solid\n    ></div>\n  </div>\n</template>\n","import type NodeExt from '../NodeExt';\nimport type CompareOperator from './CompareOperator';\n\nexport default class BinaryExpression {\n  constructor(\n    public readonly name: string,\n    public readonly operator: CompareOperator,\n    public readonly value: unknown,\n  ) {}\n  match(node: NodeExt) {\n    return this.operator.compare(node.attr(this.name), this.value);\n  }\n  toString() {\n    const literalValue =\n      typeof this.value == 'string'\n        ? `'${this.value.replaceAll(`'`, `\\\\'`)}'`\n        : this.value;\n    return `[${this.name}${this.operator.toString()}${literalValue}]`;\n  }\n}\n","type CompareFc = (a: unknown, b: unknown) => boolean | void;\n\nexport default class CompareOperator {\n  constructor(\n    public readonly key: string,\n    public readonly compare: CompareFc = (a, b) => a === b,\n  ) {}\n  toString() {\n    return this.key;\n  }\n  static allSubClasses: CompareOperator[] = [];\n}\n\nconst not = (cls: CompareOperator) => {\n  return new CompareOperator(`!` + cls.key, (...args) => !cls.compare(...args));\n};\n\nconst Equal = new CompareOperator(`=`);\nconst NotEqual = not(Equal);\nconst Start = new CompareOperator(`^=`, (a, b) => {\n  if (typeof a == 'string' && typeof b == 'string') {\n    return a.startsWith(b);\n  }\n});\nconst NotStart = not(Start);\nconst Include = new CompareOperator(`*=`, (a, b) => {\n  if (typeof a == 'string' && typeof b == 'string') {\n    return a.includes(b);\n  }\n});\nconst NotInclude = not(Include);\nconst End = new CompareOperator(`$=`, (a, b) => {\n  if (typeof a == 'string' && typeof b == 'string') {\n    return a.endsWith(b);\n  }\n});\nconst NotEnd = not(End);\nconst Less = new CompareOperator(`<`, (a, b) => {\n  if (typeof a == 'number' && typeof b == 'number') {\n    return a < b;\n  }\n});\nconst LessEqual = new CompareOperator(`<=`, (a, b) => {\n  if (typeof a == 'number' && typeof b == 'number') {\n    return a <= b;\n  }\n});\nconst More = new CompareOperator(`>`, (a, b) => {\n  if (typeof a == 'number' && typeof b == 'number') {\n    return a > b;\n  }\n});\nconst MoreEqual = new CompareOperator(`>=`, (a, b) => {\n  if (typeof a == 'number' && typeof b == 'number') {\n    return a >= b;\n  }\n});\n\nCompareOperator.allSubClasses = [\n  Equal,\n  NotEqual,\n  Start,\n  NotStart,\n  Include,\n  NotInclude,\n  End,\n  NotEnd,\n  Less,\n  LessEqual,\n  More,\n  MoreEqual,\n].sort((a, b) => {\n  return b.key.length - a.key.length;\n});\n","import type Sequence from 'sequency';\nimport type NodeExt from '../NodeExt';\n\ntype TraversalFc = {\n  (node: NodeExt): Sequence<NodeExt | void>;\n  (node: NodeExt, offset: number): NodeExt | void;\n};\n\nexport default class ConnectOperator {\n  constructor(\n    public readonly key: string,\n    public readonly traversal: TraversalFc,\n  ) {}\n  static allSubClasses: ConnectOperator[] = [];\n  static Ancestor: ConnectOperator;\n  toString() {\n    return this.key;\n  }\n}\n\nconst BeforeBrother = new ConnectOperator(`+`, ((node, offset) => {\n  if (offset !== undefined) {\n    return node.getBeforeBrother(offset);\n  }\n  return node.beforeBrothers;\n}) as TraversalFc);\n\nconst AfterBrother = new ConnectOperator(`-`, ((node, offset) => {\n  if (offset !== undefined) {\n    return node.getAfterBrother(offset);\n  }\n  return node.afterBrothers;\n}) as TraversalFc);\n\nconst Ancestor = new ConnectOperator(`>`, ((node, offset) => {\n  if (offset !== undefined) {\n    return node.getAncestor(offset);\n  }\n  return node.ancestors;\n}) as TraversalFc);\n\nconst Child = new ConnectOperator(`<`, ((node, offset) => {\n  if (offset !== undefined) {\n    return node.getChild(offset);\n  }\n  return node.children;\n}) as TraversalFc);\n\nConnectOperator.allSubClasses = [\n  BeforeBrother,\n  AfterBrother,\n  Ancestor,\n  Child,\n].sort((a, b) => {\n  return b.key.length - a.key.length;\n});\nConnectOperator.Ancestor = Ancestor;\n","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.All = void 0;\nvar All = /** @class */ (function () {\n    function All() {\n    }\n    /**\n     * Returns `true` if all elements match the given `predicate`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {boolean}\n     */\n    All.prototype.all = function (predicate) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (!predicate(item.value)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return All;\n}());\nexports.All = All;\n//# sourceMappingURL=all.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Any = void 0;\nvar Any = /** @class */ (function () {\n    function Any() {\n    }\n    /**\n     * Returns `true` if at least one element match the given `predicate`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {boolean}\n     */\n    Any.prototype.any = function (predicate) {\n        if (predicate == null) {\n            return !this.iterator.next().done;\n        }\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (predicate(item.value)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Any;\n}());\nexports.Any = Any;\n//# sourceMappingURL=any.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsIterable = void 0;\nvar AsIterable = /** @class */ (function () {\n    function AsIterable() {\n    }\n    /**\n     * Returns an iterable representation of the sequence.\n     *\n     * @returns {Iterable<T>}\n     */\n    AsIterable.prototype.asIterable = function () {\n        var _a;\n        var iterator = this.iterator;\n        return _a = {},\n            _a[Symbol.iterator] = function () {\n                return iterator;\n            },\n            _a;\n    };\n    return AsIterable;\n}());\nexports.AsIterable = AsIterable;\n//# sourceMappingURL=asIterable.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Associate = void 0;\nvar Associate = /** @class */ (function () {\n    function Associate() {\n    }\n    /**\n     * Transforms each element into a key-value pair and returns the results as map. In case of\n     * duplicate keys the last key-value pair overrides the other.\n     *\n     * @param {(value: T) => [K , V]} transform\n     * @returns {Map<K, V>}\n     */\n    Associate.prototype.associate = function (transform) {\n        var result = new Map();\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var pair = transform(item.value);\n            result.set(pair[0], pair[1]);\n        }\n        return result;\n    };\n    return Associate;\n}());\nexports.Associate = Associate;\n//# sourceMappingURL=associate.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssociateBy = void 0;\nvar AssociateBy = /** @class */ (function () {\n    function AssociateBy() {\n    }\n    AssociateBy.prototype.associateBy = function (keyOrSelector, valueTransform) {\n        var selector = typeof keyOrSelector === \"function\"\n            ? keyOrSelector\n            : function (value) { return value[keyOrSelector]; };\n        var result = new Map();\n        var transform = valueTransform != null\n            ? valueTransform\n            : function (value) { return value; };\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var key = selector(item.value);\n            var value = transform(item.value);\n            result.set(key, value);\n        }\n        return result;\n    };\n    return AssociateBy;\n}());\nexports.AssociateBy = AssociateBy;\n//# sourceMappingURL=associateBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Average = void 0;\nvar Average = /** @class */ (function () {\n    function Average() {\n    }\n    /**\n     * Returns the average of all numbers of the sequence or `NaN` if the sequence is empty.\n     *\n     * @returns {number}\n     */\n    Average.prototype.average = function () {\n        var sum = 0;\n        var count = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            sum += item.value;\n            count++;\n        }\n        return count === 0\n            ? Number.NaN\n            : sum / count;\n    };\n    return Average;\n}());\nexports.Average = Average;\n//# sourceMappingURL=average.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chunk = void 0;\nvar Chunk = /** @class */ (function () {\n    function Chunk() {\n    }\n    /**\n     * Splits the elements of the sequence into arrays which length is determined by\n     * the given `chunkSize` and returns all chunks as array.\n     *\n     * @param {number} chunkSize\n     * @returns {Array<Array<T>>}\n     */\n    Chunk.prototype.chunk = function (chunkSize) {\n        if (chunkSize < 1) {\n            throw new Error(\"chunkSize must be > 0 but is \" + chunkSize);\n        }\n        var result = [];\n        var index = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var chunkIndex = Math.floor(index / chunkSize);\n            if (result[chunkIndex] == null) {\n                result[chunkIndex] = [item.value];\n            }\n            else {\n                result[chunkIndex].push(item.value);\n            }\n            index++;\n        }\n        return result;\n    };\n    return Chunk;\n}());\nexports.Chunk = Chunk;\n//# sourceMappingURL=chunk.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contains = void 0;\nvar Contains = /** @class */ (function () {\n    function Contains() {\n    }\n    /**\n     * Returns `true` if the sequence contains the given `element`.\n     *\n     * @param {T} element\n     * @returns {boolean}\n     */\n    Contains.prototype.contains = function (element) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (element === item.value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Contains;\n}());\nexports.Contains = Contains;\n//# sourceMappingURL=contains.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Count = void 0;\nvar Count = /** @class */ (function () {\n    function Count() {\n    }\n    /**\n     * Returns the number of elements of this sequence. If `predicate` is present, returns\n     * the number of elements matching the given `predicate`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {number}\n     */\n    Count.prototype.count = function (predicate) {\n        var num = 0;\n        if (predicate == null) {\n            for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n                num++;\n            }\n        }\n        else {\n            for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n                if (predicate(item.value)) {\n                    num++;\n                }\n            }\n        }\n        return num;\n    };\n    return Count;\n}());\nexports.Count = Count;\n//# sourceMappingURL=count.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Distinct = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar DistinctIterator = /** @class */ (function () {\n    function DistinctIterator(iterator) {\n        this.iterator = iterator;\n        this.set = new Set();\n    }\n    DistinctIterator.prototype.next = function (value) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var sizeBeforeAdd = this.set.size;\n            this.set.add(item.value);\n            if (this.set.size > sizeBeforeAdd) {\n                return { done: false, value: item.value };\n            }\n        }\n        this.set.clear();\n        return { done: true, value: undefined };\n    };\n    return DistinctIterator;\n}());\nvar Distinct = /** @class */ (function () {\n    function Distinct() {\n    }\n    /**\n     * Returns a new sequence which discards all duplicate elements.\n     *\n     * @returns {Sequence<T>}\n     */\n    Distinct.prototype.distinct = function () {\n        return (0, Sequence_1.createSequence)(new DistinctIterator(this.iterator));\n    };\n    return Distinct;\n}());\nexports.Distinct = Distinct;\n//# sourceMappingURL=distinct.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.DistinctBy = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar DistinctByIterator = /** @class */ (function () {\n    function DistinctByIterator(iterator, selector) {\n        this.iterator = iterator;\n        this.selector = selector;\n        this.set = new Set();\n    }\n    DistinctByIterator.prototype.next = function (value) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var key = this.selector(item.value);\n            var sizeBeforeAdd = this.set.size;\n            this.set.add(key);\n            if (this.set.size > sizeBeforeAdd) {\n                return { done: false, value: item.value };\n            }\n        }\n        this.set.clear();\n        return { done: true, value: undefined };\n    };\n    return DistinctByIterator;\n}());\nvar DistinctBy = /** @class */ (function () {\n    function DistinctBy() {\n    }\n    /**\n     * Returns a new sequence which discards all elements with duplicate items determined\n     * by the given `selector`.\n     *\n     * @param {(item: T) => K} selector\n     * @returns {Sequence<T>}\n     */\n    DistinctBy.prototype.distinctBy = function (selector) {\n        return (0, Sequence_1.createSequence)(new DistinctByIterator(this.iterator, selector));\n    };\n    return DistinctBy;\n}());\nexports.DistinctBy = DistinctBy;\n//# sourceMappingURL=distinctBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Drop = void 0;\nvar Drop = /** @class */ (function () {\n    function Drop() {\n    }\n    /**\n     * Returns a new sequence which discards the first `n` elements;\n     *\n     * @param {number} n\n     * @returns {Sequence<T>}\n     */\n    Drop.prototype.drop = function (n) {\n        return this.withIndex()\n            .dropWhile(function (it) { return it.index < n; })\n            .map(function (it) { return it.value; });\n    };\n    return Drop;\n}());\nexports.Drop = Drop;\n//# sourceMappingURL=drop.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.DropWhile = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar DropWhileIterator = /** @class */ (function () {\n    function DropWhileIterator(iterator, predicate) {\n        this.iterator = iterator;\n        this.predicate = predicate;\n        this.dropping = true;\n    }\n    DropWhileIterator.prototype.next = function (value) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (!this.dropping) {\n                return { done: false, value: item.value };\n            }\n            var result = this.predicate(item.value);\n            if (!result) {\n                this.dropping = false;\n                return { done: false, value: item.value };\n            }\n        }\n        return { done: true, value: undefined };\n    };\n    return DropWhileIterator;\n}());\nvar DropWhile = /** @class */ (function () {\n    function DropWhile() {\n    }\n    /**\n     * Drops all elements of the sequence as long as the given `predicate` evaluates to true.\n     *\n     * @param {(item: T) => boolean} predicate\n     * @returns {Sequence<T>}\n     */\n    DropWhile.prototype.dropWhile = function (predicate) {\n        return (0, Sequence_1.createSequence)(new DropWhileIterator(this.iterator, predicate));\n    };\n    return DropWhile;\n}());\nexports.DropWhile = DropWhile;\n//# sourceMappingURL=dropWhile.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ElementAt = void 0;\nvar ElementAt = /** @class */ (function () {\n    function ElementAt() {\n    }\n    /**\n     * Returns the element at position `index` (zero-based) or throws an error if `index`\n     * is out of bounds.\n     *\n     * @param {number} index\n     * @returns {T}\n     */\n    ElementAt.prototype.elementAt = function (index) {\n        var i = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (i === index) {\n                return item.value;\n            }\n            i++;\n        }\n        throw new Error(\"Index out of bounds: \" + index);\n    };\n    return ElementAt;\n}());\nexports.ElementAt = ElementAt;\n//# sourceMappingURL=elementAt.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ElementAtOrElse = void 0;\nvar ElementAtOrElse = /** @class */ (function () {\n    function ElementAtOrElse() {\n    }\n    /**\n     * Returns the element at position `index` (zero-based). If `index` is out of bounds returns\n     * the result of the given `defaultValue` function.\n     *\n     * @param {number} index\n     * @param defaultValue\n     * @returns {T}\n     */\n    ElementAtOrElse.prototype.elementAtOrElse = function (index, defaultValue) {\n        var i = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (i === index) {\n                return item.value;\n            }\n            i++;\n        }\n        return defaultValue(index);\n    };\n    return ElementAtOrElse;\n}());\nexports.ElementAtOrElse = ElementAtOrElse;\n//# sourceMappingURL=elementAtOrElse.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ElementAtOrNull = void 0;\nvar ElementAtOrNull = /** @class */ (function () {\n    function ElementAtOrNull() {\n    }\n    /**\n     * Returns the element at position `index` (zero-based) or `null` if `index`\n     * is out of bounds.\n     *\n     * @param {number} index\n     * @returns {T}\n     */\n    ElementAtOrNull.prototype.elementAtOrNull = function (index) {\n        var i = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (i === index) {\n                return item.value;\n            }\n            i++;\n        }\n        return null;\n    };\n    return ElementAtOrNull;\n}());\nexports.ElementAtOrNull = ElementAtOrNull;\n//# sourceMappingURL=elementAtOrNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Filter = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar FilterIterator = /** @class */ (function () {\n    function FilterIterator(predicate, iterator) {\n        this.predicate = predicate;\n        this.iterator = iterator;\n    }\n    FilterIterator.prototype.next = function (value) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (this.predicate(item.value)) {\n                return { done: false, value: item.value };\n            }\n        }\n        return { done: true, value: undefined };\n    };\n    return FilterIterator;\n}());\nvar Filter = /** @class */ (function () {\n    function Filter() {\n    }\n    /**\n     * Returns a new sequence consisting of all elements that match the given `predicate`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {Sequence<T>}\n     */\n    Filter.prototype.filter = function (predicate) {\n        return (0, Sequence_1.createSequence)(new FilterIterator(predicate, this.iterator));\n    };\n    return Filter;\n}());\nexports.Filter = Filter;\n//# sourceMappingURL=filter.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterIndexed = void 0;\nvar FilterIndexed = /** @class */ (function () {\n    function FilterIndexed() {\n    }\n    /**\n     * Returns a new sequence consisting of all elements that match the given `predicate`.\n     *\n     * @param {(index: number, value: T) => boolean} predicate\n     * @returns {Sequence<T>}\n     */\n    FilterIndexed.prototype.filterIndexed = function (predicate) {\n        return this.withIndex()\n            .filter(function (it) { return predicate(it.index, it.value); })\n            .map(function (it) { return it.value; });\n    };\n    return FilterIndexed;\n}());\nexports.FilterIndexed = FilterIndexed;\n//# sourceMappingURL=filterIndexed.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterNot = void 0;\nvar FilterNot = /** @class */ (function () {\n    function FilterNot() {\n    }\n    /**\n     * Returns a new sequence consisting of all elements that don't match the given `predicate`.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {Sequence<T>}\n     */\n    FilterNot.prototype.filterNot = function (predicate) {\n        return this.filter(function (value) { return !predicate(value); });\n    };\n    return FilterNot;\n}());\nexports.FilterNot = FilterNot;\n//# sourceMappingURL=filterNot.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterNotNull = void 0;\nvar FilterNotNull = /** @class */ (function () {\n    function FilterNotNull() {\n    }\n    /**\n     * Returns a new sequence consisting of all non-null elements.\n     *\n     * @returns {Sequence<T>}\n     */\n    FilterNotNull.prototype.filterNotNull = function () {\n        return this.filter(function (it) { return it !== null; });\n    };\n    return FilterNotNull;\n}());\nexports.FilterNotNull = FilterNotNull;\n//# sourceMappingURL=filterNotNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.First = void 0;\nvar First = /** @class */ (function () {\n    function First() {\n    }\n    /**\n     * Returns the first element of the sequence or the first element matching `predicate` if present, otherwise throws\n     * an error.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {T}\n     */\n    First.prototype.first = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).first();\n        }\n        var item = this.iterator.next();\n        if (item.done) {\n            throw new Error(\"No such element\");\n        }\n        return item.value;\n    };\n    return First;\n}());\nexports.First = First;\n//# sourceMappingURL=first.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FirstOrNull = void 0;\nvar FirstOrNull = /** @class */ (function () {\n    function FirstOrNull() {\n    }\n    /**\n     * Returns the first element of the sequence or the first element matching `predicate` if present, otherwise returns `null`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {T}\n     */\n    FirstOrNull.prototype.firstOrNull = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).firstOrNull();\n        }\n        var item = this.iterator.next();\n        return item.done\n            ? null\n            : item.value;\n    };\n    /**\n     * Returns the first element of the sequence or the first element matching `predicate` if present, otherwise returns `null`.\n     *\n     * @param {(T) => boolean} predicate\n     * @returns {T}\n     */\n    FirstOrNull.prototype.find = function (predicate) {\n        return this.firstOrNull(predicate);\n    };\n    return FirstOrNull;\n}());\nexports.FirstOrNull = FirstOrNull;\n//# sourceMappingURL=firstOrNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlatMap = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar FlatMapIterator = /** @class */ (function () {\n    function FlatMapIterator(transform, iterator) {\n        this.transform = transform;\n        this.iterator = iterator;\n    }\n    FlatMapIterator.prototype.next = function (value) {\n        if (this.current != null) {\n            var item = this.current.next();\n            if (!item.done) {\n                return item;\n            }\n        }\n        var next = this.iterator.next();\n        if (!next.done) {\n            var sequence = this.transform(next.value);\n            this.current = sequence.iterator;\n            return this.next();\n        }\n        return { done: true, value: undefined };\n    };\n    return FlatMapIterator;\n}());\nvar FlatMap = /** @class */ (function () {\n    function FlatMap() {\n    }\n    /**\n     * Transforms each element into a sequence of items and returns a flat single sequence of all those items.\n     *\n     * @param {(value: S) => Sequence<T>} transform\n     * @returns {Sequence<T>}\n     */\n    FlatMap.prototype.flatMap = function (transform) {\n        return (0, Sequence_1.createSequence)(new FlatMapIterator(transform, this.iterator));\n    };\n    return FlatMap;\n}());\nexports.FlatMap = FlatMap;\n//# sourceMappingURL=flatMap.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Flatten = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar Flatten = /** @class */ (function () {\n    function Flatten() {\n    }\n    /**\n     * Returns a single flat sequence of all the items from all sequences or iterables.\n     *\n     * @returns {Sequence<T>}\n     */\n    Flatten.prototype.flatten = function () {\n        return this.flatMap(function (it) {\n            if ((0, Sequence_1.isSequence)(it)) {\n                return it;\n            }\n            else {\n                return (0, Sequence_1.asSequence)(it);\n            }\n        });\n    };\n    return Flatten;\n}());\nexports.Flatten = Flatten;\n//# sourceMappingURL=flatten.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Fold = void 0;\nvar Fold = /** @class */ (function () {\n    function Fold() {\n    }\n    /**\n     * Accumulates all elements of the sequence into a single result by applying the given `operation` starting with\n     * the `initial` value. The result of the last operation will be passed as accumulated value to the getNext invocation\n     * of the operation until all elements of the sequence are processed.\n     *\n     * @param {R} initial\n     * @param {(acc: R, element: T) => R} operation\n     * @returns {R}\n     */\n    Fold.prototype.fold = function (initial, operation) {\n        var result = initial;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = operation(result, item.value);\n        }\n        return result;\n    };\n    return Fold;\n}());\nexports.Fold = Fold;\n//# sourceMappingURL=fold.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldIndexed = void 0;\nvar FoldIndexed = /** @class */ (function () {\n    function FoldIndexed() {\n    }\n    /**\n     * Accumulates all elements of the sequence into a single result by applying the given `operation` starting with\n     * the `initial` value. The result of the last operation will be passed as accumulated value to the getNext invocation\n     * of the operation as well as the `index` of the current element (zero-based) until all elements of the sequence\n     * are processed.\n     *\n     * @param {R} initial\n     * @param {(index: number, acc: R, element: T) => R} operation\n     * @returns {R}\n     */\n    FoldIndexed.prototype.foldIndexed = function (initial, operation) {\n        var result = initial;\n        var index = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = operation(index, result, item.value);\n            index++;\n        }\n        return result;\n    };\n    return FoldIndexed;\n}());\nexports.FoldIndexed = FoldIndexed;\n//# sourceMappingURL=foldIndexed.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ForEach = void 0;\nvar ForEach = /** @class */ (function () {\n    function ForEach() {\n    }\n    /**\n     * Performs the given `action` (side-effect) for each element of the sequence.\n     *\n     * @param {(T) => void} action\n     */\n    ForEach.prototype.forEach = function (action) {\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            action(item.value);\n        }\n    };\n    return ForEach;\n}());\nexports.ForEach = ForEach;\n//# sourceMappingURL=forEach.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ForEachIndexed = void 0;\nvar ForEachIndexed = /** @class */ (function () {\n    function ForEachIndexed() {\n    }\n    /**\n     * Performs the given `action` (side-effect) for each element of the sequence and passes the `index` of the current\n     * element (zero-based).\n     *\n     * @param {(index: number, value: T) => void} action\n     */\n    ForEachIndexed.prototype.forEachIndexed = function (action) {\n        this.withIndex()\n            .forEach(function (it) { return action(it.index, it.value); });\n    };\n    return ForEachIndexed;\n}());\nexports.ForEachIndexed = ForEachIndexed;\n//# sourceMappingURL=forEachIndexed.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.GroupBy = void 0;\nvar GroupBy = /** @class */ (function () {\n    function GroupBy() {\n    }\n    /**\n     * Groups all elements of the sequence into a map. Keys are determined by the given `keySelector` function.\n     *\n     * @param {(value: T) => K} keySelector\n     * @returns {Map<K, Array<T>>}\n     */\n    GroupBy.prototype.groupBy = function (keySelector) {\n        var result = new Map();\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var key = keySelector(item.value);\n            var array = result.get(key);\n            if (array == null) {\n                result.set(key, [item.value]);\n            }\n            else {\n                array.push(item.value);\n            }\n        }\n        return result;\n    };\n    return GroupBy;\n}());\nexports.GroupBy = GroupBy;\n//# sourceMappingURL=groupBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexOf = void 0;\nvar IndexOf = /** @class */ (function () {\n    function IndexOf() {\n    }\n    /**\n     * Returns the zero-based index of the given `element` or -1 if the sequence does not contain the element.\n     *\n     * @param {T} element\n     * @returns {number}\n     */\n    IndexOf.prototype.indexOf = function (element) {\n        var index = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (element === item.value) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    };\n    return IndexOf;\n}());\nexports.IndexOf = IndexOf;\n//# sourceMappingURL=indexOf.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexOfFirst = void 0;\nvar IndexOfFirst = /** @class */ (function () {\n    function IndexOfFirst() {\n    }\n    /**\n     * Returns the zero-based index of the first element matching the given `predicate` or -1 if no element matches\n     * the predicate.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {number}\n     */\n    IndexOfFirst.prototype.indexOfFirst = function (predicate) {\n        var index = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (predicate(item.value)) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    };\n    return IndexOfFirst;\n}());\nexports.IndexOfFirst = IndexOfFirst;\n//# sourceMappingURL=indexOfFirst.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexOfLast = void 0;\nvar IndexOfLast = /** @class */ (function () {\n    function IndexOfLast() {\n    }\n    /**\n     * Returns the zero-based index of the last element matching the given `predicate` or -1 if no element matches\n     * the predicate.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {number}\n     */\n    IndexOfLast.prototype.indexOfLast = function (predicate) {\n        var index = 0;\n        var result = -1;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (predicate(item.value)) {\n                result = index;\n            }\n            index++;\n        }\n        return result;\n    };\n    return IndexOfLast;\n}());\nexports.IndexOfLast = IndexOfLast;\n//# sourceMappingURL=indexOfLast.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.JoinToString = void 0;\nvar defaults = {\n    value: \"\",\n    separator: \", \",\n    prefix: \"\",\n    postfix: \"\",\n    limit: -1,\n    truncated: \"...\",\n    transform: undefined\n};\nvar JoinToString = /** @class */ (function () {\n    function JoinToString() {\n    }\n    /**\n     * Joins all elements of the sequence into a string with the given configuration.\n     *\n     * @param {JoinConfig<T>} config\n     * @returns {string}\n     */\n    JoinToString.prototype.joinToString = function (config) {\n        if (config === void 0) { config = defaults; }\n        var _a = config.value, value = _a === void 0 ? defaults.value : _a, _b = config.separator, separator = _b === void 0 ? defaults.separator : _b, _c = config.prefix, prefix = _c === void 0 ? defaults.prefix : _c, _d = config.postfix, postfix = _d === void 0 ? defaults.postfix : _d, _e = config.limit, limit = _e === void 0 ? defaults.limit : _e, _f = config.truncated, truncated = _f === void 0 ? defaults.truncated : _f, _g = config.transform, transform = _g === void 0 ? defaults.transform : _g;\n        var result = \"\".concat(value).concat(prefix);\n        var count = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            count++;\n            if (count > 1) {\n                result += separator;\n            }\n            if (limit < 0 || count <= limit) {\n                result += transform != null\n                    ? transform(item.value)\n                    : String(item.value);\n            }\n            else {\n                break;\n            }\n        }\n        if (limit >= 0 && count > limit) {\n            result += truncated;\n        }\n        result += postfix;\n        return result;\n    };\n    /**\n     * Joins all elements of the sequence into a string with the given configuration.\n     *\n     * @param {JoinConfig<T>} config\n     * @returns {string}\n     */\n    JoinToString.prototype.joinTo = function (config) {\n        if (config === void 0) { config = defaults; }\n        return this.joinToString(config);\n    };\n    return JoinToString;\n}());\nexports.JoinToString = JoinToString;\n//# sourceMappingURL=joinToString.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Last = void 0;\nvar Last = /** @class */ (function () {\n    function Last() {\n    }\n    /**\n     * Returns the last element of the sequence or the last element matching `predicate` if present, otherwise throws\n     * an error.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {T}\n     */\n    Last.prototype.last = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).last();\n        }\n        var result;\n        var empty = true;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = item.value;\n            empty = false;\n        }\n        if (empty) {\n            throw new Error(\"No such element\");\n        }\n        return result;\n    };\n    return Last;\n}());\nexports.Last = Last;\n//# sourceMappingURL=last.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.LastOrNull = void 0;\nvar LastOrNull = /** @class */ (function () {\n    function LastOrNull() {\n    }\n    /**\n     * Returns the last element of the sequence or the last element matching `predicate` if present, otherwise returns `null`.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {T}\n     */\n    LastOrNull.prototype.lastOrNull = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).lastOrNull();\n        }\n        var result = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = item.value;\n        }\n        return result;\n    };\n    /**\n     * Returns the last element of the sequence or the last element matching `predicate` if present, otherwise returns `null`.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {T}\n     */\n    LastOrNull.prototype.findLast = function (predicate) {\n        return this.lastOrNull(predicate);\n    };\n    return LastOrNull;\n}());\nexports.LastOrNull = LastOrNull;\n//# sourceMappingURL=lastOrNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Map = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar MapIterator = /** @class */ (function () {\n    function MapIterator(transform, iterator) {\n        this.transform = transform;\n        this.iterator = iterator;\n    }\n    MapIterator.prototype.next = function (value) {\n        var item = this.iterator.next();\n        return item.done\n            ? { done: true, value: undefined }\n            : { done: false, value: this.transform(item.value) };\n    };\n    return MapIterator;\n}());\nvar Map = /** @class */ (function () {\n    function Map() {\n    }\n    /**\n     * Transforms each element into another value by applying the given `transform` function and returns a new sequence.\n     *\n     * @param {(S) => T} transform\n     * @returns {Sequence<T>}\n     */\n    Map.prototype.map = function (transform) {\n        return (0, Sequence_1.createSequence)(new MapIterator(transform, this.iterator));\n    };\n    return Map;\n}());\nexports.Map = Map;\n//# sourceMappingURL=map.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MapIndexed = void 0;\nvar MapIndexed = /** @class */ (function () {\n    function MapIndexed() {\n    }\n    /**\n     * Transforms each element into another value by applying the given `transform` function and returns a new sequence.\n     *\n     * @param {(index: number, value: T) => R} transform\n     * @returns {Sequence<R>}\n     */\n    MapIndexed.prototype.mapIndexed = function (transform) {\n        return this.withIndex()\n            .map(function (it) { return transform(it.index, it.value); });\n    };\n    return MapIndexed;\n}());\nexports.MapIndexed = MapIndexed;\n//# sourceMappingURL=mapIndexed.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MapNotNull = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar MapNotNull = /** @class */ (function () {\n    function MapNotNull() {\n    }\n    /**\n     * Transforms each element into another value by applying the given `transform` function and returns a new sequence.\n     * Transformations into `null` values are discarded.\n     *\n     * @param {(value: T) => R} transform\n     * @returns {Sequence<R>}\n     */\n    MapNotNull.prototype.mapNotNull = function (transform) {\n        return this.flatMap(function (value) {\n            var item = transform(value);\n            return item !== null\n                ? (0, Sequence_1.sequenceOf)(item)\n                : (0, Sequence_1.emptySequence)();\n        });\n    };\n    return MapNotNull;\n}());\nexports.MapNotNull = MapNotNull;\n//# sourceMappingURL=mapNotNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Max = void 0;\nvar Max = /** @class */ (function () {\n    function Max() {\n    }\n    /**\n     * Returns the maximum element of the sequence or `null` if sequence is empty.\n     *\n     * @returns {T}\n     */\n    Max.prototype.max = function () {\n        var result = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (result == null || item.value > result) {\n                result = item.value;\n            }\n        }\n        return result;\n    };\n    return Max;\n}());\nexports.Max = Max;\n//# sourceMappingURL=max.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MaxBy = void 0;\nvar MaxBy = /** @class */ (function () {\n    function MaxBy() {\n    }\n    /**\n     * Returns the maximum element by comparing the results of the given `selector` function\n     * for each element of the sequence or `null` if the sequence is empty.\n     *\n     * @param {(value: T) => R} selector\n     * @returns {T}\n     */\n    MaxBy.prototype.maxBy = function (selector) {\n        var max = null;\n        var maxSelected = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var value = selector(item.value);\n            if (maxSelected == null || value > maxSelected) {\n                maxSelected = value;\n                max = item.value;\n            }\n        }\n        return max;\n    };\n    return MaxBy;\n}());\nexports.MaxBy = MaxBy;\n//# sourceMappingURL=maxBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MaxWith = void 0;\nvar MaxWith = /** @class */ (function () {\n    function MaxWith() {\n    }\n    /**\n     * Returns the maximum element of the sequence by evaluating the given `compare`\n     * function or `null` if sequence is empty.\n     *\n     * @returns {T}\n     */\n    MaxWith.prototype.maxWith = function (compare) {\n        var max = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (max == null || compare(item.value, max) > 0) {\n                max = item.value;\n            }\n        }\n        return max;\n    };\n    return MaxWith;\n}());\nexports.MaxWith = MaxWith;\n//# sourceMappingURL=maxWith.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Merge = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar Merge = /** @class */ (function () {\n    function Merge() {\n    }\n    /**\n     * Merges the elements of both sequences into a new sequence. Each element of this sequence is eventually replaced with\n     * an element of the other sequence by comparing results of the given `selector` function. If no value is found in the other\n     * sequence the element is retained. New elements of the other sequence are appended to the end of the new sequence or\n     * prepended to the start of the new sequence, if `prependNewValues` is set to `true`. This operation is not lazy evaluated.\n     *\n     * @param {Sequence<T>} other\n     * @param {(value: T) => S} selector\n     * @param prependNewValues\n     * @returns {Sequence<T>}\n     */\n    Merge.prototype.merge = function (other, selector, prependNewValues) {\n        if (prependNewValues === void 0) { prependNewValues = false; }\n        var mergeValues = (0, Sequence_1.isSequence)(other)\n            ? other.toArray()\n            : (0, Sequence_1.asSequence)(other).toArray();\n        var leftValues = this.toArray();\n        var result = leftValues.map(function (left) {\n            var selected = selector(left);\n            var right = (0, Sequence_1.asSequence)(mergeValues)\n                .find(function (it) { return selector(it) === selected; });\n            if (right != null) {\n                mergeValues = mergeValues.filter(function (it) { return it !== right; });\n                return right;\n            }\n            else {\n                return left;\n            }\n        });\n        if (prependNewValues) {\n            return (0, Sequence_1.asSequence)(__spreadArray(__spreadArray([], mergeValues, true), result, true));\n        }\n        else {\n            return (0, Sequence_1.asSequence)(__spreadArray(__spreadArray([], result, true), mergeValues, true));\n        }\n    };\n    return Merge;\n}());\nexports.Merge = Merge;\n//# sourceMappingURL=merge.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Min = void 0;\nvar Min = /** @class */ (function () {\n    function Min() {\n    }\n    /**\n     * Returns the minimum element of the sequence or `null` if sequence is empty.\n     *\n     * @returns {T}\n     */\n    Min.prototype.min = function () {\n        var result = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (result == null || item.value < result) {\n                result = item.value;\n            }\n        }\n        return result;\n    };\n    return Min;\n}());\nexports.Min = Min;\n//# sourceMappingURL=min.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MinBy = void 0;\nvar MinBy = /** @class */ (function () {\n    function MinBy() {\n    }\n    /**\n     * Returns the minimum element by comparing the results of the given `selector` function\n     * for each element of the sequence or `null` if the sequence is empty.\n     *\n     * @param {(value: T) => R} selector\n     * @returns {T}\n     */\n    MinBy.prototype.minBy = function (selector) {\n        var min = null;\n        var minSelected = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var value = selector(item.value);\n            if (minSelected == null || value < minSelected) {\n                minSelected = value;\n                min = item.value;\n            }\n        }\n        return min;\n    };\n    return MinBy;\n}());\nexports.MinBy = MinBy;\n//# sourceMappingURL=minBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Minus = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar Minus = /** @class */ (function () {\n    function Minus() {\n    }\n    /**\n     * Removes the given `data` and returns a new sequence. Data can either be a single element, an array of elements\n     * or a sequence of elements.\n     *\n     * @param {Sequence<T> | Array<T> | T} data\n     * @returns {Sequence<T>}\n     */\n    Minus.prototype.minus = function (data) {\n        if ((0, Sequence_1.isSequence)(data)) {\n            var array_1 = data.toArray();\n            return this.filter(function (it) { return array_1.indexOf(it) < 0; });\n        }\n        else if (data instanceof Array) {\n            return this.filter(function (it) { return data.indexOf(it) < 0; });\n        }\n        else {\n            return this.filter(function (it) { return it !== data; });\n        }\n    };\n    return Minus;\n}());\nexports.Minus = Minus;\n//# sourceMappingURL=minus.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.MinWith = void 0;\nvar MinWith = /** @class */ (function () {\n    function MinWith() {\n    }\n    /**\n     * Returns the minimum element of the sequence by evaluating the given `compare`\n     * function or `null` if sequence is empty.\n     *\n     * @returns {T}\n     */\n    MinWith.prototype.minWith = function (compare) {\n        var min = null;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (min == null || compare(item.value, min) < 0) {\n                min = item.value;\n            }\n        }\n        return min;\n    };\n    return MinWith;\n}());\nexports.MinWith = MinWith;\n//# sourceMappingURL=minWith.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.None = void 0;\nvar None = /** @class */ (function () {\n    function None() {\n    }\n    /**\n     * Returns `true` if no element match the given `predicate` or if the sequence is empty\n     * if no predicate is present.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {boolean}\n     */\n    None.prototype.none = function (predicate) {\n        var _a, _b;\n        if (predicate == null) {\n            return (_b = (_a = this.iterator.next()) === null || _a === void 0 ? void 0 : _a.done) !== null && _b !== void 0 ? _b : false;\n        }\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (predicate(item.value)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return None;\n}());\nexports.None = None;\n//# sourceMappingURL=none.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.OnEach = void 0;\nvar OnEach = /** @class */ (function () {\n    function OnEach() {\n    }\n    /**\n     * Performs the given `action` for each element and returns the sequence.\n     *\n     * @param {(value: T) => void} action\n     * @returns {Sequence<T>}\n     */\n    OnEach.prototype.onEach = function (action) {\n        return this.map(function (it) {\n            action(it);\n            return it;\n        });\n    };\n    return OnEach;\n}());\nexports.OnEach = OnEach;\n//# sourceMappingURL=onEach.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Partition = void 0;\nvar Partition = /** @class */ (function () {\n    function Partition() {\n    }\n    /**\n     * Evaluates the given `predicate` for each element of the sequence and assorts each element into one of two lists\n     * according to the result of the predicate. Returns both lists as an object.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {{true: Array<T>; false: Array<T>}}\n     */\n    Partition.prototype.partition = function (predicate) {\n        var arrayTrue = [];\n        var arrayFalse = [];\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            if (predicate(item.value)) {\n                arrayTrue.push(item.value);\n            }\n            else {\n                arrayFalse.push(item.value);\n            }\n        }\n        return { \"true\": arrayTrue, \"false\": arrayFalse };\n    };\n    return Partition;\n}());\nexports.Partition = Partition;\n//# sourceMappingURL=partition.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Plus = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar AppendIterator = /** @class */ (function () {\n    function AppendIterator(first, second) {\n        this.first = first;\n        this.second = second;\n    }\n    AppendIterator.prototype.next = function (value) {\n        var item1 = this.first.next();\n        if (!item1.done) {\n            return { done: false, value: item1.value };\n        }\n        var item2 = this.second.next();\n        if (!item2.done) {\n            return { done: false, value: item2.value };\n        }\n        return { done: true, value: undefined };\n    };\n    return AppendIterator;\n}());\nvar Plus = /** @class */ (function () {\n    function Plus() {\n    }\n    Plus.prototype.plus = function (data) {\n        if ((0, Sequence_1.isSequence)(data)) {\n            return (0, Sequence_1.createSequence)(new AppendIterator(this.iterator, data.iterator));\n        }\n        else if (data instanceof Array) {\n            var iterator = data[Symbol.iterator]();\n            return (0, Sequence_1.createSequence)(new AppendIterator(this.iterator, iterator));\n        }\n        else {\n            var iterator = [data][Symbol.iterator]();\n            return (0, Sequence_1.createSequence)(new AppendIterator(this.iterator, iterator));\n        }\n    };\n    return Plus;\n}());\nexports.Plus = Plus;\n//# sourceMappingURL=plus.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Reduce = void 0;\nvar Reduce = /** @class */ (function () {\n    function Reduce() {\n    }\n    /**\n     * Reduces the whole sequence to a single value by invoking `operation` with each element\n     * from left to right. For every invocation of the operation `acc` is the result of the last\n     * invocation. For the first invocation of the operation `acc` is the first element of the\n     * sequence.\n     *\n     * @param {(acc: S, value: T) => S} operation\n     * @returns {S}\n     */\n    Reduce.prototype.reduce = function (operation) {\n        var first = this.iterator.next();\n        if (first.done) {\n            throw new Error(\"Cannot reduce empty sequence\");\n        }\n        var result = first.value;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = operation(result, item.value);\n        }\n        return result;\n    };\n    return Reduce;\n}());\nexports.Reduce = Reduce;\n//# sourceMappingURL=reduce.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReduceIndexed = void 0;\nvar ReduceIndexed = /** @class */ (function () {\n    function ReduceIndexed() {\n    }\n    /**\n     * Reduces the whole sequence to a single value by invoking `operation` with each element\n     * from left to right. For every invocation of the operation `acc` is the result of the last\n     * invocation. For the first invocation of the operation `acc` is the first element of the\n     * sequence. In addition the `index` of the current element is also passed to the operation.\n     *\n     * @param {(index: number, acc: S, element: T) => S} operation\n     * @returns {S}\n     */\n    ReduceIndexed.prototype.reduceIndexed = function (operation) {\n        var first = this.iterator.next();\n        if (first.done) {\n            throw new Error(\"Cannot reduce empty sequence\");\n        }\n        var index = 1;\n        var result = first.value;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result = operation(index, result, item.value);\n            index++;\n        }\n        return result;\n    };\n    return ReduceIndexed;\n}());\nexports.ReduceIndexed = ReduceIndexed;\n//# sourceMappingURL=reduceIndexed.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Reverse = void 0;\nvar Reverse = /** @class */ (function () {\n    function Reverse() {\n    }\n    /**\n     * Returns a new sequence with all elements of the sequence in reverse order.\n     *\n     * @returns {Sequence<T>}\n     */\n    Reverse.prototype.reverse = function () {\n        return this.withIndex()\n            .sortedByDescending(function (it) { return it.index; })\n            .map(function (it) { return it.value; });\n    };\n    return Reverse;\n}());\nexports.Reverse = Reverse;\n//# sourceMappingURL=reverse.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Single = void 0;\nvar Single = /** @class */ (function () {\n    function Single() {\n    }\n    /**\n     * Returns the single element of the sequence or throws error if the sequence has more than\n     * one element or none at all. If a `predicate` is passed returns the single element matching\n     * the predicate or throws an error if more or less than one element match the predicate.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {T}\n     */\n    Single.prototype.single = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).single();\n        }\n        var first = this.iterator.next();\n        if (first.done) {\n            throw new Error(\"No such element\");\n        }\n        if (!this.iterator.next().done) {\n            throw new Error(\"Expect single element\");\n        }\n        return first.value;\n    };\n    return Single;\n}());\nexports.Single = Single;\n//# sourceMappingURL=single.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SingleOrNull = void 0;\nvar SingleOrNull = /** @class */ (function () {\n    function SingleOrNull() {\n    }\n    /**\n     * Returns the single element of the sequence or `null` if the sequence has more than\n     * one element or none at all. If a `predicate` is passed returns the single element matching\n     * the predicate or `null` if more or less than one element match the predicate.\n     *\n     * @param {(value: T) => boolean} predicate\n     * @returns {T}\n     */\n    SingleOrNull.prototype.singleOrNull = function (predicate) {\n        if (predicate != null) {\n            return this.filter(predicate).singleOrNull();\n        }\n        var first = this.iterator.next();\n        if (first.done) {\n            return null;\n        }\n        if (!this.iterator.next().done) {\n            return null;\n        }\n        return first.value;\n    };\n    return SingleOrNull;\n}());\nexports.SingleOrNull = SingleOrNull;\n//# sourceMappingURL=singleOrNull.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nfunction compare(comparison) {\n    return Object.assign(comparison, {\n        reversed: function () {\n            return compare(function (a, b) { return comparison(a, b) * -1; });\n        },\n        then: function (nextComparison) {\n            return compare(function (a, b) {\n                var result = comparison(a, b);\n                return result !== 0\n                    ? result\n                    : nextComparison(a, b);\n            });\n        },\n        thenDescending: function (nextComparison) {\n            return this.then(compare(nextComparison)\n                .reversed());\n        },\n        thenBy: function (keyOrSelector) {\n            var selector = asSelector(keyOrSelector);\n            return this.then(function (a, b) { return naturalCompare(selector(a), selector(b)); });\n        },\n        thenByDescending: function (keyOrSelector) {\n            var selector = asSelector(keyOrSelector);\n            return this.then(compare(function (a, b) { return naturalCompare(selector(a), selector(b)); }).reversed());\n        }\n    });\n}\nfunction compareBy(keyOrSelector) {\n    var selector = asSelector(keyOrSelector);\n    return compare(function (a, b) { return naturalCompare(selector(a), selector(b)); });\n}\nfunction compareByDescending(keyOrSelector) {\n    var selector = asSelector(keyOrSelector);\n    return compare(function (a, b) { return naturalCompare(selector(b), selector(a)); });\n}\nfunction asSelector(keyOrSelector) {\n    return typeof keyOrSelector === \"function\"\n        ? keyOrSelector\n        : function (item) { return item[keyOrSelector]; };\n}\nfunction naturalCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\nfunction naturalOrder() {\n    return compare(naturalCompare);\n}\nfunction reverseOrder() {\n    return compare(naturalCompare).reversed();\n}\nfunction nullsLast() {\n    return compare(function (a, b) { return a === null ? 1 : b === null ? -1 : 0; });\n}\nfunction nullsFirst() {\n    return compare(function (a, b) { return a === null ? -1 : b === null ? 1 : 0; });\n}\nfunction createComparatorFactory() {\n    return {\n        compare: compare,\n        compareBy: compareBy,\n        compareByDescending: compareByDescending,\n        naturalOrder: naturalOrder,\n        reverseOrder: reverseOrder,\n        nullsFirst: nullsFirst,\n        nullsLast: nullsLast\n    };\n}\nexports.default = createComparatorFactory;\n//# sourceMappingURL=createComparatorFactory.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sorted = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar createComparatorFactory_1 = require(\"./createComparatorFactory\");\nvar Sorted = /** @class */ (function () {\n    function Sorted() {\n    }\n    /**\n     * Returns a new sequence with all elements sorted by the comparator specified by the given `composeComparator` function\n     * or in natural order if no arguments are given.\n     *\n     * @returns {Sequence<T>}\n     */\n    Sorted.prototype.sorted = function (composeComparator) {\n        var result = [];\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result.push(item.value);\n        }\n        if (composeComparator == null) {\n            result.sort();\n        }\n        else {\n            var factory = (0, createComparatorFactory_1.default)();\n            var comparator = composeComparator(factory);\n            result.sort(comparator);\n        }\n        var iterator = result[Symbol.iterator]();\n        return (0, Sequence_1.createSequence)(iterator);\n    };\n    return Sorted;\n}());\nexports.Sorted = Sorted;\n//# sourceMappingURL=sorted.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortedBy = void 0;\nvar SortedBy = /** @class */ (function () {\n    function SortedBy() {\n    }\n    /**\n     * Returns a new sequence with all elements sorted ascending by the value specified\n     * by the given `selector` function.\n     *\n     * @param {(value: T) => R} selector\n     * @returns {Sequence<T>}\n     */\n    SortedBy.prototype.sortedBy = function (selector) {\n        return this.sorted(function (it) { return it.compareBy(selector); });\n    };\n    return SortedBy;\n}());\nexports.SortedBy = SortedBy;\n//# sourceMappingURL=sortedBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortedByDescending = void 0;\nvar SortedByDescending = /** @class */ (function () {\n    function SortedByDescending() {\n    }\n    /**\n     * Returns a new sequence with all elements sorted descending by the value specified\n     * by the given `selector` function.\n     *\n     * @param {(value: T) => R} selector\n     * @returns {Sequence<T>}\n     */\n    SortedByDescending.prototype.sortedByDescending = function (selector) {\n        return this.sorted(function (it) { return it.compareByDescending(selector); });\n    };\n    return SortedByDescending;\n}());\nexports.SortedByDescending = SortedByDescending;\n//# sourceMappingURL=sortedByDescending.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortedDescending = void 0;\nvar SortedDescending = /** @class */ (function () {\n    function SortedDescending() {\n    }\n    /**\n     * Returns a new sequence with all elements sorted in reverse (descending) natural order.\n     *\n     * @returns {Sequence<T>}\n     */\n    SortedDescending.prototype.sortedDescending = function () {\n        return this.sorted(function (it) { return it.reverseOrder(); });\n    };\n    return SortedDescending;\n}());\nexports.SortedDescending = SortedDescending;\n//# sourceMappingURL=sortedDescending.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortedWith = void 0;\nvar SortedWith = /** @class */ (function () {\n    function SortedWith() {\n    }\n    /**\n     * Returns a new sequence with all elements sorted be the given `compare` function.\n     *\n     * @param {(a: T, b: T) => number} comparison\n     * @returns {Sequence<T>}\n     */\n    SortedWith.prototype.sortedWith = function (comparison) {\n        return this.sorted(function (it) { return it.compare(comparison); });\n    };\n    return SortedWith;\n}());\nexports.SortedWith = SortedWith;\n//# sourceMappingURL=sortedWith.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sum = void 0;\nvar Sum = /** @class */ (function () {\n    function Sum() {\n    }\n    /**\n     * Returns the sum of all numbers.\n     *\n     * @returns {number}\n     */\n    Sum.prototype.sum = function () {\n        var result = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result += item.value;\n        }\n        return result;\n    };\n    return Sum;\n}());\nexports.Sum = Sum;\n//# sourceMappingURL=sum.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.SumBy = void 0;\nvar SumBy = /** @class */ (function () {\n    function SumBy() {\n    }\n    /**\n     * Returns the sum of all numbers specified by the given `selector` function.\n     *\n     * @param {(value: T) => number} selector\n     * @returns {number}\n     */\n    SumBy.prototype.sumBy = function (selector) {\n        var result = 0;\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result += selector(item.value);\n        }\n        return result;\n    };\n    return SumBy;\n}());\nexports.SumBy = SumBy;\n//# sourceMappingURL=sumBy.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Take = void 0;\nvar Take = /** @class */ (function () {\n    function Take() {\n    }\n    /**\n     * Returns a new sequence consisting of the first `n` elements. All other elements\n     * are discarded.\n     *\n     * @param {number} n\n     * @returns {Sequence<T>}\n     */\n    Take.prototype.take = function (n) {\n        return this.withIndex()\n            .takeWhile(function (it) { return it.index < n; })\n            .map(function (it) { return it.value; });\n    };\n    return Take;\n}());\nexports.Take = Take;\n//# sourceMappingURL=take.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.TakeWhile = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar TakeWhileIterator = /** @class */ (function () {\n    function TakeWhileIterator(iterator, predicate) {\n        this.iterator = iterator;\n        this.predicate = predicate;\n    }\n    TakeWhileIterator.prototype.next = function (value) {\n        var item = this.iterator.next();\n        if (!item.done) {\n            var result = this.predicate(item.value);\n            if (result) {\n                return { done: false, value: item.value };\n            }\n        }\n        return { done: true, value: undefined };\n    };\n    return TakeWhileIterator;\n}());\nvar TakeWhile = /** @class */ (function () {\n    function TakeWhile() {\n    }\n    /**\n     * Takes all elements of the sequence as long as the given `predicate` evaluates to true.\n     *\n     * @param {(item: T) => boolean} predicate\n     * @returns {Sequence<T>}\n     */\n    TakeWhile.prototype.takeWhile = function (predicate) {\n        return (0, Sequence_1.createSequence)(new TakeWhileIterator(this.iterator, predicate));\n    };\n    return TakeWhile;\n}());\nexports.TakeWhile = TakeWhile;\n//# sourceMappingURL=takeWhile.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToArray = void 0;\nvar ToArray = /** @class */ (function () {\n    function ToArray() {\n    }\n    /**\n     * Returns all elements of the sequence as array. If an `array` is passed\n     * the elements are appended to the end of the array.\n     *\n     * @param {Array<T>} array\n     * @returns {Array<T>}\n     */\n    ToArray.prototype.toArray = function (array) {\n        var result = array || [];\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result.push(item.value);\n        }\n        return result;\n    };\n    /**\n     * Returns all elements of the sequence as array. If an `array` is passed\n     * the elements are appended to the end of the array.\n     *\n     * @param {Array<T>} array\n     * @returns {Array<T>}\n     */\n    ToArray.prototype.toList = function (array) {\n        return this.toArray(array);\n    };\n    return ToArray;\n}());\nexports.ToArray = ToArray;\n//# sourceMappingURL=toArray.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToMap = void 0;\nvar ToMap = /** @class */ (function () {\n    function ToMap() {\n    }\n    /**\n     * Returns a map consisting of each key-value pair. If a `map` is passed\n     * the pairs are set on this map. Duplicate keys override each other.\n     *\n     * @param {Map<K, V>} map\n     * @returns {Map<K, V>}\n     */\n    ToMap.prototype.toMap = function (map) {\n        var result = map || new Map();\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var pair = item.value;\n            var key = pair[0];\n            var value = pair[1];\n            result.set(key, value);\n        }\n        return result;\n    };\n    return ToMap;\n}());\nexports.ToMap = ToMap;\n//# sourceMappingURL=toMap.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToSet = void 0;\nvar ToSet = /** @class */ (function () {\n    function ToSet() {\n    }\n    /**\n     * Returns all elements of the sequence as set. If a `set` is passed\n     * the elements are added to this set.\n     *\n     * @param {Set<T>} set\n     * @returns {Set<T>}\n     */\n    ToSet.prototype.toSet = function (set) {\n        var result = set || new Set();\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            result.add(item.value);\n        }\n        return result;\n    };\n    return ToSet;\n}());\nexports.ToSet = ToSet;\n//# sourceMappingURL=toSet.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unzip = void 0;\nvar Unzip = /** @class */ (function () {\n    function Unzip() {\n    }\n    /**\n     * Returns a pair of arrays where the first array contains all first values\n     * and the second array all second values from each input pair of the sequence.\n     *\n     * @returns {[Array<T> , Array<S>]}\n     */\n    Unzip.prototype.unzip = function () {\n        var array1 = [];\n        var array2 = [];\n        for (var item = this.iterator.next(); !item.done; item = this.iterator.next()) {\n            var _a = item.value, first = _a[0], second = _a[1];\n            array1.push(first);\n            array2.push(second);\n        }\n        return [array1, array2];\n    };\n    return Unzip;\n}());\nexports.Unzip = Unzip;\n//# sourceMappingURL=unzip.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.WithIndex = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar IndexIterator = /** @class */ (function () {\n    function IndexIterator(iterator) {\n        this.iterator = iterator;\n        this.index = -1;\n    }\n    IndexIterator.prototype.next = function (value) {\n        var item = this.iterator.next();\n        if (item.done) {\n            return { done: true, value: undefined };\n        }\n        this.index++;\n        return {\n            done: false,\n            value: {\n                index: this.index,\n                value: item.value\n            }\n        };\n    };\n    return IndexIterator;\n}());\nvar WithIndex = /** @class */ (function () {\n    function WithIndex() {\n    }\n    /**\n     * Returns a new sequence consisting of indexed values for all original elements.\n     *\n     * @returns {Sequence<IndexedValue<T>>}\n     */\n    WithIndex.prototype.withIndex = function () {\n        return (0, Sequence_1.createSequence)(new IndexIterator(this.iterator));\n    };\n    return WithIndex;\n}());\nexports.WithIndex = WithIndex;\n//# sourceMappingURL=withIndex.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.Zip = void 0;\nvar Sequence_1 = require(\"./Sequence\");\nvar ZipIterator = /** @class */ (function () {\n    function ZipIterator(iterator1, iterator2) {\n        this.iterator1 = iterator1;\n        this.iterator2 = iterator2;\n    }\n    ZipIterator.prototype.next = function (value) {\n        var item1 = this.iterator1.next();\n        var item2 = this.iterator2.next();\n        if (item1.done || item2.done) {\n            return { done: true, value: undefined };\n        }\n        else {\n            return { done: false, value: [item1.value, item2.value] };\n        }\n    };\n    return ZipIterator;\n}());\nvar Zip = /** @class */ (function () {\n    function Zip() {\n    }\n    /**\n     * Returns a new sequence consisting of pairs built the elements of both sequences\n     * with the same index. The resulting sequence has the length of the shortest input\n     * sequence. All other elements are discarded.\n     *\n     * @param {Sequence<S>} other\n     * @returns {Sequence<[T , S]>}\n     */\n    Zip.prototype.zip = function (other) {\n        return (0, Sequence_1.createSequence)(new ZipIterator(this.iterator, other.iterator));\n    };\n    return Zip;\n}());\nexports.Zip = Zip;\n//# sourceMappingURL=zip.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nvar GeneratorIterator = /** @class */ (function () {\n    function GeneratorIterator(nextFunction) {\n        this.nextFunction = nextFunction;\n    }\n    GeneratorIterator.prototype.next = function (value) {\n        var nextItem = this.nextFunction();\n        return {\n            done: nextItem == null,\n            value: nextItem\n        };\n    };\n    return GeneratorIterator;\n}());\nexports.default = GeneratorIterator;\n//# sourceMappingURL=GeneratorIterator.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nvar GeneratorSeedIterator = /** @class */ (function () {\n    function GeneratorSeedIterator(seed, nextFunction) {\n        this.seed = seed;\n        this.nextFunction = nextFunction;\n    }\n    GeneratorSeedIterator.prototype.next = function (value) {\n        if (this.prevItem == null) {\n            this.prevItem = this.seed;\n            return { done: false, value: this.seed };\n        }\n        var nextItem = this.nextFunction(this.prevItem);\n        if (nextItem == null) {\n            return { done: true, value: undefined };\n        }\n        this.prevItem = nextItem;\n        return {\n            done: false,\n            value: nextItem\n        };\n    };\n    return GeneratorSeedIterator;\n}());\nexports.default = GeneratorSeedIterator;\n//# sourceMappingURL=GeneratorSeedIterator.js.map","Object.defineProperty(exports, \"__esModule\", { value: true });\nexports.range = exports.generateSequence = exports.extendSequence = exports.isSequence = exports.createSequence = exports.asSequence = exports.emptySequence = exports.sequenceOf = void 0;\nvar all_1 = require(\"./all\");\nvar any_1 = require(\"./any\");\nvar asIterable_1 = require(\"./asIterable\");\nvar associate_1 = require(\"./associate\");\nvar associateBy_1 = require(\"./associateBy\");\nvar average_1 = require(\"./average\");\nvar chunk_1 = require(\"./chunk\");\nvar contains_1 = require(\"./contains\");\nvar count_1 = require(\"./count\");\nvar distinct_1 = require(\"./distinct\");\nvar distinctBy_1 = require(\"./distinctBy\");\nvar drop_1 = require(\"./drop\");\nvar dropWhile_1 = require(\"./dropWhile\");\nvar elementAt_1 = require(\"./elementAt\");\nvar elementAtOrElse_1 = require(\"./elementAtOrElse\");\nvar elementAtOrNull_1 = require(\"./elementAtOrNull\");\nvar filter_1 = require(\"./filter\");\nvar filterIndexed_1 = require(\"./filterIndexed\");\nvar filterNot_1 = require(\"./filterNot\");\nvar filterNotNull_1 = require(\"./filterNotNull\");\nvar first_1 = require(\"./first\");\nvar firstOrNull_1 = require(\"./firstOrNull\");\nvar flatMap_1 = require(\"./flatMap\");\nvar flatten_1 = require(\"./flatten\");\nvar fold_1 = require(\"./fold\");\nvar foldIndexed_1 = require(\"./foldIndexed\");\nvar forEach_1 = require(\"./forEach\");\nvar forEachIndexed_1 = require(\"./forEachIndexed\");\nvar groupBy_1 = require(\"./groupBy\");\nvar indexOf_1 = require(\"./indexOf\");\nvar indexOfFirst_1 = require(\"./indexOfFirst\");\nvar indexOfLast_1 = require(\"./indexOfLast\");\nvar joinToString_1 = require(\"./joinToString\");\nvar last_1 = require(\"./last\");\nvar lastOrNull_1 = require(\"./lastOrNull\");\nvar map_1 = require(\"./map\");\nvar mapIndexed_1 = require(\"./mapIndexed\");\nvar mapNotNull_1 = require(\"./mapNotNull\");\nvar max_1 = require(\"./max\");\nvar maxBy_1 = require(\"./maxBy\");\nvar maxWith_1 = require(\"./maxWith\");\nvar merge_1 = require(\"./merge\");\nvar min_1 = require(\"./min\");\nvar minBy_1 = require(\"./minBy\");\nvar minus_1 = require(\"./minus\");\nvar minWith_1 = require(\"./minWith\");\nvar none_1 = require(\"./none\");\nvar onEach_1 = require(\"./onEach\");\nvar partition_1 = require(\"./partition\");\nvar plus_1 = require(\"./plus\");\nvar reduce_1 = require(\"./reduce\");\nvar reduceIndexed_1 = require(\"./reduceIndexed\");\nvar reverse_1 = require(\"./reverse\");\nvar single_1 = require(\"./single\");\nvar singleOrNull_1 = require(\"./singleOrNull\");\nvar sorted_1 = require(\"./sorted\");\nvar sortedBy_1 = require(\"./sortedBy\");\nvar sortedByDescending_1 = require(\"./sortedByDescending\");\nvar sortedDescending_1 = require(\"./sortedDescending\");\nvar sortedWith_1 = require(\"./sortedWith\");\nvar sum_1 = require(\"./sum\");\nvar sumBy_1 = require(\"./sumBy\");\nvar take_1 = require(\"./take\");\nvar takeWhile_1 = require(\"./takeWhile\");\nvar toArray_1 = require(\"./toArray\");\nvar toMap_1 = require(\"./toMap\");\nvar toSet_1 = require(\"./toSet\");\nvar unzip_1 = require(\"./unzip\");\nvar withIndex_1 = require(\"./withIndex\");\nvar zip_1 = require(\"./zip\");\nvar GeneratorIterator_1 = require(\"./GeneratorIterator\");\nvar GeneratorSeedIterator_1 = require(\"./GeneratorSeedIterator\");\nvar SequenceImpl = /** @class */ (function () {\n    function SequenceImpl(iterator) {\n        this.iterator = iterator;\n    }\n    return SequenceImpl;\n}());\napplyMixins(SequenceImpl, [all_1.All, any_1.Any, asIterable_1.AsIterable, associate_1.Associate, associateBy_1.AssociateBy, average_1.Average, chunk_1.Chunk, contains_1.Contains, count_1.Count, distinct_1.Distinct, distinctBy_1.DistinctBy, drop_1.Drop,\n    dropWhile_1.DropWhile, elementAt_1.ElementAt, elementAtOrElse_1.ElementAtOrElse, elementAtOrNull_1.ElementAtOrNull, filter_1.Filter, filterIndexed_1.FilterIndexed, filterNot_1.FilterNot, filterNotNull_1.FilterNotNull, first_1.First, firstOrNull_1.FirstOrNull, flatMap_1.FlatMap, flatten_1.Flatten, fold_1.Fold, foldIndexed_1.FoldIndexed,\n    forEach_1.ForEach, forEachIndexed_1.ForEachIndexed, groupBy_1.GroupBy, indexOf_1.IndexOf, indexOfFirst_1.IndexOfFirst, indexOfLast_1.IndexOfLast, joinToString_1.JoinToString, last_1.Last, lastOrNull_1.LastOrNull, map_1.Map, mapIndexed_1.MapIndexed, mapNotNull_1.MapNotNull, max_1.Max, maxBy_1.MaxBy, maxWith_1.MaxWith, merge_1.Merge, min_1.Min, minBy_1.MinBy,\n    minus_1.Minus, minWith_1.MinWith, none_1.None, onEach_1.OnEach, partition_1.Partition, plus_1.Plus, reduce_1.Reduce, reduceIndexed_1.ReduceIndexed, reverse_1.Reverse, single_1.Single, singleOrNull_1.SingleOrNull, sorted_1.Sorted, sortedBy_1.SortedBy, sortedByDescending_1.SortedByDescending, sortedDescending_1.SortedDescending, sortedWith_1.SortedWith,\n    sum_1.Sum, sumBy_1.SumBy, take_1.Take, takeWhile_1.TakeWhile, toArray_1.ToArray, toMap_1.ToMap, toSet_1.ToSet, unzip_1.Unzip, withIndex_1.WithIndex, zip_1.Zip]);\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach(function (baseCtor) {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\nfunction sequenceOf() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return asSequence(args);\n}\nexports.sequenceOf = sequenceOf;\nfunction emptySequence() {\n    return asSequence([]);\n}\nexports.emptySequence = emptySequence;\nfunction asSequence(iterable) {\n    if (iterable === null) {\n        throw new Error(\"Cannot create sequence for input: null\");\n    }\n    if (iterable === undefined) {\n        throw new Error(\"Cannot create sequence for input: undefined\");\n    }\n    if (iterable[Symbol.iterator] == null) {\n        throw new Error(\"Cannot create sequence for non-iterable input: \" + iterable);\n    }\n    var iterator = iterable[Symbol.iterator]();\n    return createSequence(iterator);\n}\nexports.asSequence = asSequence;\nfunction createSequence(iterator) {\n    return new SequenceImpl(iterator);\n}\nexports.createSequence = createSequence;\nfunction isSequence(object) {\n    return object instanceof SequenceImpl;\n}\nexports.isSequence = isSequence;\nfunction extendSequence(mixin) {\n    applyMixins(SequenceImpl, [mixin]);\n}\nexports.extendSequence = extendSequence;\nfunction generateSequence(a, b) {\n    if (typeof a === \"function\" && b == null) {\n        return createSequence(new GeneratorIterator_1.default(a));\n    }\n    var seed = typeof a === \"function\" ? a() : a;\n    return seed != null\n        ? createSequence(new GeneratorSeedIterator_1.default(seed, b))\n        : emptySequence();\n}\nexports.generateSequence = generateSequence;\nfunction range(start, endInclusive, step) {\n    if (step === void 0) { step = 1; }\n    if (start > endInclusive) {\n        throw new Error(\"start [\".concat(start, \"] must be lower then endInclusive [\").concat(endInclusive, \"]\"));\n    }\n    var current = start;\n    return generateSequence(function () {\n        try {\n            return current <= endInclusive\n                ? current\n                : undefined;\n        }\n        finally {\n            current += step;\n        }\n    });\n}\nexports.range = range;\n//# sourceMappingURL=Sequence.js.map","export const when = <T>(\n  cases: [() => boolean, () => T][],\n  _else: () => T,\n): T => {\n  for (const [match, result] of cases) {\n    if (match()) {\n      return result();\n    }\n  }\n  return _else();\n};\n\nexport class Pair<A, B> {\n  constructor(public readonly first: A, public readonly second: B) {}\n  get destruction() {\n    return [this.first, this.second] as const;\n  }\n}\n\nexport const lazyFc = <T extends (...args: any[]) => any>(\n  initFc: () => T,\n): T => {\n  let fc: T | undefined = undefined;\n  return ((...args: any[]) => {\n    if (!fc) {\n      fc = initFc();\n    }\n    return fc(...args);\n  }) as T;\n};\n","import type Sequence from 'sequency';\nimport type NodeExt from '../NodeExt';\nimport { emptySequence } from 'sequency';\nimport { lazyFc } from '../kotlin';\n\ntype TraversalFc = (_: Sequence<NodeExt | void>) => Sequence<NodeExt | void>;\n\nexport default class PolynomialExpression {\n  constructor(public readonly a = 0, public readonly b = 1) {}\n  toString() {\n    const { a, b } = this;\n    if (a == 0 && b == 0) return '0';\n    if (a == 1 && b == 1) return '(n+1)';\n    if (b == 0) {\n      if (a == 1) return 'n';\n      return a > 0 ? `${a}n` : `(${a}n)`;\n    }\n    if (a == 0) {\n      if (b == 1) return '';\n      return b > 0 ? b.toString() : `(${b})`;\n    }\n    const bOp = b >= 0 ? '+' : '';\n    return `(${a}n${bOp}${b})`;\n  }\n  get b1() {\n    return this.b - 1;\n  }\n  get isConstant() {\n    return this.a == 0;\n  }\n\n  traversal: TraversalFc = lazyFc(() => {\n    const { a, b, b1 } = this;\n    if (a <= 0 && b <= 0) {\n      return () => emptySequence();\n    }\n    return (sequence) => {\n      return sequence.filterIndexed(\n        (x) => (x - b1) % a == 0 && (x - b1) / a > 0,\n      );\n    };\n  });\n}\n","import type Sequence from 'sequency';\nimport { createSequence } from 'sequency';\nimport type NodeExt from '../NodeExt';\nimport ConnectOperator from './ConnectOperator';\nimport PolynomialExpression from './PolynomialExpression';\nimport { lazyFc } from '../kotlin';\ntype TraversalFc = (node: NodeExt) => Sequence<NodeExt | void>;\n\nexport default class ConnectSegment {\n  constructor(\n    public readonly operator: ConnectOperator = ConnectOperator.Ancestor,\n    public readonly polynomialExpression: PolynomialExpression = new PolynomialExpression(),\n  ) {}\n  toString() {\n    const { operator, polynomialExpression } = this;\n    if (\n      operator == ConnectOperator.Ancestor &&\n      polynomialExpression.a == 1 &&\n      polynomialExpression.b == 0\n    ) {\n      return '';\n    }\n    return operator.toString() + polynomialExpression.toString();\n  }\n\n  traversal: TraversalFc = lazyFc(() => {\n    const { polynomialExpression, operator } = this;\n    if (polynomialExpression.isConstant) {\n      return (node) => {\n        return createSequence<NodeExt>(\n          (function* () {\n            const node1 = operator.traversal(node, polynomialExpression.b1);\n            if (node1 != null) {\n              yield node1;\n            }\n          })(),\n        );\n      };\n    }\n    return (node) => {\n      return polynomialExpression.traversal(operator.traversal(node));\n    };\n  });\n}\n","import NodeExt from '../NodeExt';\nimport ConnectSegment from './ConnectSegment';\nimport PropertyWrapper from './PropertyWrapper';\n\nexport default class ConnectWrapper {\n  constructor(\n    public readonly connectSegment: ConnectSegment,\n    public readonly to: PropertyWrapper,\n  ) {}\n\n  toString(): string {\n    const { connectSegment, to } = this;\n    return (to.toString() + '\\u0020' + connectSegment.toString()).trim();\n  }\n  match(\n    node: NodeExt,\n    trackNodes: Array<NodeExt> = [],\n  ): Array<NodeExt> | null | void {\n    const { connectSegment, to } = this;\n    for (const it of connectSegment.traversal(node).asIterable()) {\n      if (it == null) continue;\n      const r = to.match(it, trackNodes);\n      if (r) return r;\n    }\n    return null;\n  }\n}\n","import type NodeExt from '../NodeExt';\nimport { lazyFc } from '../kotlin';\nimport BinaryExpression from './BinaryExpression';\n\nexport default class PropertySegment {\n  constructor(\n    public readonly tracked: boolean,\n    public readonly name: string,\n    public readonly expressions: BinaryExpression[],\n  ) {}\n  toString() {\n    const { tracked, name, expressions } = this;\n    const matchTag = tracked ? '@' : '';\n    return matchTag + name + expressions.join('');\n  }\n  matchName: (node: NodeExt) => boolean = lazyFc(() => {\n    const { name } = this;\n    if (name.trim().length == 0 || name == `*`) {\n      return () => true;\n    }\n    return (node) => {\n      const str = node.name;\n      return (\n        str !== void 0 &&\n        str !== null &&\n        (str === name ||\n          (str.endsWith(name) && str[str.length - name.length - 1] == '.'))\n      );\n    };\n  });\n\n  matchExpressions(node: NodeExt) {\n    return this.expressions.every((ex) => ex.match(node));\n  }\n\n  match(node: NodeExt) {\n    return this.matchName(node) && this.matchExpressions(node);\n  }\n}\n","import NodeExt from '../NodeExt';\nimport ConnectWrapper from './ConnectWrapper';\nimport PropertySegment from './PropertySegment';\n\nexport default class PropertyWrapper {\n  constructor(\n    public readonly propertySegment: PropertySegment,\n    public readonly to?: ConnectWrapper,\n  ) {}\n  toString(): string {\n    const { propertySegment, to } = this;\n    return (\n      (to != null ? to.toString() + '\\u0020' : '') + propertySegment.toString()\n    );\n  }\n  match(\n    node: NodeExt,\n    trackNodes: Array<NodeExt> = [],\n  ): Array<NodeExt> | null | void {\n    const { propertySegment, to } = this;\n    if (!propertySegment.match(node)) {\n      return null;\n    }\n    if (propertySegment.tracked || trackNodes.length == 0) {\n      trackNodes.push(node);\n    }\n    if (to == null) {\n      return trackNodes;\n    }\n    return to.match(node, trackNodes);\n  }\n}\n","export default class ExtSyntaxError extends Error {\n  constructor(\n    public readonly expectedValue: string,\n    public readonly position: number,\n    public readonly source: string,\n  ) {\n    super(\n      `expected ${expectedValue} in selector at position ${position}, but got ${\n        source[position] ?? `null`\n      }`,\n    );\n  }\n  static assert(\n    source: string,\n    offset: number,\n    value = '',\n    expectedValue: string | null = null,\n  ) {\n    if (\n      offset >= source.length ||\n      (value.length > 0 && !value.includes(source[offset]))\n    ) {\n      throw new ExtSyntaxError(expectedValue ?? value, offset, source);\n    }\n  }\n  static throwError(source: string, offset: number, expectedValue = ''): never {\n    throw new ExtSyntaxError(expectedValue, offset, source);\n  }\n}\n","import ParserResult from './ParserResult';\n\nexport default class Parser<T> {\n  constructor(\n    readonly prefix = '',\n    private readonly temp: (\n      source: string,\n      offset: number,\n      prefix: string,\n    ) => ParserResult<T>,\n  ) {}\n  invoke(source: string, offset: number) {\n    return this.temp(source, offset, this.prefix);\n  }\n}\n","export default class ParserResult<T> {\n  constructor(public readonly data: T, public readonly length = 0) {}\n}\n","import Selector from '../Selector';\nimport BinaryExpression from '../data/BinaryExpression';\nimport CompareOperator from '../data/CompareOperator';\nimport ConnectOperator from '../data/ConnectOperator';\nimport ConnectSegment from '../data/ConnectSegment';\nimport ConnectWrapper from '../data/ConnectWrapper';\nimport PolynomialExpression from '../data/PolynomialExpression';\nimport PropertySegment from '../data/PropertySegment';\nimport PropertyWrapper from '../data/PropertyWrapper';\nimport { Pair } from '../kotlin';\nimport ExtSyntaxError from './ExtSyntaxError';\nimport Parser from './Parser';\nimport ParserResult from './ParserResult';\n\nconst whiteCharParser = new Parser('\\u0020\\t\\r\\n', (source, offset, prefix) => {\n  let i = offset;\n  let data = '';\n  while (i < source.length && prefix.includes(source[i])) {\n    data += source[i];\n    i++;\n  }\n  return new ParserResult(data, i - offset);\n});\n\nconst whiteCharStrictParser = new Parser(\n  '\\u0020\\t\\r\\n',\n  (source, offset, prefix) => {\n    ExtSyntaxError.assert(source, offset, prefix, 'whitespace');\n    return whiteCharParser.invoke(source, offset);\n  },\n);\n\nconst nameParser = new Parser(\n  '*1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_',\n  (source, offset, prefix) => {\n    let i = offset;\n    const s0 = source[i];\n    if (s0 && !prefix.includes(s0)) {\n      return new ParserResult(``);\n    }\n    ExtSyntaxError.assert(source, i, prefix, '*0-9a-zA-Z_');\n    let data = source[i];\n    i++;\n    if (data == '*') {\n      // \n      return new ParserResult(data, i - offset);\n    }\n    const center =\n      '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_.';\n    while (i < source.length) {\n      //                . \n      if (data[i - offset - 1] == '.') {\n        ExtSyntaxError.assert(source, i, prefix, '[0-9a-zA-Z_]');\n      }\n      if (center.includes(source[i])) {\n        data += source[i];\n      } else {\n        break;\n      }\n      i++;\n    }\n    return new ParserResult(data, i - offset);\n  },\n);\n\nconst combinatorOperatorParser = new Parser(\n  ConnectOperator.allSubClasses.map((s) => s.key).join(''),\n  (source, offset) => {\n    const operator =\n      ConnectOperator.allSubClasses.find((subOperator) =>\n        source.startsWith(subOperator.key, offset),\n      ) ?? ExtSyntaxError.throwError(source, offset, 'ConnectOperator');\n\n    return new ParserResult(operator, operator.key.length);\n  },\n);\n\nconst integerParser = new Parser('1234567890', (source, offset, prefix) => {\n  let i = offset;\n  ExtSyntaxError.assert(source, i, prefix, 'number');\n  let s = '';\n  while (prefix.includes(source[i])) {\n    s += source[i];\n    i++;\n  }\n\n  return new ParserResult(+s, i - offset);\n});\n\nconst monomialParser = new Parser('+-1234567890n', (source, offset, prefix) => {\n  let i = offset;\n  ExtSyntaxError.assert(source, i, prefix);\n  /**\n   * one of 1, -1\n   */\n  const signal = (() => {\n    if (source[i] == '+') {\n      i++;\n      return 1;\n    }\n    if (source[i] == '-') {\n      i++;\n      return -1;\n    }\n    return 1;\n  })();\n  i += whiteCharParser.invoke(source, i).length;\n  // [a][n[^b]]\n  ExtSyntaxError.assert(source, i, integerParser.prefix + 'n');\n  const coefficient =\n    (() => {\n      if (integerParser.prefix.includes(source[i])) {\n        const coefficientResult = integerParser.invoke(source, i);\n        i += coefficientResult.length;\n        return coefficientResult.data;\n      } else {\n        return 1;\n      }\n    })() * signal;\n  // [n[^b]]\n  if (i < source.length && source[i] == 'n') {\n    i++;\n    if (i < source.length && source[i] == '^') {\n      i++;\n      const powerResult = integerParser.invoke(source, i);\n      i += powerResult.length;\n      return new ParserResult(\n        new Pair(powerResult.data, coefficient),\n        i - offset,\n      );\n    } else {\n      return new ParserResult(new Pair(1, coefficient), i - offset);\n    }\n  } else {\n    return new ParserResult(new Pair(0, coefficient), i - offset);\n  }\n});\n\nconst expressionParser = new Parser(\n  '(0123456789n',\n  (source, offset, prefix) => {\n    let i = offset;\n    ExtSyntaxError.assert(source, i, prefix);\n    const monomialResultList = Array<ParserResult<Pair<number, number>>>();\n    if (source[i] == '(') {\n      i++;\n      i += whiteCharParser.invoke(source, i).length;\n      ExtSyntaxError.assert(source, i, monomialParser.prefix);\n      while (source[i] != ')') {\n        if (monomialResultList.length > 0) {\n          ExtSyntaxError.assert(source, i, '+-');\n        }\n        const monomialResult = monomialParser.invoke(source, i);\n        monomialResultList.push(monomialResult);\n        i += monomialResult.length;\n        i += whiteCharParser.invoke(source, i).length;\n        if (i >= source.length) {\n          ExtSyntaxError.assert(source, i, ')');\n        }\n      }\n      i++;\n    } else {\n      const monomialResult = monomialParser.invoke(source, i);\n      monomialResultList.push(monomialResult);\n      i += monomialResult.length;\n    }\n    const map = new Map<number, number>();\n    monomialResultList.forEach((monomialResult) => {\n      const [power, coefficient] = monomialResult.data.destruction;\n      map.set(power, (map.get(power) ?? 0) + coefficient);\n    });\n    map.forEach((_, power) => {\n      if (power > 1) {\n        ExtSyntaxError.throwError(source, offset, 'power must be 0 or 1');\n      }\n    });\n    return new ParserResult(\n      new PolynomialExpression(map.get(1) ?? 0, map.get(0) ?? 0),\n      i - offset,\n    );\n  },\n);\n\nconst combinatorParser = new Parser(\n  combinatorOperatorParser.prefix,\n  (source, offset) => {\n    let i = offset;\n    const operatorResult = combinatorOperatorParser.invoke(source, i);\n    i += operatorResult.length;\n    let expressionResult: ParserResult<PolynomialExpression> | undefined =\n      undefined;\n    if (i < source.length && expressionParser.prefix.includes(source[i])) {\n      expressionResult = expressionParser.invoke(source, i);\n      i += expressionResult.length;\n    }\n    return new ParserResult(\n      new ConnectSegment(\n        operatorResult.data,\n        expressionResult?.data ?? new PolynomialExpression(),\n      ),\n      i - offset,\n    );\n  },\n);\n\nconst attrOperatorParser = new Parser(\n  CompareOperator.allSubClasses.map((s) => s.key).join(``),\n  (source, offset) => {\n    const operator =\n      CompareOperator.allSubClasses.find((SubOperator) =>\n        source.startsWith(SubOperator.key, offset),\n      ) ?? ExtSyntaxError.throwError(source, offset, 'CompareOperator');\n    return new ParserResult(operator, operator.key.length);\n  },\n);\n\nconst stringParser = new Parser('`\"\\'', (source, offset, prefix) => {\n  let i = offset;\n  ExtSyntaxError.assert(source, i, prefix);\n  const startChar = source[i];\n  i++;\n  let data = '';\n  while (source[i] != startChar) {\n    if (i == source.length - 1) {\n      ExtSyntaxError.assert(source, i, startChar);\n      break;\n    }\n    if (source[i] == '\\\\') {\n      i++;\n      ExtSyntaxError.assert(source, i);\n      if (source[i] == startChar) {\n        data += source[i];\n        ExtSyntaxError.assert(source, i + 1);\n      } else {\n        data += '\\\\' + source[i].toString();\n      }\n    } else {\n      data += source[i];\n    }\n    i++;\n  }\n  i++;\n  return new ParserResult(data, i - offset);\n});\n\nconst propertyParser = new Parser(\n  `0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_`,\n  (source, offset, prefix) => {\n    let i = offset;\n    ExtSyntaxError.assert(source, i, prefix);\n    let data = source[i].toString();\n    i++;\n    while (i < source.length) {\n      if (!prefix.includes(source[i])) {\n        break;\n      }\n      data += source[i];\n      i++;\n    }\n    return new ParserResult(data, i - offset);\n  },\n);\n\nconst valueParser = new Parser(\n  'tfn' + stringParser.prefix + integerParser.prefix,\n  (source, offset, prefix) => {\n    let i = offset;\n    ExtSyntaxError.assert(source, i, prefix);\n    const value = (() => {\n      if (source[i] == 't') {\n        i++;\n        [...'rue'].forEach((c) => {\n          ExtSyntaxError.assert(source, i, c.toString());\n          i++;\n        });\n        return true;\n      } else if (source[i] == 'f') {\n        i++;\n        [...'alse'].forEach((c) => {\n          ExtSyntaxError.assert(source, i, c.toString());\n          i++;\n        });\n        return false;\n      } else if (source[i] == 'n') {\n        i++;\n        [...'ull'].forEach((c) => {\n          ExtSyntaxError.assert(source, i, c.toString());\n          i++;\n        });\n        return null;\n      } else if (stringParser.prefix.includes(source[i])) {\n        const s = stringParser.invoke(source, i);\n        i += s.length;\n        return s.data;\n      } else if (integerParser.prefix.includes(source[i])) {\n        const n = integerParser.invoke(source, i);\n        i += n.length;\n        return n.data;\n      } else {\n        ExtSyntaxError.throwError(source, i, prefix);\n      }\n    })();\n    return new ParserResult(value, i - offset);\n  },\n);\n\nconst attrParser = new Parser('[', (source, offset, prefix) => {\n  let i = offset;\n  ExtSyntaxError.assert(source, i, prefix);\n  i++;\n  const parserResult = propertyParser.invoke(source, i);\n  i += parserResult.length;\n  const operatorResult = attrOperatorParser.invoke(source, i);\n  i += operatorResult.length;\n  const valueResult = valueParser.invoke(source, i);\n  i += valueResult.length;\n  ExtSyntaxError.assert(source, i, ']');\n  i++;\n  return new ParserResult(\n    new BinaryExpression(\n      parserResult.data,\n      operatorResult.data,\n      valueResult.data,\n    ),\n    i - offset,\n  );\n});\n\nconst selectorUnitParser = new Parser(``, (source, offset) => {\n  let i = offset;\n  let tracked = false;\n  if (source[i] == '@') {\n    tracked = true;\n    i++;\n  }\n  const nameResult = nameParser.invoke(source, i);\n  i += nameResult.length;\n  const attrList = Array<BinaryExpression>();\n  while (i < source.length && source[i] == '[') {\n    const attrResult = attrParser.invoke(source, i);\n    i += attrResult.length;\n    attrList.push(attrResult.data);\n  }\n\n  if (nameResult.length == 0 && attrList.length == 0) {\n    ExtSyntaxError.throwError(source, i, '[');\n  }\n  return new ParserResult(\n    new PropertySegment(tracked, nameResult.data, attrList),\n    i - offset,\n  );\n});\n\nconst connectSelectorParser = new Parser(``, (source, offset) => {\n  let i = offset;\n  i += whiteCharParser.invoke(source, i).length;\n  const topSelector = selectorUnitParser.invoke(source, i);\n  i += topSelector.length;\n  const selectorList = Array<Pair<ConnectSegment, PropertySegment>>();\n  while (i < source.length && whiteCharParser.prefix.includes(source[i])) {\n    i += whiteCharStrictParser.invoke(source, i).length;\n    const combinator = (() => {\n      if (combinatorParser.prefix.includes(source[i])) {\n        const combinatorResult = combinatorParser.invoke(source, i);\n        i += combinatorResult.length;\n        i += whiteCharStrictParser.invoke(source, i).length;\n        return combinatorResult.data;\n      } else {\n        return new ConnectSegment(undefined, new PolynomialExpression(1, 0));\n      }\n    })();\n    const selectorResult = selectorUnitParser.invoke(source, i);\n    i += selectorResult.length;\n    selectorList.push(new Pair(combinator, selectorResult.data));\n  }\n  return new ParserResult(new Pair(topSelector.data, selectorList), i - offset);\n});\n\nconst endParser = new Parser(``, (source, offset) => {\n  if (offset != source.length) {\n    ExtSyntaxError.throwError(source, offset, 'end');\n  }\n  return new ParserResult(undefined, 0);\n});\n\nexport const selectorParser = (source: string) => {\n  let i = 0;\n  i += whiteCharParser.invoke(source, i).length;\n  const combinatorSelectorResult = connectSelectorParser.invoke(source, i);\n  i += combinatorSelectorResult.length;\n  i += whiteCharParser.invoke(source, i).length;\n  i += endParser.invoke(source, i).length;\n  const data = combinatorSelectorResult.data;\n  const propertySelectorList = Array<PropertySegment>();\n  const combinatorSelectorList = Array<ConnectSegment>();\n  propertySelectorList.push(data.first);\n  data.second.forEach((it) => {\n    propertySelectorList.push(it.second);\n    combinatorSelectorList.push(it.first);\n  });\n  const wrapperList = Array(new PropertyWrapper(propertySelectorList[0]));\n  combinatorSelectorList.forEach((combinatorSelector, index) => {\n    const combinatorSelectorWrapper = new ConnectWrapper(\n      combinatorSelector,\n      wrapperList.at(-1)!,\n    );\n    const propertySelectorWrapper = new PropertyWrapper(\n      propertySelectorList[index + 1],\n      combinatorSelectorWrapper,\n    );\n    wrapperList.push(propertySelectorWrapper);\n  });\n  return new Selector(wrapperList.at(-1)!);\n};\n","import type NodeExt from './NodeExt';\nimport PropertyWrapper from './data/PropertyWrapper';\nimport { selectorParser } from './parser/ParserSet';\n\nexport default class Selector {\n  constructor(public readonly propertyWrapper: PropertyWrapper) {\n    this._toString = propertyWrapper.toString();\n  }\n  private _toString: string;\n  toString() {\n    return this._toString;\n  }\n  match(node: NodeExt): NodeExt | void {\n    const trackNodes = this.propertyWrapper.match(node);\n    if (!trackNodes) return;\n    return trackNodes.at(-1) ?? node;\n  }\n  static parse(source: string) {\n    return selectorParser(source);\n  }\n}\n","import type Sequence from 'sequency';\nimport { createSequence } from 'sequency';\nimport Selector from './Selector';\n\nexport default abstract class NodeExt {\n  abstract parent?: NodeExt;\n  abstract children: Sequence<void | NodeExt>;\n  abstract name?: string;\n  abstract attr(name: string): unknown;\n\n  getChild(offset: number): void | NodeExt {\n    return this.children.elementAtOrNull(offset) ?? undefined;\n  }\n  get ancestors() {\n    const { parent } = this;\n    return createSequence<NodeExt>(\n      (function* () {\n        let parentVar = parent;\n        while (parentVar != null) {\n          yield parentVar;\n          parentVar = parentVar.parent;\n        }\n      })(),\n    );\n  }\n  getAncestor(offset: number): void | NodeExt {\n    return this.ancestors.elementAtOrNull(offset) ?? undefined;\n  }\n  get beforeBrothers(): Sequence<NodeExt | void> {\n    const _this = this;\n    const { parent } = this;\n    return createSequence(\n      (function* () {\n        if (!parent) return;\n        const parentVal = parent;\n        const list = parentVal.children.takeWhile((it) => it != _this).toList();\n        list.reverse();\n        for (const it of list) {\n          yield it;\n        }\n      })(),\n    );\n  }\n  getBeforeBrother(offset: number): void | NodeExt {\n    return this.beforeBrothers.elementAtOrNull(offset) ?? undefined;\n  }\n  get afterBrothers(): Sequence<NodeExt | void> {\n    const _this = this;\n    const { parent } = this;\n    return createSequence(\n      (function* () {\n        if (!parent) return;\n        const parentVal = parent;\n        const list = parentVal.children.dropWhile((it) => it != _this).drop(1);\n        for (const it of list.asIterable()) {\n          yield it;\n        }\n      })(),\n    );\n  }\n  getAfterBrother(offset: number): void | NodeExt {\n    return this.afterBrothers.elementAtOrNull(offset) ?? undefined;\n  }\n  // \n  // https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelector\n  get descendants(): Sequence<NodeExt> {\n    const stack: NodeExt[] = [this];\n    const list: NodeExt[] = [];\n    return createSequence(\n      (function* () {\n        while (stack.length > 0) {\n          const top = stack.pop()!;\n          yield top;\n          for (const childNode of top.children.asIterable()) {\n            if (childNode) {\n              list.push(childNode);\n            }\n          }\n\n          if (list.length > 0) {\n            list.reverse();\n            stack.push(...list);\n            while (list.length > 0) {\n              list.pop();\n            }\n          }\n        }\n      })(),\n    );\n  }\n  querySelector(selector: Selector | string): this | void {\n    return (this.querySelectorAll(selector).firstOrNull() as this) ?? undefined;\n  }\n  querySelectorAll(selector: Selector | string): Sequence<this> {\n    if (typeof selector == 'string') {\n      selector = Selector.parse(selector);\n    }\n    const _this = this;\n    return createSequence(\n      (function* () {\n        for (const node of _this.descendants.asIterable()) {\n          const r = selector.match(node) as typeof _this;\n          if (r) {\n            yield r;\n          }\n        }\n      })(),\n    );\n  }\n}\n","import { NodeExt } from '@/selector_core';\nimport Sequence, { asSequence } from 'sequency';\nimport type { NaiveNode } from './types';\n\nexport class NodeOption extends NodeExt {\n  _children: NodeOption[];\n\n  constructor(\n    public readonly value: NaiveNode,\n    public readonly parent?: NodeOption,\n  ) {\n    super();\n    this._children = value.children.map((c) => new NodeOption(c, this));\n  }\n\n  get children(): Sequence<NodeOption> {\n    return asSequence(this._children);\n  }\n\n  get name(): string {\n    return this.value.value.attr.name;\n  }\n\n  attr(name: string): unknown {\n    // @ts-ignore\n    return this.value.value.attr[name];\n  }\n}\n","<script setup lang=\"ts\">\nimport { Selector } from '@/selector_core';\nimport { message } from '@/utils/discrete';\nimport { errorTry, errorWrap } from '@/utils/error';\nimport { NodeOption } from '@/utils/selector';\nimport type { NaiveNode } from '@/utils/types';\nimport {\n  NButton,\n  NCollapse,\n  NCollapseItem,\n  NInput,\n  NInputGroup,\n  NRadio,\n  NRadioGroup,\n  NSpace,\n} from 'naive-ui';\nimport { computed, shallowReactive, shallowRef } from 'vue';\nimport DraggableCard from './DraggableCard.vue';\n\nconst props = withDefaults(\n  defineProps<{\n    root: NaiveNode;\n  }>(),\n  {},\n);\nconst emit = defineEmits<{\n  (e: 'update:focusNode', data: NaiveNode): void;\n}>();\n\nconst nodeOption = computed(() => {\n  if (!props.root) return;\n  return new NodeOption(props.root);\n});\nconst selectorText = shallowRef(``);\nconst selectorResults = shallowReactive<\n  {\n    selector: string | Selector;\n\n    results: NaiveNode[];\n  }[]\n>([]);\nconst searchBySelector = errorTry(() => {\n  if (!nodeOption.value || !props.root) {\n    message.error(``);\n    return;\n  }\n  const text = selectorText.value.trim();\n  if (!text) return;\n\n  if (enableSearchBySelector.value) {\n    if (\n      selectorResults.find(\n        (s) => typeof s.selector == 'object' && s.selector.toString() == text,\n      )\n    ) {\n      message.warning(``);\n      return;\n    }\n    const selector = errorWrap(() => Selector.parse(text), ``);\n    const results = nodeOption.value\n      .querySelectorAll(selector)\n      .map((s) => s.value)\n      .toList();\n    if (results.length == 0) {\n      message.success(``);\n      return;\n    }\n    message.success(` ${results.length} `);\n    selectorResults.push({ selector, results });\n  } else {\n    if (\n      selectorResults.find(\n        (s) => typeof s.selector == 'string' && s.selector.toString() == text,\n      )\n    ) {\n      message.warning(``);\n      return;\n    }\n    const results: NaiveNode[] = [];\n    const stack: NaiveNode[] = [props.root];\n    while (stack.length > 0) {\n      const n = stack.pop()!;\n      if (n.label.includes(text)) {\n        results.push(n);\n      }\n      stack.push(...[...n.children].reverse());\n    }\n    if (results.length == 0) {\n      message.success(``);\n      return;\n    }\n    message.success(` ${results.length} `);\n    selectorResults.push({ selector: text, results });\n  }\n});\nconst enableSearchBySelector = shallowRef(false);\n</script>\n<template>\n  <DraggableCard\n    :initial-value=\"{ top: 90, right: 380 }\"\n    v-slot=\"{ onRef }\"\n    class=\"z-1\"\n  >\n    <div w-500px bg-white b-1px b-solid b-gray-200 rounded-4px p-8px>\n      <div flex m-b-4px>\n        <NRadioGroup v-model:value=\"enableSearchBySelector\">\n          <NSpace>\n            <NRadio :value=\"false\">  </NRadio>\n            <NRadio :value=\"true\">  </NRadio>\n          </NSpace>\n        </NRadioGroup>\n        <div flex-1 cursor-move :ref=\"onRef\"></div>\n      </div>\n      <NInputGroup>\n        <NInput\n          v-model:value=\"selectorText\"\n          placeholder=\"\"\n          @keyup.enter=\"searchBySelector\"\n        ></NInput>\n        <NButton @click=\"searchBySelector\">\n          {{ enableSearchBySelector ? `` : `` }}\n        </NButton>\n      </NInputGroup>\n      <div p-5px></div>\n      <NCollapse>\n        <NCollapseItem\n          v-for=\"(selectorResult, index) in selectorResults\"\n          :key=\"selectorResult.selector.toString()\"\n          :title=\"\n            (typeof selectorResult.selector == 'string'\n              ? ``\n              : ``) +\n            `` +\n            selectorResult.selector.toString()\n          \"\n        >\n          <template #header-extra>\n            {{ selectorResult.results.length + `` }}\n            <div p-l-8px></div>\n            <NButton @click.stop=\"selectorResults.splice(index, 1)\">\n              \n            </NButton>\n          </template>\n          <NSpace\n            style=\"max-height: 400px; overflow-y: scroll; padding-bottom: 10px\"\n          >\n            <NButton\n              v-for=\"resultNode in selectorResult.results\"\n              :key=\"resultNode.key\"\n              @click=\"emit(`update:focusNode`, resultNode)\"\n              size=\"small\"\n            >\n              {{ resultNode.label }}\n            </NButton>\n          </NSpace>\n        </NCollapseItem>\n      </NCollapse>\n    </div>\n  </DraggableCard>\n</template>\n","<script setup lang=\"tsx\">\nimport { copy } from '@/utils/others';\nimport type { NaiveNode, SnapshotExt } from '@/utils/types';\nimport {\n  NTable,\n  NTbody,\n  NTd,\n  NTh,\n  NThead,\n  NTr,\n  NTree,\n  NEllipsis,\n  type TreeInst,\n  type TreeOption,\n} from 'naive-ui';\nimport { nextTick, ref, watchEffect } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    windowX: SnapshotExt;\n    focusNode?: NaiveNode;\n    skipKeys?: number[];\n  }>(),\n  { skipKeys: () => [] },\n);\nconst emit = defineEmits<{\n  (e: 'update:focusNode', data: NaiveNode): void;\n  (e: 'update:skipKeys', data: number[]): void;\n}>();\n\nconst defaultExpandedKeysRef = ref<number[]>([]);\nwatchEffect(async () => {\n  if (!props.focusNode) return;\n  const key = props.focusNode.key;\n  let n = props.focusNode.parent;\n  if (!n) {\n    return;\n  }\n  const s = new Set(defaultExpandedKeysRef.value);\n  while (n) {\n    s.add(n.key);\n    n = n.parent;\n  }\n  if (s.size == defaultExpandedKeysRef.value.length) {\n    return;\n  }\n  defaultExpandedKeysRef.value = [...s];\n  await nextTick();\n  treeRef.value?.scrollTo({ key });\n});\n\nconst treeRef = ref<TreeInst>();\n\nconst updateCheckedKeys = (\n  keys: Array<string | number>,\n  options: Array<TreeOption | null>,\n  meta: {\n    node: TreeOption | null;\n    action: 'check' | 'uncheck';\n  },\n) => {\n  emit('update:skipKeys', keys as number[]);\n};\n\nconst renderSuffix = (node: NaiveNode) => {\n  if (props.skipKeys.includes(node.key)) {\n    return <div style={{ marginLeft: `10px`, color: `#ccc` }}></div>;\n  }\n};\n</script>\n\n<template>\n  <div flex flex-col>\n    <NTable size=\"small\" striped :single-line=\"false\" class=\"table-fixed\">\n      <NThead>\n        <NTr>\n          <NTh class=\"w-150px\"> Device </NTh>\n          <NTh class=\"w-120px\"> Name </NTh>\n          <NTh class=\"w-150px\"> AppId </NTh>\n          <NTh> ActivityId </NTh>\n          <NTh class=\"w-175px\">  </NTh>\n        </NTr>\n      </NThead>\n      <NTbody>\n        <NTr>\n          <NTd class=\"whitespace-nowrap\">\n            {{ `${windowX.manufacturer} Android ${windowX.release || `13`}` }}\n          </NTd>\n          <NTd class=\"whitespace-nowrap\">\n            <NEllipsis>\n              {{ windowX.appName }}\n            </NEllipsis>\n          </NTd>\n          <NTd class=\"whitespace-nowrap\" @click=\"copy(windowX.appId)\">\n            <NEllipsis>\n              {{ windowX.appId }}\n            </NEllipsis>\n          </NTd>\n          <NTd @click=\"copy(windowX.activityId)\" class=\"break-words\">\n            <NEllipsis>\n              {{ windowX.activityId }}\n            </NEllipsis>\n          </NTd>\n          <NTd>\n            <slot></slot>\n          </NTd>\n        </NTr>\n      </NTbody>\n    </NTable>\n    <NTree\n      ref=\"treeRef\"\n      checkable\n      virtual-scroll\n      @update:checked-keys=\"updateCheckedKeys\"\n      :filter=\"\n        (_, node) => {\n          return node.key == focusNode?.key;\n        }\n      \"\n      :data=\"[windowX.node]\"\n      :default-expanded-keys=\"defaultExpandedKeysRef\"\n      :default-checked-keys=\"skipKeys\"\n      :render-suffix=\"n => renderSuffix(n.option as NaiveNode)\"\n      :node-props=\"({ option }) => {\n          return {\n            onClick: () => {\n              emit('update:focusNode', option as NaiveNode)\n            },\n            style: {\n              color: option.key == focusNode?.key ? `#00F` : undefined,\n            }\n          }\n        }\n        \"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.WindowCard {\n  .n-tree {\n    overflow: scroll;\n  }\n  :deep(.n-tree-node-content__text) {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: 800px;\n  }\n}\n</style>\n","<script lang=\"ts\" setup>\nimport ActionCard from '@/components/ActionCard.vue';\nimport AttrCard from '@/components/AttrCard.vue';\nimport ScreenshotCard from '@/components/ScreenshotCard.vue';\nimport SearchCard from '@/components/SearchCard.vue';\nimport WindowCard from '@/components/WindowCard.vue';\nimport { toNodeTree } from '@/utils';\nimport { message } from '@/utils/discrete';\nimport { delay } from '@/utils/others';\nimport { snapshotStorage, screenshotStorage } from '@/utils/storage';\nimport type { NaiveNode, SnapshotExt } from '@/utils/types';\nimport { Snapshot } from '@/utils/types';\nimport { computed, shallowRef, watchEffect } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst snapshotId = computed(() => String(route.params.snapshotId || ``));\n\nconst screenshotUrl = shallowRef(``);\nconst snapshot = shallowRef<Snapshot>();\n\nwatchEffect(async () => {\n  const localSnapshot = await snapshotStorage.getItem(snapshotId.value);\n  if (!localSnapshot) {\n    message.error(``);\n    return;\n  }\n  const bf = await screenshotStorage.getItem(snapshotId.value);\n  if (!bf) {\n    message.create(``);\n    return;\n  }\n  screenshotUrl.value = URL.createObjectURL(new Blob([bf]));\n  snapshot.value = localSnapshot;\n  root.value = toNodeTree(\n    localSnapshot.nodes.map((n) => ({\n      ...n,\n      attr: {\n        ...n.attr,\n        index: 0,\n        depth: 0,\n      },\n    })),\n  );\n  windowX.value = {\n    ...localSnapshot,\n    node: root.value,\n  };\n});\n\nconst root = shallowRef<NaiveNode>();\nconst windowX = shallowRef<SnapshotExt>();\nconst focusNode = shallowRef<NaiveNode>();\n// , Android  z-index\nconst skipKeys = shallowRef<number[]>([]);\n\nconst onDelete = async () => {\n  message.success(`,`);\n  await delay(2000);\n  router.replace({\n    path: `/`,\n  });\n};\n</script>\n<template>\n  <div h-full flex gap-5px p-5px box-border>\n    <ScreenshotCard\n      v-if=\"screenshotUrl\"\n      :skip-keys=\"skipKeys\"\n      :url=\"screenshotUrl\"\n      :node=\"root\"\n      :focus-node=\"focusNode\"\n      @update:focus-node=\"focusNode = $event\"\n    />\n    <WindowCard\n      v-if=\"windowX\"\n      :window-x=\"windowX\"\n      :focus-node=\"focusNode\"\n      @update:focus-node=\"focusNode = $event\"\n      :skip-keys=\"skipKeys\"\n      @update:skip-keys=\"skipKeys = $event\"\n      class=\"flex-1\"\n    >\n      <ActionCard\n        v-if=\"snapshot\"\n        :snapshot=\"snapshot\"\n        @delete=\"onDelete\"\n        :show-preview=\"false\"\n      />\n    </WindowCard>\n    <AttrCard v-if=\"focusNode\" :focus-node=\"focusNode\" />\n    <SearchCard\n      v-if=\"root\"\n      :root=\"root\"\n      @update:focus-node=\"focusNode = $event\"\n    />\n  </div>\n</template>\n"],"names":["createDataKey","key","ChevronLeftIcon","defineComponent","h","SwitcherIcon","self","vars","fontWeight","textColor1","textColor2","textColorDisabled","dividerColor","fontSize","collapseLight","commonLight","collapseLight$1","style$2","cB","cM","cE","c","fadeInHeightExpandTransition","collapseProps","useTheme","collapseInjectionKey","createInjectionKey","NCollapse","props","slots","mergedClsPrefixRef","inlineThemeDisabled","mergedRtlRef","useConfig","uncontrolledExpandedNamesRef","ref","controlledExpandedNamesRef","computed","mergedExpandedNamesRef","useMergedState","themeRef","style","doUpdateExpandedNames","names","_onUpdateExpandedNames","onUpdateExpandedNames","onExpandedNamesChange","call","doItemHeaderClick","info","onItemHeaderClick","toggleItem","collapse","name","event","accordion","expandedNames","activeNames","index","activeName","provide","rtlEnabledRef","useRtl","cssVarsRef","cubicBezierEaseInOut","titleFontWeight","titlePadding","titleTextColor","titleTextColorDisabled","textColor","arrowColor","titleFontSize","arrowColorDisabled","itemMargin","themeClassHandle","useThemeClass","_a","NCollapseItemContent","useFalseUntilTruthy","toRef","NFadeInExpandTransition","show","displayDirective","onceTrue","clsPrefix","useVShow","contentNode","withDirectives","vShow","collapseItemProps","NCollapseItem","randomName","createId","mergedNameRef","useMemo","inject","throwError","expandedNamesRef","collapseSlots","collapsedRef","expandedName","e","$slots","arrowPlacement","collapsed","mergedDisplayDirective","mergedClsPrefix","disabled","headerNode","resolveSlotWithProps","headerExtraSlot","arrowSlot","NBaseIcon","ArrowLeftIcon","ArrowRightIcon","resolveWrappedSlotWithProps","children","sizeVariables","cardColor","modalColor","popoverColor","tableHeaderColor","tableColorStriped","borderRadius","fontWeightStrong","lineHeight","fontSizeSmall","fontSizeMedium","fontSizeLarge","composite","tableLight","tableLight$1","borderRadiusSmall","hoverColor","pressedColor","primaryColor","textColor3","changeColor","treeLight","createTheme","checkboxLight","scrollbarLight","emptyLight","treeLight$1","style$1","cNotM","insideModal","insidePopover","tableProps","NTable","size","borderColor","tdColor","tdColorModal","tdColorPopover","thColor","thColorModal","thColorPopover","thTextColor","tdTextColor","thFontWeight","borderColorModal","borderColorPopover","tdColorStriped","tdColorStripedModal","tdColorStripedPopover","createKey","tdPadding","thPadding","NTh","NTr","NTd","NThead","NTbody","treeSelectInjectionKey","treeInjectionKey","NTreeNodeSwitcher","renderSwitcherIconRef","NIconSwitchTransition","NBaseLoading","renderSwitcherIcon","NTreeNodeCheckbox","NTree","doCheck","value","onCheck","handleUpdateValue","mergedTheme","checked","indeterminate","focusable","NCheckbox","NTreeNodeContent","renderLabelRef","renderPrefixRef","renderSuffixRef","labelFieldRef","selfRef","doClick","onClick","handleClick","labelField","nodeProps","selected","renderLabel","renderPrefix","renderSuffix","onDragstart","rawNode","prefix","suffix","label","render","renderDropMark","position","offsetLevel","indent","el","cssPosition","defaultAllowDrop","dropPosition","node","useMergedCheckStrategy","isNodeDisabled","disabledField","traverse","nodes","childrenField","callback","callbackAfter","keysWithFilter","pattern","keyField","filter","keys","highlightKeySet","path","i","isBrowser","emptyImage","filterTree","tree","visitedTailKeys","visitedNonTailKeys","expandedKeys","filteredTree","visit","t","n","build","sibs","isVisitedTail","isVisitedNonTail","clonedNode","TreeNode","droppingNodeParentRef","droppingMouseNodeRef","draggingNodeRef","droppingPositionRef","droppingOffsetLevelRef","nodePropsRef","indentRef","blockLineRef","checkboxPlacementRef","checkOnClickRef","disabledFieldRef","checkboxDisabledRef","nodeIsDisabledRef","disabledRef","resolvedNodePropsRef","contentInstRef","contentElRef","onMounted","handleSwitcherClick","tmNode","onLoad","selectableRef","checkableRef","checkedRef","mergedCheckOnClickRef","checkable","checkOnClick","_handleClick","expandOnClick","selectable","mergedCheckOnClick","happensIn","handleCheck","handleContentClick","_b","handleLineClick","handleDragStart","handleDragEnter","handleDragOver","handleDragEnd","handleDragLeave","handleDrop","draggingNode","droppingPosition","droppingMouseNode","droppingNodeParent","highlight","draggable","blockLine","pending","internalScrollable","checkboxPlacement","dragEventHandlers","dataKey","checkboxOnRight","checkboxNode","repeat","NTreeNode","useKeyboard","fNodesRef","mergedExpandedKeysRef","mergedSelectedKeysRef","handleSelect","mergedSelectedKeys","treeSelectInjection","pendingNodeKeyRef","handleKeydown","pendingNodeKey","fNodes","fIndex","pendingNode","parentTmNode","MotionWrapper","FadeInExpandTransition","pxfy","iconSwitchTransition","__awaiter","this","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","result","ITEM_SIZE","createTreeMateOptions","getChildren","treeSharedProps","treeProps","selfElRef","scrollbarInstRef","virtualListInstRef","getScrollContainer","getScrollContent","mergedFilterRef","filteredTreeInfoRef","displayTreeMateRef","createTreeMate","dataTreeMateRef","watchProps","uncontrolledCheckedKeysRef","watchEffect","controlledCheckedKeysRef","mergedCheckedKeysRef","checkedStatusRef","mergedCheckStrategyRef","displayedCheckedKeysRef","displayedIndeterminateKeysRef","indeterminateKeys","uncontrolledSelectedKeysRef","controlledSelectedKeysRef","uncontrolledExpandedKeysRef","initUncontrolledExpandedKeys","controlledExpandedKeysRef","expandTimerId","nodeKeyToBeExpanded","uncontrolledHighlightKeySetRef","controlledHighlightKeySetRef","mergedHighlightKeySetRef","loadingKeysRef","expandedNonLoadingKeysRef","dragStartX","droppingNodeRef","droppingNode","watch","resetDndState","expandAnimationDisabled","disableExpandAnimationForOneTick","nextTick","memoizedExpandedKeys","oldValue","expandedKeysAfterChange","doUpdateExpandedKeys","getOptionsByKeys","triggerLoading","loadingKeys","resetDragExpandState","loadError","displayTreeMate","getNode","aipRef","afNodesRef","prevValue","syncScrollbar","prevVSet","addedKey","removedKey","expandedKey","currentVSet","virtualScroll","viewportHeight","viewportItemCount","baseExpandedKeys","expandedNodeIndex","expandedChildren","flatten","collapsedNodeIndex","collapsedNodeChildren","collapsedChildren","getFIndexRef","createIndexGetter","mergedFNodesRef","scrollbarInst","handleAfterEnter","option","meta","_onUpdateExpandedKeys","onUpdateExpandedKeys","doUpdateCheckedKeys","_onUpdateCheckedKeys","onUpdateCheckedKeys","doUpdateIndeterminateKeys","_onUpdateIndeterminateKeys","onUpdateIndeterminateKeys","doUpdateSelectedKeys","_onUpdateSelectedKeys","onUpdateSelectedKeys","doDragEnter","onDragenter","doDragLeave","onDragleave","doDragEnd","onDragend","doDragStart","doDragOver","onDragover","doDrop","onDrop","resetDragState","resetDropState","checkedAction","checkedKeys","toggleExpand","mergedExpandedKeys","expandNodeId","nodeToBeExpanded","nextKeys","siblingKeySet","selectedKeys","expandDragEnterNode","expand","handleDragLeaveTree","emit","allowDrop","elOffsetHeight","elClientTop","eventOffsetY","mousePosition","getFindex","finalDropNode","finalDropPosition","hoverNodeFIndex","mouseAtExpandedNonLeafNode","offset","nextNode","prevNode","handleScroll","handleResize","handleFocusout","selfEl","targetEl","scrollTo","options","exposedMethods","nodeBorderRadius","nodeColorHover","nodeColorPressed","nodeColorActive","loadingColor","nodeTextColor","nodeTextColorDisabled","dropMarkColor","internalRenderEmpty","blockNode","internalFocusable","rtlEnabled","mergedFocusable","tabindex","treeClass","createNode","internalScrollablePadding","padding","getPadding","NxScrollbar","VVirtualList","item","resolveSlot","NEmpty","toSelectorLiteral","s","s2","getImageSize","src","res","rej","img","traverseNode","skipKeys","stack","top","toNodeTree","nodeXs","_c","depth","xyInNode","nodeX","ox","oy","attr","isLeft","isTop","shallowReactive","currentStyle","xStyle","yStyle","moving","startMove","move","ev","endMove","target","shallowRef","onUnmounted","newValue","oldvalue","updateTarget","arg","attrs","sizeRef","evRef","imgRect","childNode","positionStyle","BinaryExpression","operator","literalValue","CompareOperator","compare","a","b","not","cls","args","Equal","NotEqual","Start","NotStart","Include","NotInclude","End","NotEnd","Less","LessEqual","More","MoreEqual","ConnectOperator","traversal","BeforeBrother","AfterBrother","Ancestor","Child","all","All","predicate","any","Any","asIterable","AsIterable","iterator","associate","Associate","transform","pair","associateBy","AssociateBy","keyOrSelector","valueTransform","selector","average","Average","sum","count","chunk","Chunk","chunkSize","chunkIndex","contains","Contains","element","Count","num","distinct","Sequence_1","require$$0","DistinctIterator","sizeBeforeAdd","Distinct","distinctBy","DistinctByIterator","DistinctBy","drop","Drop","it","dropWhile","DropWhileIterator","DropWhile","elementAt","ElementAt","elementAtOrElse","ElementAtOrElse","defaultValue","elementAtOrNull","ElementAtOrNull","FilterIterator","Filter","filterIndexed","FilterIndexed","filterNot","FilterNot","filterNotNull","FilterNotNull","first","First","firstOrNull","FirstOrNull","flatMap","FlatMapIterator","next","sequence","FlatMap","Flatten","fold","Fold","initial","operation","foldIndexed","FoldIndexed","forEach","ForEach","action","forEachIndexed","ForEachIndexed","groupBy","GroupBy","keySelector","array","indexOf","IndexOf","indexOfFirst","IndexOfFirst","indexOfLast","IndexOfLast","joinToString","defaults","JoinToString","config","separator","_d","postfix","_e","limit","_f","truncated","_g","last","Last","empty","lastOrNull","LastOrNull","map","MapIterator","Map","mapIndexed","MapIndexed","mapNotNull","MapNotNull","max","Max","maxBy","MaxBy","maxSelected","maxWith","MaxWith","__spreadArray","to","from","pack","l","ar","merge","Merge","other","prependNewValues","mergeValues","leftValues","left","right","min","Min","minBy","MinBy","minSelected","minus","Minus","data","array_1","minWith","MinWith","none","None","onEach","OnEach","partition","Partition","arrayTrue","arrayFalse","plus","AppendIterator","second","item1","item2","Plus","reduce","Reduce","reduceIndexed","ReduceIndexed","reverse","Reverse","single","Single","singleOrNull","SingleOrNull","createComparatorFactory_1","comparison","nextComparison","asSelector","naturalCompare","compareBy","compareByDescending","naturalOrder","reverseOrder","nullsLast","nullsFirst","createComparatorFactory","sorted","require$$1","Sorted","composeComparator","factory","comparator","sortedBy","SortedBy","sortedByDescending","SortedByDescending","sortedDescending","SortedDescending","sortedWith","SortedWith","Sum","sumBy","SumBy","take","Take","takeWhile","TakeWhileIterator","TakeWhile","toArray","ToArray","toMap","ToMap","toSet","ToSet","set","unzip","Unzip","array1","array2","withIndex","IndexIterator","WithIndex","zip","ZipIterator","iterator1","iterator2","Zip","GeneratorIterator_1","GeneratorIterator","nextFunction","nextItem","GeneratorSeedIterator_1","GeneratorSeedIterator","seed","Sequence","all_1","any_1","asIterable_1","require$$2","associate_1","require$$3","associateBy_1","require$$4","average_1","require$$5","chunk_1","require$$6","contains_1","require$$7","count_1","require$$8","distinct_1","require$$9","distinctBy_1","require$$10","drop_1","require$$11","dropWhile_1","require$$12","elementAt_1","require$$13","elementAtOrElse_1","require$$14","elementAtOrNull_1","require$$15","filter_1","require$$16","filterIndexed_1","require$$17","filterNot_1","require$$18","filterNotNull_1","require$$19","first_1","require$$20","firstOrNull_1","require$$21","flatMap_1","require$$22","flatten_1","require$$23","fold_1","require$$24","foldIndexed_1","require$$25","forEach_1","require$$26","forEachIndexed_1","require$$27","groupBy_1","require$$28","indexOf_1","require$$29","indexOfFirst_1","require$$30","indexOfLast_1","require$$31","joinToString_1","require$$32","last_1","require$$33","lastOrNull_1","require$$34","map_1","require$$35","mapIndexed_1","require$$36","mapNotNull_1","require$$37","max_1","require$$38","maxBy_1","require$$39","maxWith_1","require$$40","merge_1","require$$41","min_1","require$$42","minBy_1","require$$43","minus_1","require$$44","minWith_1","require$$45","none_1","require$$46","onEach_1","require$$47","partition_1","require$$48","plus_1","require$$49","reduce_1","require$$50","reduceIndexed_1","require$$51","reverse_1","require$$52","single_1","require$$53","singleOrNull_1","require$$54","sorted_1","require$$55","sortedBy_1","require$$56","sortedByDescending_1","require$$57","sortedDescending_1","require$$58","sortedWith_1","require$$59","sum_1","require$$60","sumBy_1","require$$61","take_1","require$$62","takeWhile_1","require$$63","toArray_1","require$$64","toMap_1","require$$65","toSet_1","require$$66","unzip_1","require$$67","withIndex_1","require$$68","zip_1","require$$69","require$$70","require$$71","SequenceImpl","applyMixins","derivedCtor","baseCtors","baseCtor","sequenceOf","_i","asSequence","emptySequence","iterable","createSequence","isSequence","object","extendSequence","mixin","generateSequence","range","start","endInclusive","current","Pair","lazyFc","initFc","fc","PolynomialExpression","bOp","b1","x","ConnectSegment","polynomialExpression","node1","ConnectWrapper","connectSegment","trackNodes","r","PropertySegment","tracked","expressions","str","ex","PropertyWrapper","propertySegment","ExtSyntaxError","expectedValue","source","Parser","temp","ParserResult","length","whiteCharParser","whiteCharStrictParser","nameParser","s0","center","combinatorOperatorParser","subOperator","integerParser","monomialParser","signal","coefficient","coefficientResult","powerResult","expressionParser","monomialResultList","monomialResult","power","_","combinatorParser","operatorResult","expressionResult","attrOperatorParser","SubOperator","stringParser","startChar","propertyParser","valueParser","attrParser","parserResult","valueResult","selectorUnitParser","nameResult","attrList","attrResult","connectSelectorParser","topSelector","selectorList","combinator","combinatorResult","selectorResult","endParser","selectorParser","combinatorSelectorResult","propertySelectorList","combinatorSelectorList","wrapperList","combinatorSelector","combinatorSelectorWrapper","propertySelectorWrapper","Selector","propertyWrapper","NodeExt","parent","parentVar","_this","list","NodeOption","nodeOption","selectorText","selectorResults","searchBySelector","errorTry","message","text","enableSearchBySelector","errorWrap","results","defaultExpandedKeysRef","focusNode","Set","add","treeRef","updateCheckedKeys","includes","_createVNode2","marginLeft","color","_createTextVNode2","route","useRoute","router","useRouter","snapshotId","screenshotUrl","snapshot","localSnapshot","snapshotStorage","bf","screenshotStorage","root","windowX","onDelete","delay"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110]}