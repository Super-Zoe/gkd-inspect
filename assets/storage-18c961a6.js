var Nn=(o,r,c)=>{if(!r.has(o))throw TypeError("Cannot "+c)};var ve=(o,r,c)=>(Nn(o,r,"read from private field"),c?c.call(o):r.get(o)),Le=(o,r,c)=>{if(r.has(o))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(o):r.set(o,c)},ae=(o,r,c,l)=>(Nn(o,r,"write to private field"),l?l.call(o,c):r.set(o,c),c);var tn=(o,r,c,l)=>({set _(d){ae(o,r,d,c)},get _(){return ve(o,r,l)}});import{x as F,bN as qt,bO as Qt,d as J,z as Q,m as R,bP as Xt,aG as Bn,bQ as Gt,N as Zt,B as ce,bR as $n,bS as Jt,bT as er,bU as nr,bV as tr,F as ke,M as on,r as je,P as le,Q as Fe,W as rr,n as an,X as or,E as Ce,p as z,bW as ir,q as j,y as Se,c as be,A as Ie,D as sn,J as ar,K as sr,ax as zn,ac as xe,aI as cr,ai as cn,v as ne,a8 as lr,C as Dn,a1 as fr,a3 as ge,aC as kn,a0 as se,a2 as ur,T as jn,bX as Fn,bY as Mn,bZ as Hn,b_ as Wn,a5 as Kn,L as dr,w as vr,aA as hr,aF as gr,a9 as mr,b$ as pr,a4 as br,u as Ln,c0 as yr,aP as wr,c1 as Tn,e as xr,bL as Cr}from"./index-80bf7a1e.js";function ln(o,r=[],c){const l={};return Object.getOwnPropertyNames(o).forEach(g=>{r.includes(g)||(l[g]=o[g])}),Object.assign(l,c)}const{cubicBezierEaseInOut:re,cubicBezierEaseOut:Sr,cubicBezierEaseIn:Ir}=qt;function _r({overflow:o="hidden",duration:r=".3s",originalTransition:c="",leavingDelay:l="0s",foldPadding:d=!1,enterToProps:g=void 0,leaveToProps:w=void 0,reverse:x=!1}={}){const u=x?"leave":"enter",h=x?"enter":"leave";return[F(`&.fade-in-height-expand-transition-${h}-from,
 &.fade-in-height-expand-transition-${u}-to`,Object.assign(Object.assign({},g),{opacity:1})),F(`&.fade-in-height-expand-transition-${h}-to,
 &.fade-in-height-expand-transition-${u}-from`,Object.assign(Object.assign({},w),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:d?"0 !important":void 0,paddingBottom:d?"0 !important":void 0})),F(`&.fade-in-height-expand-transition-${h}-active`,`
 overflow: ${o};
 transition:
 max-height ${r} ${re} ${l},
 opacity ${r} ${Sr} ${l},
 margin-top ${r} ${re} ${l},
 margin-bottom ${r} ${re} ${l},
 padding-top ${r} ${re} ${l},
 padding-bottom ${r} ${re} ${l}
 ${c?","+c:""}
 `),F(`&.fade-in-height-expand-transition-${u}-active`,`
 overflow: ${o};
 transition:
 max-height ${r} ${re},
 opacity ${r} ${Ir},
 margin-top ${r} ${re},
 margin-bottom ${r} ${re},
 padding-top ${r} ${re},
 padding-bottom ${r} ${re}
 ${c?","+c:""}
 `)]}var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}const Rr=Object.assign(Object.assign({},Qt),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),Ar=J({name:"DialogEnvironment",props:Object.assign(Object.assign({},Rr),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(o){const r=Q(!0);function c(){const{onInternalAfterLeave:C,internalKey:v,onAfterLeave:_}=o;C&&C(v),_&&_()}function l(C){const{onPositiveClick:v}=o;v?Promise.resolve(v(C)).then(_=>{_!==!1&&u()}):u()}function d(C){const{onNegativeClick:v}=o;v?Promise.resolve(v(C)).then(_=>{_!==!1&&u()}):u()}function g(){const{onClose:C}=o;C?Promise.resolve(C()).then(v=>{v!==!1&&u()}):u()}function w(C){const{onMaskClick:v,maskClosable:_}=o;v&&(v(C),_&&u())}function x(){const{onEsc:C}=o;C&&C()}function u(){r.value=!1}function h(C){r.value=C}return{show:r,hide:u,handleUpdateShow:h,handleAfterLeave:c,handleCloseClick:g,handleNegativeClick:d,handlePositiveClick:l,handleMaskClick:w,handleEsc:x}},render(){const{handlePositiveClick:o,handleUpdateShow:r,handleNegativeClick:c,handleCloseClick:l,handleAfterLeave:d,handleMaskClick:g,handleEsc:w,to:x,maskClosable:u,show:h}=this;return R(Zt,{show:h,onUpdateShow:r,onMaskClick:g,onEsc:w,to:x,maskClosable:u,onAfterEnter:this.onAfterEnter,onAfterLeave:d,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,internalAppear:!0,internalDialog:!0},{default:()=>R(Xt,Object.assign({},Bn(this.$props,Gt),{style:this.internalStyle,onClose:l,onNegativeClick:c,onPositiveClick:o}))})}}),Or={injectionKey:String,to:[String,Object]},Pr=J({name:"DialogProvider",props:Or,setup(){const o=Q([]),r={};function c(x={}){const u=on(),h=je(Object.assign(Object.assign({},x),{key:u,destroy:()=>{r[`n-dialog-${u}`].hide()}}));return o.value.push(h),h}const l=["info","success","warning","error"].map(x=>u=>c(Object.assign(Object.assign({},u),{type:x})));function d(x){const{value:u}=o;u.splice(u.findIndex(h=>h.key===x),1)}function g(){Object.values(r).forEach(x=>{x.hide()})}const w={create:c,destroyAll:g,info:l[0],success:l[1],warning:l[2],error:l[3]};return ce($n,w),ce(nr,{clickedRef:Jt(64),clickPositionRef:er()}),ce(tr,o),Object.assign(Object.assign({},w),{dialogList:o,dialogInstRefs:r,handleAfterLeave:d})},render(){var o,r;return R(ke,null,[this.dialogList.map(c=>R(Ar,ln(c,["destroy","style"],{internalStyle:c.style,to:this.to,ref:l=>{l===null?delete this.dialogInstRefs[`n-dialog-${c.key}`]:this.dialogInstRefs[`n-dialog-${c.key}`]=l},internalKey:c.key,onInternalAfterLeave:this.handleAfterLeave}))),(r=(o=this.$slots).default)===null||r===void 0?void 0:r.call(o)])}});function Nr(){const o=le($n,null);return o===null&&Fe("use-dialog","No outer <n-dialog-provider /> founded."),o}const Lr={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},Tr=o=>{const{textColor2:r,successColor:c,infoColor:l,warningColor:d,errorColor:g,popoverColor:w,closeIconColor:x,closeIconColorHover:u,closeIconColorPressed:h,closeColorHover:C,closeColorPressed:v,textColor1:_,textColor3:A,borderRadius:I,fontWeightStrong:P,boxShadow2:B,lineHeight:M,fontSize:D}=o;return Object.assign(Object.assign({},Lr),{borderRadius:I,lineHeight:M,fontSize:D,headerFontWeight:P,iconColor:r,iconColorSuccess:c,iconColorInfo:l,iconColorWarning:d,iconColorError:g,color:w,textColor:r,closeIconColor:x,closeIconColorHover:u,closeIconColorPressed:h,closeBorderRadius:I,closeColorHover:C,closeColorPressed:v,headerTextColor:_,descriptionTextColor:A,actionTextColor:r,boxShadow:B})},Br=rr({name:"Notification",common:an,peers:{Scrollbar:or},self:Tr}),$r=Br,zr={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Dr=o=>{const{textColor2:r,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,infoColor:g,successColor:w,errorColor:x,warningColor:u,popoverColor:h,boxShadow2:C,primaryColor:v,lineHeight:_,borderRadius:A,closeColorHover:I,closeColorPressed:P}=o;return Object.assign(Object.assign({},zr),{closeBorderRadius:A,textColor:r,textColorInfo:r,textColorSuccess:r,textColorError:r,textColorWarning:r,textColorLoading:r,color:h,colorInfo:h,colorSuccess:h,colorError:h,colorWarning:h,colorLoading:h,boxShadow:C,boxShadowInfo:C,boxShadowSuccess:C,boxShadowError:C,boxShadowWarning:C,boxShadowLoading:C,iconColor:r,iconColorInfo:g,iconColorSuccess:w,iconColorWarning:u,iconColorError:x,iconColorLoading:v,closeColorHover:I,closeColorPressed:P,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,closeColorHoverInfo:I,closeColorPressedInfo:P,closeIconColorInfo:c,closeIconColorHoverInfo:l,closeIconColorPressedInfo:d,closeColorHoverSuccess:I,closeColorPressedSuccess:P,closeIconColorSuccess:c,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:d,closeColorHoverError:I,closeColorPressedError:P,closeIconColorError:c,closeIconColorHoverError:l,closeIconColorPressedError:d,closeColorHoverWarning:I,closeColorPressedWarning:P,closeIconColorWarning:c,closeIconColorHoverWarning:l,closeIconColorPressedWarning:d,closeColorHoverLoading:I,closeColorPressedLoading:P,closeIconColorLoading:c,closeIconColorHoverLoading:l,closeIconColorPressedLoading:d,loadingColor:v,lineHeight:_,borderRadius:A})},kr={name:"Message",common:an,self:Dr},jr=kr,Fr=o=>{const{primaryColor:r,errorColor:c}=o;return{colorError:c,colorLoading:r,height:"2px"}},Mr={name:"LoadingBar",common:an,self:Fr},Hr=Mr,Un=Ce("n-loading-bar"),Yn=Ce("n-loading-bar-api"),Wr=z("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[ir({enterDuration:"0.3s",leaveDuration:"0.8s"}),z("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[j("starting",`
 background: var(--n-color-loading);
 `),j("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),j("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var rn=globalThis&&globalThis.__awaiter||function(o,r,c,l){function d(g){return g instanceof c?g:new c(function(w){w(g)})}return new(c||(c=Promise))(function(g,w){function x(C){try{h(l.next(C))}catch(v){w(v)}}function u(C){try{h(l.throw(C))}catch(v){w(v)}}function h(C){C.done?g(C.value):d(C.value).then(x,u)}h((l=l.apply(o,r||[])).next())})};function Be(o,r){return`${r}-loading-bar ${r}-loading-bar--${o}`}const Kr=J({name:"LoadingBar",props:{containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:o}=Se(),{props:r,mergedClsPrefixRef:c}=le(Un),l=Q(null),d=Q(!1),g=Q(!1),w=Q(!1),x=Q(!1);let u=!1;const h=Q(!1),C=be(()=>{const{loadingBarStyle:p}=r;return p?p[h.value?"error":"loading"]:""});function v(){return rn(this,void 0,void 0,function*(){d.value=!1,w.value=!1,u=!1,h.value=!1,x.value=!0,yield xe(),x.value=!1})}function _(p=0,L=80,O="starting"){return rn(this,void 0,void 0,function*(){yield v(),w.value=!0,g.value=!0,yield xe();const N=l.value;N&&(N.style.maxWidth=`${p}%`,N.style.transition="none",N.offsetWidth,N.className=Be(O,c.value),N.style.transition="",N.style.maxWidth=`${L}%`)})}function A(){if(u||h.value||!w.value)return;u=!0;const p=l.value;p&&(p.className=Be("finishing",c.value),p.style.maxWidth="100%",p.offsetWidth,w.value=!1)}function I(){if(!(u||h.value))if(!w.value)_(100,100,"error").then(()=>{h.value=!0;const p=l.value;p&&(p.className=Be("error",c.value),p.offsetWidth,w.value=!1)});else{h.value=!0;const p=l.value;if(!p)return;p.className=Be("error",c.value),p.style.maxWidth="100%",p.offsetWidth,w.value=!1}}function P(){d.value=!0}function B(){d.value=!1}function M(){return rn(this,void 0,void 0,function*(){yield v()})}const D=Ie("LoadingBar","-loading-bar",Wr,Hr,r,c),X=be(()=>{const{self:{height:p,colorError:L,colorLoading:O}}=D.value;return{"--n-height":p,"--n-color-loading":O,"--n-color-error":L}}),H=o?sn("loading-bar",void 0,X,r):void 0;return{mergedClsPrefix:c,loadingBarRef:l,started:g,loading:w,entering:d,transitionDisabled:x,start:_,error:I,finish:A,handleEnter:P,handleAfterEnter:B,handleAfterLeave:M,mergedLoadingBarStyle:C,cssVars:o?void 0:X,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:o}=this;return R(zn,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var r;return(r=this.onRender)===null||r===void 0||r.call(this),ar(R("div",{class:[`${o}-loading-bar-container`,this.themeClass],style:this.containerStyle},R("div",{ref:"loadingBarRef",class:[`${o}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[sr,this.loading||!this.loading&&this.entering]])}})}}),Ur=Object.assign(Object.assign({},Ie.props),{to:{type:[String,Object,Boolean],default:void 0},containerStyle:[String,Object],loadingBarStyle:{type:Object}}),Yr=J({name:"LoadingBarProvider",props:Ur,setup(o){const r=cr(),c=Q(null),l={start(){var g;r.value?(g=c.value)===null||g===void 0||g.start():xe(()=>{var w;(w=c.value)===null||w===void 0||w.start()})},error(){var g;r.value?(g=c.value)===null||g===void 0||g.error():xe(()=>{var w;(w=c.value)===null||w===void 0||w.error()})},finish(){var g;r.value?(g=c.value)===null||g===void 0||g.finish():xe(()=>{var w;(w=c.value)===null||w===void 0||w.finish()})}},{mergedClsPrefixRef:d}=Se(o);return ce(Yn,l),ce(Un,{props:o,mergedClsPrefixRef:d}),Object.assign(l,{loadingBarRef:c})},render(){var o,r;return R(ke,null,R(cn,{disabled:this.to===!1,to:this.to||"body"},R(Kr,{ref:"loadingBarRef",containerStyle:this.containerStyle})),(r=(o=this.$slots).default)===null||r===void 0?void 0:r.call(o))}});function Vr(){const o=le(Yn,null);return o===null&&Fe("use-loading-bar","No outer <n-loading-bar-provider /> founded."),o}const Vn={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},qn=Ce("n-message-api"),Qn=Ce("n-message-provider"),qr=F([z("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[_r({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),z("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[ne("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),ne("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(o=>j(`${o}-type`,[F("> *",`
 color: var(--n-icon-color-${o});
 transition: color .3s var(--n-bezier);
 `)])),F("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[lr()])]),ne("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[F("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),F("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),z("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[j("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),j("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),j("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),j("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),j("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),j("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),Qr={info:()=>R(Fn,null),success:()=>R(Mn,null),warning:()=>R(Hn,null),error:()=>R(Wn,null),default:()=>null},Xr=J({name:"Message",props:Object.assign(Object.assign({},Vn),{render:Function}),setup(o){const{inlineThemeDisabled:r,mergedRtlRef:c}=Se(o),{props:l,mergedClsPrefixRef:d}=le(Qn),g=Dn("Message",c,d),w=Ie("Message","-message",qr,jr,l,d),x=be(()=>{const{type:h}=o,{common:{cubicBezierEaseInOut:C},self:{padding:v,margin:_,maxWidth:A,iconMargin:I,closeMargin:P,closeSize:B,iconSize:M,fontSize:D,lineHeight:X,borderRadius:H,iconColorInfo:p,iconColorSuccess:L,iconColorWarning:O,iconColorError:N,iconColorLoading:W,closeIconSize:Y,closeBorderRadius:V,[se("textColor",h)]:q,[se("boxShadow",h)]:G,[se("color",h)]:ie,[se("closeColorHover",h)]:fe,[se("closeColorPressed",h)]:he,[se("closeIconColor",h)]:te,[se("closeIconColorPressed",h)]:ye,[se("closeIconColorHover",h)]:_e}}=w.value;return{"--n-bezier":C,"--n-margin":_,"--n-padding":v,"--n-max-width":A,"--n-font-size":D,"--n-icon-margin":I,"--n-icon-size":M,"--n-close-icon-size":Y,"--n-close-border-radius":V,"--n-close-size":B,"--n-close-margin":P,"--n-text-color":q,"--n-color":ie,"--n-box-shadow":G,"--n-icon-color-info":p,"--n-icon-color-success":L,"--n-icon-color-warning":O,"--n-icon-color-error":N,"--n-icon-color-loading":W,"--n-close-color-hover":fe,"--n-close-color-pressed":he,"--n-close-icon-color":te,"--n-close-icon-color-pressed":ye,"--n-close-icon-color-hover":_e,"--n-line-height":X,"--n-border-radius":H}}),u=r?sn("message",be(()=>o.type[0]),x,{}):void 0;return{mergedClsPrefix:d,rtlEnabled:g,messageProviderProps:l,handleClose(){var h;(h=o.onClose)===null||h===void 0||h.call(o)},cssVars:r?void 0:x,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender,placement:l.placement}},render(){const{render:o,type:r,closable:c,content:l,mergedClsPrefix:d,cssVars:g,themeClass:w,onRender:x,icon:u,handleClose:h,showIcon:C}=this;x==null||x();let v;return R("div",{class:[`${d}-message-wrapper`,w],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},g]},o?o(this.$props):R("div",{class:[`${d}-message ${d}-message--${r}-type`,this.rtlEnabled&&`${d}-message--rtl`]},(v=Gr(u,r,d))&&C?R("div",{class:`${d}-message__icon ${d}-message__icon--${r}-type`},R(fr,null,{default:()=>v})):null,R("div",{class:`${d}-message__content`},ge(l)),c?R(kn,{clsPrefix:d,class:`${d}-message__close`,onClick:h,absolute:!0}):null))}});function Gr(o,r,c){if(typeof o=="function")return o();{const l=r==="loading"?R(ur,{clsPrefix:c,strokeWidth:24,scale:.85}):Qr[r]();return l?R(jn,{clsPrefix:c,key:r},{default:()=>l}):null}}const Zr=J({name:"MessageEnvironment",props:Object.assign(Object.assign({},Vn),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(o){let r=null;const c=Q(!0);Kn(()=>{l()});function l(){const{duration:C}=o;C&&(r=window.setTimeout(w,C))}function d(C){C.currentTarget===C.target&&r!==null&&(window.clearTimeout(r),r=null)}function g(C){C.currentTarget===C.target&&l()}function w(){const{onHide:C}=o;c.value=!1,r&&(window.clearTimeout(r),r=null),C&&C()}function x(){const{onClose:C}=o;C&&C(),w()}function u(){const{onAfterLeave:C,onInternalAfterLeave:v,onAfterHide:_,internalKey:A}=o;C&&C(),v&&v(A),_&&_()}function h(){w()}return{show:c,hide:w,handleClose:x,handleAfterLeave:u,handleMouseleave:g,handleMouseenter:d,deactivate:h}},render(){return R(dr,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?R(Xr,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),Jr=Object.assign(Object.assign({},Ie.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),eo=J({name:"MessageProvider",props:Jr,setup(o){const{mergedClsPrefixRef:r}=Se(o),c=Q([]),l=Q({}),d={create(u,h){return g(u,Object.assign({type:"default"},h))},info(u,h){return g(u,Object.assign(Object.assign({},h),{type:"info"}))},success(u,h){return g(u,Object.assign(Object.assign({},h),{type:"success"}))},warning(u,h){return g(u,Object.assign(Object.assign({},h),{type:"warning"}))},error(u,h){return g(u,Object.assign(Object.assign({},h),{type:"error"}))},loading(u,h){return g(u,Object.assign(Object.assign({},h),{type:"loading"}))},destroyAll:x};ce(Qn,{props:o,mergedClsPrefixRef:r}),ce(qn,d);function g(u,h){const C=on(),v=je(Object.assign(Object.assign({},h),{content:u,key:C,destroy:()=>{var A;(A=l.value[C])===null||A===void 0||A.hide()}})),{max:_}=o;return _&&c.value.length>=_&&c.value.shift(),c.value.push(v),v}function w(u){c.value.splice(c.value.findIndex(h=>h.key===u),1),delete l.value[u]}function x(){Object.values(l.value).forEach(u=>{u.hide()})}return Object.assign({mergedClsPrefix:r,messageRefs:l,messageList:c,handleAfterLeave:w},d)},render(){var o,r,c;return R(ke,null,(r=(o=this.$slots).default)===null||r===void 0?void 0:r.call(o),this.messageList.length?R(cn,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(l=>R(Zr,Object.assign({ref:d=>{d&&(this.messageRefs[l.key]=d)},internalKey:l.key,onInternalAfterLeave:this.handleAfterLeave},ln(l,["destroy"],void 0),{duration:l.duration===void 0?this.duration:l.duration,keepAliveOnHover:l.keepAliveOnHover===void 0?this.keepAliveOnHover:l.keepAliveOnHover,closable:l.closable===void 0?this.closable:l.closable}))))):null)}});function no(){const o=le(qn,null);return o===null&&Fe("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),o}const Me=Ce("n-notification-provider"),to=J({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:o,mergedClsPrefixRef:r,wipTransitionCountRef:c}=le(Me),l=Q(null);return vr(()=>{var d,g;c.value>0?(d=l==null?void 0:l.value)===null||d===void 0||d.classList.add("transitioning"):(g=l==null?void 0:l.value)===null||g===void 0||g.classList.remove("transitioning")}),{selfRef:l,mergedTheme:o,mergedClsPrefix:r,transitioning:c}},render(){const{$slots:o,scrollable:r,mergedClsPrefix:c,mergedTheme:l,placement:d}=this;return R("div",{ref:"selfRef",class:[`${c}-notification-container`,r&&`${c}-notification-container--scrollable`,`${c}-notification-container--${d}`]},r?R(hr,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},o):o)}}),ro={info:()=>R(Fn,null),success:()=>R(Mn,null),warning:()=>R(Hn,null),error:()=>R(Wn,null),default:()=>null},fn={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},oo=gr(fn),io=J({name:"Notification",props:fn,setup(o){const{mergedClsPrefixRef:r,mergedThemeRef:c,props:l}=le(Me),{inlineThemeDisabled:d,mergedRtlRef:g}=Se(),w=Dn("Notification",g,r),x=be(()=>{const{type:h}=o,{self:{color:C,textColor:v,closeIconColor:_,closeIconColorHover:A,closeIconColorPressed:I,headerTextColor:P,descriptionTextColor:B,actionTextColor:M,borderRadius:D,headerFontWeight:X,boxShadow:H,lineHeight:p,fontSize:L,closeMargin:O,closeSize:N,width:W,padding:Y,closeIconSize:V,closeBorderRadius:q,closeColorHover:G,closeColorPressed:ie,titleFontSize:fe,metaFontSize:he,descriptionFontSize:te,[se("iconColor",h)]:ye},common:{cubicBezierEaseOut:_e,cubicBezierEaseIn:We,cubicBezierEaseInOut:ee}}=c.value,{left:Oe,right:Ke,top:Ue,bottom:Ye}=mr(Y);return{"--n-color":C,"--n-font-size":L,"--n-text-color":v,"--n-description-text-color":B,"--n-action-text-color":M,"--n-title-text-color":P,"--n-title-font-weight":X,"--n-bezier":ee,"--n-bezier-ease-out":_e,"--n-bezier-ease-in":We,"--n-border-radius":D,"--n-box-shadow":H,"--n-close-border-radius":q,"--n-close-color-hover":G,"--n-close-color-pressed":ie,"--n-close-icon-color":_,"--n-close-icon-color-hover":A,"--n-close-icon-color-pressed":I,"--n-line-height":p,"--n-icon-color":ye,"--n-close-margin":O,"--n-close-size":N,"--n-close-icon-size":V,"--n-width":W,"--n-padding-left":Oe,"--n-padding-right":Ke,"--n-padding-top":Ue,"--n-padding-bottom":Ye,"--n-title-font-size":fe,"--n-meta-font-size":he,"--n-description-font-size":te}}),u=d?sn("notification",be(()=>o.type[0]),x,l):void 0;return{mergedClsPrefix:r,showAvatar:be(()=>o.avatar||o.type!=="default"),handleCloseClick(){o.onClose()},rtlEnabled:w,cssVars:d?void 0:x,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var o;const{mergedClsPrefix:r}=this;return(o=this.onRender)===null||o===void 0||o.call(this),R("div",{class:[`${r}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},R("div",{class:[`${r}-notification`,this.rtlEnabled&&`${r}-notification--rtl`,this.themeClass,{[`${r}-notification--closable`]:this.closable,[`${r}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?R("div",{class:`${r}-notification__avatar`},this.avatar?ge(this.avatar):this.type!=="default"?R(jn,{clsPrefix:r},{default:()=>ro[this.type]()}):null):null,this.closable?R(kn,{clsPrefix:r,class:`${r}-notification__close`,onClick:this.handleCloseClick}):null,R("div",{ref:"bodyRef",class:`${r}-notification-main`},this.title?R("div",{class:`${r}-notification-main__header`},ge(this.title)):null,this.description?R("div",{class:`${r}-notification-main__description`},ge(this.description)):null,this.content?R("pre",{class:`${r}-notification-main__content`},ge(this.content)):null,this.meta||this.action?R("div",{class:`${r}-notification-main-footer`},this.meta?R("div",{class:`${r}-notification-main-footer__meta`},ge(this.meta)):null,this.action?R("div",{class:`${r}-notification-main-footer__action`},ge(this.action)):null):null)))}}),ao=Object.assign(Object.assign({},fn),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),so=J({name:"NotificationEnvironment",props:Object.assign(Object.assign({},ao),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(o){const{wipTransitionCountRef:r}=le(Me),c=Q(!0);let l=null;function d(){c.value=!1,l&&window.clearTimeout(l)}function g(I){r.value++,xe(()=>{I.style.height=`${I.offsetHeight}px`,I.style.maxHeight="0",I.style.transition="none",I.offsetHeight,I.style.transition="",I.style.maxHeight=I.style.height})}function w(I){r.value--,I.style.height="",I.style.maxHeight="";const{onAfterEnter:P,onAfterShow:B}=o;P&&P(),B&&B()}function x(I){r.value++,I.style.maxHeight=`${I.offsetHeight}px`,I.style.height=`${I.offsetHeight}px`,I.offsetHeight}function u(I){const{onHide:P}=o;P&&P(),I.style.maxHeight="0",I.offsetHeight}function h(){r.value--;const{onAfterLeave:I,onInternalAfterLeave:P,onAfterHide:B,internalKey:M}=o;I&&I(),P(M),B&&B()}function C(){const{duration:I}=o;I&&(l=window.setTimeout(d,I))}function v(I){I.currentTarget===I.target&&l!==null&&(window.clearTimeout(l),l=null)}function _(I){I.currentTarget===I.target&&C()}function A(){const{onClose:I}=o;I?Promise.resolve(I()).then(P=>{P!==!1&&d()}):d()}return Kn(()=>{o.duration&&(l=window.setTimeout(d,o.duration))}),{show:c,hide:d,handleClose:A,handleAfterLeave:h,handleLeave:u,handleBeforeLeave:x,handleAfterEnter:w,handleBeforeEnter:g,handleMouseenter:v,handleMouseleave:_}},render(){return R(zn,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?R(io,Object.assign({},Bn(this.$props,oo),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),co=F([z("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[F(">",[z("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[F(">",[z("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[z("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),j("top, top-right, top-left",`
 top: 12px;
 `,[F("&.transitioning >",[z("scrollbar",[F(">",[z("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),j("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[F(">",[z("scrollbar",[F(">",[z("scrollbar-container",[z("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),z("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),j("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[z("notification-wrapper",[F("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),F("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),j("top",[z("notification-wrapper",`
 transform-origin: top center;
 `)]),j("bottom",[z("notification-wrapper",`
 transform-origin: bottom center;
 `)]),j("top-right, bottom-right",[z("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),j("top-left, bottom-left",[z("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),j("top-right",`
 right: 0;
 `,[$e("top-right")]),j("top-left",`
 left: 0;
 `,[$e("top-left")]),j("bottom-right",`
 right: 0;
 `,[$e("bottom-right")]),j("bottom-left",`
 left: 0;
 `,[$e("bottom-left")]),j("scrollable",[j("top-right",`
 top: 0;
 `),j("top-left",`
 top: 0;
 `),j("bottom-right",`
 bottom: 0;
 `),j("bottom-left",`
 bottom: 0;
 `)]),z("notification-wrapper",`
 margin-bottom: 12px;
 `,[F("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),F("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),F("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),F("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),z("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[ne("avatar",[z("icon",{color:"var(--n-icon-color)"}),z("base-icon",{color:"var(--n-icon-color)"})]),j("show-avatar",[z("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),j("closable",[z("notification-main",[F("> *:first-child",{paddingRight:"20px"})]),ne("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),ne("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[z("icon","transition: color .3s var(--n-bezier);")]),z("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[z("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[ne("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),ne("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),ne("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[F("&:first-child",{margin:0})])])])])]);function $e(o){const c=o.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",l="0";return z("notification-wrapper",[F("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${c}, 0);
 `),F("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${l}, 0);
 `)])}const Xn=Ce("n-notification-api"),lo=Object.assign(Object.assign({},Ie.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),fo=J({name:"NotificationProvider",props:lo,setup(o){const{mergedClsPrefixRef:r}=Se(o),c=Q([]),l={},d=new Set;function g(A){const I=on(),P=()=>{d.add(I),l[I]&&l[I].hide()},B=je(Object.assign(Object.assign({},A),{key:I,destroy:P,hide:P,deactivate:P})),{max:M}=o;if(M&&c.value.length-d.size>=M){let D=!1,X=0;for(const H of c.value){if(!d.has(H.key)){l[H.key]&&(H.destroy(),D=!0);break}X++}D||c.value.splice(X,1)}return c.value.push(B),B}const w=["info","success","warning","error"].map(A=>I=>g(Object.assign(Object.assign({},I),{type:A})));function x(A){d.delete(A),c.value.splice(c.value.findIndex(I=>I.key===A),1)}const u=Ie("Notification","-notification",co,$r,o,r),h={create:g,info:w[0],success:w[1],warning:w[2],error:w[3],open:v,destroyAll:_},C=Q(0);ce(Xn,h),ce(Me,{props:o,mergedClsPrefixRef:r,mergedThemeRef:u,wipTransitionCountRef:C});function v(A){return g(A)}function _(){Object.values(c.value).forEach(A=>{A.hide()})}return Object.assign({mergedClsPrefix:r,notificationList:c,notificationRefs:l,handleAfterLeave:x},h)},render(){var o,r,c;const{placement:l}=this;return R(ke,null,(r=(o=this.$slots).default)===null||r===void 0?void 0:r.call(o),this.notificationList.length?R(cn,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R(to,{style:this.containerStyle,scrollable:this.scrollable&&l!=="top"&&l!=="bottom",placement:l},{default:()=>this.notificationList.map(d=>R(so,Object.assign({ref:g=>{const w=d.key;g===null?delete this.notificationRefs[w]:this.notificationRefs[w]=g}},ln(d,["destroy","hide","deactivate"]),{internalKey:d.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:d.keepAliveOnHover===void 0?this.keepAliveOnHover:d.keepAliveOnHover})))})):null)}});function uo(){const o=le(Xn,null);return o===null&&Fe("use-notification","No outer `n-notification-provider` found."),o}const vo=J({name:"InjectionExtractor",props:{onSetup:Function},setup(o,{slots:r}){var c;return(c=o.onSetup)===null||c===void 0||c.call(o),()=>{var l;return(l=r.default)===null||l===void 0?void 0:l.call(r)}}}),ho={message:no,notification:uo,loadingBar:Vr,dialog:Nr};function go({providersAndProps:o,configProviderProps:r}){let l=pr(()=>R(yr,Ln(r),{default:()=>o.map(({type:x,Provider:u,props:h})=>R(u,Ln(h),{default:()=>R(vo,{onSetup:()=>d[x]=ho[x]()})}))}));const d={app:l};let g;return br&&(g=document.createElement("div"),document.body.appendChild(g),l.mount(g)),Object.assign({unmount:()=>{var x;if(l===null||g===null){wr("discrete","unmount call no need because discrete app has been unmounted");return}l.unmount(),(x=g.parentNode)===null||x===void 0||x.removeChild(g),g=null,l=null}},d)}function mo(o,{configProviderProps:r,messageProviderProps:c,dialogProviderProps:l,notificationProviderProps:d,loadingBarProviderProps:g}={}){const w=[];return o.forEach(u=>{switch(u){case"message":w.push({type:u,Provider:eo,props:c});break;case"notification":w.push({type:u,Provider:fo,props:d});break;case"dialog":w.push({type:u,Provider:Pr,props:l});break;case"loadingBar":w.push({type:u,Provider:Yr,props:g});break}}),go({providersAndProps:w,configProviderProps:r})}const{message:po,dialog:Po,loadingBar:No}=mo(["message","dialog","loadingBar"]);function ze(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class bo{value;next;constructor(r){this.value=r}}var oe,me,pe;class yo{constructor(){Le(this,oe,void 0);Le(this,me,void 0);Le(this,pe,void 0);this.clear()}enqueue(r){const c=new bo(r);ve(this,oe)?(ve(this,me).next=c,ae(this,me,c)):(ae(this,oe,c),ae(this,me,c)),tn(this,pe)._++}dequeue(){const r=ve(this,oe);if(r)return ae(this,oe,ve(this,oe).next),tn(this,pe)._--,r.value}clear(){ae(this,oe,void 0),ae(this,me,void 0),ae(this,pe,0)}get size(){return ve(this,pe)}*[Symbol.iterator](){let r=ve(this,oe);for(;r;)yield r.value,r=r.next}}oe=new WeakMap,me=new WeakMap,pe=new WeakMap;function Lo(o){if(!((Number.isInteger(o)||o===Number.POSITIVE_INFINITY)&&o>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const r=new yo;let c=0;const l=()=>{c--,r.size>0&&r.dequeue()()},d=async(x,u,h)=>{c++;const C=(async()=>x(...h))();u(C);try{await C}catch{}l()},g=(x,u,h)=>{r.enqueue(d.bind(void 0,x,u,h)),(async()=>(await Promise.resolve(),c<o&&r.size>0&&r.dequeue()()))()},w=(x,...u)=>new Promise(h=>{g(x,h,u)});return Object.defineProperties(w,{activeCount:{get:()=>c},pendingCount:{get:()=>r.size},clearQueue:{value:()=>{r.clear()}}}),w}const To=(...o)=>{const r=new FormData;return o.forEach(c=>{for(const l in c){const d=c[l];d!==void 0&&(d instanceof Blob?r.append(l,d,d.name):r.append(l,String(d)))}}),r},Bo=o=>{const r={};return o.forEach((c,l)=>{r[l]=c}),r},wo=async(o=0)=>new Promise(r=>{setTimeout(r,o)}),$o=(()=>{let o;return async(r="")=>{o!==r&&(o=r,wo(1e4).then(()=>{o=void 0}),await navigator.clipboard.writeText(r),po.success("复制成功"))}})(),xo=new Set([location.origin,"https://cdn.jsdelivr.net","https://fastly.jsdelivr.net","https://raw.githubusercontent.com","https://raw.githubusercontents.com","https://raw.gitmirror.com"]),zo=o=>(o=new URL(o),o.hostname=="127.0.0.1"||o.hostname=="localhost"||location.protocol=="http:"&&o.protocol=="http:"&&o.hostname.split(".").every(r=>Number.isSafeInteger(parseInt(r)))?!0:xo.has(o.origin)),Co=/^https:\/\/github\.com\/gkd-kit\/inspect\/files\/([0-9]+)\/file\.zip$/,So=/^https:\/\/github\.com\/gkd-kit\/inspect\/assets\/([0-9]+)\/([0-9a-z\-]+)$/,Do=o=>{o=o.toString();let r;const{1:c}=o.match(Co)||[],{1:l,2:d}=o.match(So)||[];if(c)r=Tn.resolve({path:`/import/${c}`}).href;else if(l&&d)r=Tn.resolve({path:`/import/${l}/${d}`}).href;else throw new Error(`github url ${o} should come from gkd-kit/inspect files/assets`);return location.origin+r};var Gn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(o,r){(function(c){o.exports=c()})(function(){return function c(l,d,g){function w(h,C){if(!d[h]){if(!l[h]){var v=typeof ze=="function"&&ze;if(!C&&v)return v(h,!0);if(x)return x(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var A=d[h]={exports:{}};l[h][0].call(A.exports,function(I){var P=l[h][1][I];return w(P||I)},A,A.exports,c,l,d,g)}return d[h].exports}for(var x=typeof ze=="function"&&ze,u=0;u<g.length;u++)w(g[u]);return w}({1:[function(c,l,d){(function(g){var w=g.MutationObserver||g.WebKitMutationObserver,x;if(w){var u=0,h=new w(I),C=g.document.createTextNode("");h.observe(C,{characterData:!0}),x=function(){C.data=u=++u%2}}else if(!g.setImmediate&&typeof g.MessageChannel<"u"){var v=new g.MessageChannel;v.port1.onmessage=I,x=function(){v.port2.postMessage(0)}}else"document"in g&&"onreadystatechange"in g.document.createElement("script")?x=function(){var B=g.document.createElement("script");B.onreadystatechange=function(){I(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},g.document.documentElement.appendChild(B)}:x=function(){setTimeout(I,0)};var _,A=[];function I(){_=!0;for(var B,M,D=A.length;D;){for(M=A,A=[],B=-1;++B<D;)M[B]();D=A.length}_=!1}l.exports=P;function P(B){A.push(B)===1&&!_&&x()}}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,l,d){var g=c(1);function w(){}var x={},u=["REJECTED"],h=["FULFILLED"],C=["PENDING"];l.exports=v;function v(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,p!==w&&P(this,p)}v.prototype.catch=function(p){return this.then(null,p)},v.prototype.then=function(p,L){if(typeof p!="function"&&this.state===h||typeof L!="function"&&this.state===u)return this;var O=new this.constructor(w);if(this.state!==C){var N=this.state===h?p:L;A(O,N,this.outcome)}else this.queue.push(new _(O,p,L));return O};function _(p,L,O){this.promise=p,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(p){x.resolve(this.promise,p)},_.prototype.otherCallFulfilled=function(p){A(this.promise,this.onFulfilled,p)},_.prototype.callRejected=function(p){x.reject(this.promise,p)},_.prototype.otherCallRejected=function(p){A(this.promise,this.onRejected,p)};function A(p,L,O){g(function(){var N;try{N=L(O)}catch(W){return x.reject(p,W)}N===p?x.reject(p,new TypeError("Cannot resolve promise with itself")):x.resolve(p,N)})}x.resolve=function(p,L){var O=B(I,L);if(O.status==="error")return x.reject(p,O.value);var N=O.value;if(N)P(p,N);else{p.state=h,p.outcome=L;for(var W=-1,Y=p.queue.length;++W<Y;)p.queue[W].callFulfilled(L)}return p},x.reject=function(p,L){p.state=u,p.outcome=L;for(var O=-1,N=p.queue.length;++O<N;)p.queue[O].callRejected(L);return p};function I(p){var L=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof L=="function")return function(){L.apply(p,arguments)}}function P(p,L){var O=!1;function N(q){O||(O=!0,x.reject(p,q))}function W(q){O||(O=!0,x.resolve(p,q))}function Y(){L(W,N)}var V=B(Y);V.status==="error"&&N(V.value)}function B(p,L){var O={};try{O.value=p(L),O.status="success"}catch(N){O.status="error",O.value=N}return O}v.resolve=M;function M(p){return p instanceof this?p:x.resolve(new this(w),p)}v.reject=D;function D(p){var L=new this(w);return x.reject(L,p)}v.all=X;function X(p){var L=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=p.length,N=!1;if(!O)return this.resolve([]);for(var W=new Array(O),Y=0,V=-1,q=new this(w);++V<O;)G(p[V],V);return q;function G(ie,fe){L.resolve(ie).then(he,function(te){N||(N=!0,x.reject(q,te))});function he(te){W[fe]=te,++Y===O&&!N&&(N=!0,x.resolve(q,W))}}}v.race=H;function H(p){var L=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=p.length,N=!1;if(!O)return this.resolve([]);for(var W=-1,Y=new this(w);++W<O;)V(p[W]);return Y;function V(q){L.resolve(q).then(function(G){N||(N=!0,x.resolve(Y,G))},function(G){N||(N=!0,x.reject(Y,G))})}}},{1:1}],3:[function(c,l,d){(function(g){typeof g.Promise!="function"&&(g.Promise=c(2))}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,l,d){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=x();function h(){try{if(!u||!u.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function C(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if(i.name!=="TypeError")throw i;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new n,s=0;s<e.length;s+=1)a.append(e[s]);return a.getBlob(t.type)}}typeof Promise>"u"&&c(3);var v=Promise;function _(e,t){t&&e.then(function(n){t(null,n)},function(n){t(n)})}function A(e,t,n){typeof t=="function"&&e.then(t),typeof n=="function"&&e.catch(n)}function I(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var B="local-forage-detect-blob-support",M=void 0,D={},X=Object.prototype.toString,H="readonly",p="readwrite";function L(e){for(var t=e.length,n=new ArrayBuffer(t),a=new Uint8Array(n),s=0;s<t;s++)a[s]=e.charCodeAt(s);return n}function O(e){return new v(function(t){var n=e.transaction(B,p),a=C([""]);n.objectStore(B).put(a,"key"),n.onabort=function(s){s.preventDefault(),s.stopPropagation(),t(!1)},n.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);t(i||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function N(e){return typeof M=="boolean"?v.resolve(M):O(e).then(function(t){return M=t,M})}function W(e){var t=D[e.name],n={};n.promise=new v(function(a,s){n.resolve=a,n.reject=s}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function Y(e){var t=D[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function V(e,t){var n=D[e.name],a=n.deferredOperations.pop();if(a)return a.reject(t),a.promise}function q(e,t){return new v(function(n,a){if(D[e.name]=D[e.name]||Oe(),e.db)if(t)W(e),e.db.close();else return n(e.db);var s=[e.name];t&&s.push(e.version);var i=u.open.apply(u,s);t&&(i.onupgradeneeded=function(f){var m=i.result;try{m.createObjectStore(e.storeName),f.oldVersion<=1&&m.createObjectStore(B)}catch(b){if(b.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw b}}),i.onerror=function(f){f.preventDefault(),a(i.error)},i.onsuccess=function(){var f=i.result;f.onversionchange=function(m){m.target.close()},n(f),Y(e)}})}function G(e){return q(e,!1)}function ie(e){return q(e,!0)}function fe(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,s=e.version>e.db.version;if(a&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function he(e){return new v(function(t,n){var a=new FileReader;a.onerror=n,a.onloadend=function(s){var i=btoa(s.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},a.readAsBinaryString(e)})}function te(e){var t=L(atob(e.data));return C([t],{type:e.type})}function ye(e){return e&&e.__local_forage_encoded_blob}function _e(e){var t=this,n=t._initReady().then(function(){var a=D[t._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return A(n,e,e),n}function We(e){W(e);for(var t=D[e.name],n=t.forages,a=0;a<n.length;a++){var s=n[a];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,G(e).then(function(i){return e.db=i,fe(e)?ie(e):i}).then(function(i){e.db=t.db=i;for(var f=0;f<n.length;f++)n[f]._dbInfo.db=i}).catch(function(i){throw V(e,i),i})}function ee(e,t,n,a){a===void 0&&(a=1);try{var s=e.db.transaction(e.storeName,t);n(null,s)}catch(i){if(a>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return We(e).then(function(){ee(e,t,n,a-1)})}).catch(n);n(i)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ke(e){var t=this,n={db:null};if(e)for(var a in e)n[a]=e[a];var s=D[n.name];s||(s=Oe(),D[n.name]=s),s.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=_e);var i=[];function f(){return v.resolve()}for(var m=0;m<s.forages.length;m++){var b=s.forages[m];b!==t&&i.push(b._initReady().catch(f))}var y=s.forages.slice(0);return v.all(i).then(function(){return n.db=s.db,G(n)}).then(function(S){return n.db=S,fe(n,t._defaultConfig.version)?ie(n):S}).then(function(S){n.db=s.db=S,t._dbInfo=n;for(var E=0;E<y.length;E++){var T=y[E];T!==t&&(T._dbInfo.db=n.db,T._dbInfo.version=n.version)}})}function Ue(e,t){var n=this;e=I(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(f,m){if(f)return i(f);try{var b=m.objectStore(n._dbInfo.storeName),y=b.get(e);y.onsuccess=function(){var S=y.result;S===void 0&&(S=null),ye(S)&&(S=te(S)),s(S)},y.onerror=function(){i(y.error)}}catch(S){i(S)}})}).catch(i)});return _(a,t),a}function Ye(e,t){var n=this,a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(f,m){if(f)return i(f);try{var b=m.objectStore(n._dbInfo.storeName),y=b.openCursor(),S=1;y.onsuccess=function(){var E=y.result;if(E){var T=E.value;ye(T)&&(T=te(T));var $=e(T,E.key,S++);$!==void 0?s($):E.continue()}else s()},y.onerror=function(){i(y.error)}}catch(E){i(E)}})}).catch(i)});return _(a,t),a}function et(e,t,n){var a=this;e=I(e);var s=new v(function(i,f){var m;a.ready().then(function(){return m=a._dbInfo,X.call(t)==="[object Blob]"?N(m.db).then(function(b){return b?t:he(t)}):t}).then(function(b){ee(a._dbInfo,p,function(y,S){if(y)return f(y);try{var E=S.objectStore(a._dbInfo.storeName);b===null&&(b=void 0);var T=E.put(b,e);S.oncomplete=function(){b===void 0&&(b=null),i(b)},S.onabort=S.onerror=function(){var $=T.error?T.error:T.transaction.error;f($)}}catch($){f($)}})}).catch(f)});return _(s,n),s}function nt(e,t){var n=this;e=I(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,p,function(f,m){if(f)return i(f);try{var b=m.objectStore(n._dbInfo.storeName),y=b.delete(e);m.oncomplete=function(){s()},m.onerror=function(){i(y.error)},m.onabort=function(){var S=y.error?y.error:y.transaction.error;i(S)}}catch(S){i(S)}})}).catch(i)});return _(a,t),a}function tt(e){var t=this,n=new v(function(a,s){t.ready().then(function(){ee(t._dbInfo,p,function(i,f){if(i)return s(i);try{var m=f.objectStore(t._dbInfo.storeName),b=m.clear();f.oncomplete=function(){a()},f.onabort=f.onerror=function(){var y=b.error?b.error:b.transaction.error;s(y)}}catch(y){s(y)}})}).catch(s)});return _(n,e),n}function rt(e){var t=this,n=new v(function(a,s){t.ready().then(function(){ee(t._dbInfo,H,function(i,f){if(i)return s(i);try{var m=f.objectStore(t._dbInfo.storeName),b=m.count();b.onsuccess=function(){a(b.result)},b.onerror=function(){s(b.error)}}catch(y){s(y)}})}).catch(s)});return _(n,e),n}function ot(e,t){var n=this,a=new v(function(s,i){if(e<0){s(null);return}n.ready().then(function(){ee(n._dbInfo,H,function(f,m){if(f)return i(f);try{var b=m.objectStore(n._dbInfo.storeName),y=!1,S=b.openKeyCursor();S.onsuccess=function(){var E=S.result;if(!E){s(null);return}e===0||y?s(E.key):(y=!0,E.advance(e))},S.onerror=function(){i(S.error)}}catch(E){i(E)}})}).catch(i)});return _(a,t),a}function it(e){var t=this,n=new v(function(a,s){t.ready().then(function(){ee(t._dbInfo,H,function(i,f){if(i)return s(i);try{var m=f.objectStore(t._dbInfo.storeName),b=m.openKeyCursor(),y=[];b.onsuccess=function(){var S=b.result;if(!S){a(y);return}y.push(S.key),S.continue()},b.onerror=function(){s(b.error)}}catch(S){s(S)}})}).catch(s)});return _(n,e),n}function at(e,t){t=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;if(!e.name)s=v.reject("Invalid arguments");else{var i=e.name===n.name&&a._dbInfo.db,f=i?v.resolve(a._dbInfo.db):G(e).then(function(m){var b=D[e.name],y=b.forages;b.db=m;for(var S=0;S<y.length;S++)y[S]._dbInfo.db=m;return m});e.storeName?s=f.then(function(m){if(m.objectStoreNames.contains(e.storeName)){var b=m.version+1;W(e);var y=D[e.name],S=y.forages;m.close();for(var E=0;E<S.length;E++){var T=S[E];T._dbInfo.db=null,T._dbInfo.version=b}var $=new v(function(k,U){var K=u.open(e.name,b);K.onerror=function(Z){var Re=K.result;Re.close(),U(Z)},K.onupgradeneeded=function(){var Z=K.result;Z.deleteObjectStore(e.storeName)},K.onsuccess=function(){var Z=K.result;Z.close(),k(Z)}});return $.then(function(k){y.db=k;for(var U=0;U<S.length;U++){var K=S[U];K._dbInfo.db=k,Y(K._dbInfo)}}).catch(function(k){throw(V(e,k)||v.resolve()).catch(function(){}),k})}}):s=f.then(function(m){W(e);var b=D[e.name],y=b.forages;m.close();for(var S=0;S<y.length;S++){var E=y[S];E._dbInfo.db=null}var T=new v(function($,k){var U=u.deleteDatabase(e.name);U.onerror=function(){var K=U.result;K&&K.close(),k(U.error)},U.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},U.onsuccess=function(){var K=U.result;K&&K.close(),$(K)}});return T.then(function($){b.db=$;for(var k=0;k<y.length;k++){var U=y[k];Y(U._dbInfo)}}).catch(function($){throw(V(e,$)||v.resolve()).catch(function(){}),$})})}return _(s,t),s}var st={_driver:"asyncStorage",_initStorage:Ke,_support:h(),iterate:Ye,getItem:Ue,setItem:et,removeItem:nt,clear:tt,length:rt,key:ot,keys:it,dropInstance:at};function ct(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lt="~~local_forage_type~",dn=/^~~local_forage_type~([^~]+)~/,Pe="__lfsc__:",Ve=Pe.length,qe="arbf",Qe="blob",vn="si08",hn="ui08",gn="uic8",mn="si16",pn="si32",bn="ur16",yn="ui32",wn="fl32",xn="fl64",Cn=Ve+qe.length,Sn=Object.prototype.toString;function In(e){var t=e.length*.75,n=e.length,a,s=0,i,f,m,b;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var y=new ArrayBuffer(t),S=new Uint8Array(y);for(a=0;a<n;a+=4)i=ue.indexOf(e[a]),f=ue.indexOf(e[a+1]),m=ue.indexOf(e[a+2]),b=ue.indexOf(e[a+3]),S[s++]=i<<2|f>>4,S[s++]=(f&15)<<4|m>>2,S[s++]=(m&3)<<6|b&63;return y}function Xe(e){var t=new Uint8Array(e),n="",a;for(a=0;a<t.length;a+=3)n+=ue[t[a]>>2],n+=ue[(t[a]&3)<<4|t[a+1]>>4],n+=ue[(t[a+1]&15)<<2|t[a+2]>>6],n+=ue[t[a+2]&63];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function ft(e,t){var n="";if(e&&(n=Sn.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Sn.call(e.buffer)==="[object ArrayBuffer]")){var a,s=Pe;e instanceof ArrayBuffer?(a=e,s+=qe):(a=e.buffer,n==="[object Int8Array]"?s+=vn:n==="[object Uint8Array]"?s+=hn:n==="[object Uint8ClampedArray]"?s+=gn:n==="[object Int16Array]"?s+=mn:n==="[object Uint16Array]"?s+=bn:n==="[object Int32Array]"?s+=pn:n==="[object Uint32Array]"?s+=yn:n==="[object Float32Array]"?s+=wn:n==="[object Float64Array]"?s+=xn:t(new Error("Failed to get type for BinaryArray"))),t(s+Xe(a))}else if(n==="[object Blob]"){var i=new FileReader;i.onload=function(){var f=lt+e.type+"~"+Xe(this.result);t(Pe+Qe+f)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(f){console.error("Couldn't convert value into a JSON string: ",e),t(null,f)}}function ut(e){if(e.substring(0,Ve)!==Pe)return JSON.parse(e);var t=e.substring(Cn),n=e.substring(Ve,Cn),a;if(n===Qe&&dn.test(t)){var s=t.match(dn);a=s[1],t=t.substring(s[0].length)}var i=In(t);switch(n){case qe:return i;case Qe:return C([i],{type:a});case vn:return new Int8Array(i);case hn:return new Uint8Array(i);case gn:return new Uint8ClampedArray(i);case mn:return new Int16Array(i);case bn:return new Uint16Array(i);case pn:return new Int32Array(i);case yn:return new Uint32Array(i);case wn:return new Float32Array(i);case xn:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var Ge={serialize:ft,deserialize:ut,stringToBuffer:In,bufferToString:Xe};function _n(e,t,n,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,a)}function dt(e){var t=this,n={db:null};if(e)for(var a in e)n[a]=typeof e[a]!="string"?e[a].toString():e[a];var s=new v(function(i,f){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(m){return f(m)}n.db.transaction(function(m){_n(m,n,function(){t._dbInfo=n,i()},function(b,y){f(y)})},f)});return n.serializer=Ge,s}function de(e,t,n,a,s,i){e.executeSql(n,a,s,function(f,m){m.code===m.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(b,y){y.rows.length?i(b,m):_n(b,t,function(){b.executeSql(n,a,s,i)},i)},i):i(f,m)},i)}function vt(e,t){var n=this;e=I(e);var a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(m){de(m,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[e],function(b,y){var S=y.rows.length?y.rows.item(0).value:null;S&&(S=f.serializer.deserialize(S)),s(S)},function(b,y){i(y)})})}).catch(i)});return _(a,t),a}function ht(e,t){var n=this,a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(m){de(m,f,"SELECT * FROM "+f.storeName,[],function(b,y){for(var S=y.rows,E=S.length,T=0;T<E;T++){var $=S.item(T),k=$.value;if(k&&(k=f.serializer.deserialize(k)),k=e(k,$.key,T+1),k!==void 0){s(k);return}}s()},function(b,y){i(y)})})}).catch(i)});return _(a,t),a}function En(e,t,n,a){var s=this;e=I(e);var i=new v(function(f,m){s.ready().then(function(){t===void 0&&(t=null);var b=t,y=s._dbInfo;y.serializer.serialize(t,function(S,E){E?m(E):y.db.transaction(function(T){de(T,y,"INSERT OR REPLACE INTO "+y.storeName+" (key, value) VALUES (?, ?)",[e,S],function(){f(b)},function($,k){m(k)})},function(T){if(T.code===T.QUOTA_ERR){if(a>0){f(En.apply(s,[e,b,n,a-1]));return}m(T)}})})}).catch(m)});return _(i,n),i}function gt(e,t,n){return En.apply(this,[e,t,n,1])}function mt(e,t){var n=this;e=I(e);var a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(m){de(m,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[e],function(){s()},function(b,y){i(y)})})}).catch(i)});return _(a,t),a}function pt(e){var t=this,n=new v(function(a,s){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(f){de(f,i,"DELETE FROM "+i.storeName,[],function(){a()},function(m,b){s(b)})})}).catch(s)});return _(n,e),n}function bt(e){var t=this,n=new v(function(a,s){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(f){de(f,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(m,b){var y=b.rows.item(0).c;a(y)},function(m,b){s(b)})})}).catch(s)});return _(n,e),n}function yt(e,t){var n=this,a=new v(function(s,i){n.ready().then(function(){var f=n._dbInfo;f.db.transaction(function(m){de(m,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[e+1],function(b,y){var S=y.rows.length?y.rows.item(0).key:null;s(S)},function(b,y){i(y)})})}).catch(i)});return _(a,t),a}function wt(e){var t=this,n=new v(function(a,s){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(f){de(f,i,"SELECT key FROM "+i.storeName,[],function(m,b){for(var y=[],S=0;S<b.rows.length;S++)y.push(b.rows.item(S).key);a(y)},function(m,b){s(b)})})}).catch(s)});return _(n,e),n}function xt(e){return new v(function(t,n){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,i){for(var f=[],m=0;m<i.rows.length;m++)f.push(i.rows.item(m).name);t({db:e,storeNames:f})},function(s,i){n(i)})},function(a){n(a)})})}function Ct(e,t){t=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;return e.name?s=new v(function(i){var f;e.name===n.name?f=a._dbInfo.db:f=openDatabase(e.name,"","",0),e.storeName?i({db:f,storeNames:[e.storeName]}):i(xt(f))}).then(function(i){return new v(function(f,m){i.db.transaction(function(b){function y($){return new v(function(k,U){b.executeSql("DROP TABLE IF EXISTS "+$,[],function(){k()},function(K,Z){U(Z)})})}for(var S=[],E=0,T=i.storeNames.length;E<T;E++)S.push(y(i.storeNames[E]));v.all(S).then(function(){f()}).catch(function($){m($)})},function(b){m(b)})})}):s=v.reject("Invalid arguments"),_(s,t),s}var St={_driver:"webSQLStorage",_initStorage:dt,_support:ct(),iterate:ht,getItem:vt,setItem:gt,removeItem:mt,clear:pt,length:bt,key:yt,keys:wt,dropInstance:Ct};function It(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rn(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function _t(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Et(){return!_t()||localStorage.length>0}function Rt(e){var t=this,n={};if(e)for(var a in e)n[a]=e[a];return n.keyPrefix=Rn(e,t._defaultConfig),Et()?(t._dbInfo=n,n.serializer=Ge,v.resolve()):v.reject()}function At(e){var t=this,n=t.ready().then(function(){for(var a=t._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var i=localStorage.key(s);i.indexOf(a)===0&&localStorage.removeItem(i)}});return _(n,e),n}function Ot(e,t){var n=this;e=I(e);var a=n.ready().then(function(){var s=n._dbInfo,i=localStorage.getItem(s.keyPrefix+e);return i&&(i=s.serializer.deserialize(i)),i});return _(a,t),a}function Pt(e,t){var n=this,a=n.ready().then(function(){for(var s=n._dbInfo,i=s.keyPrefix,f=i.length,m=localStorage.length,b=1,y=0;y<m;y++){var S=localStorage.key(y);if(S.indexOf(i)===0){var E=localStorage.getItem(S);if(E&&(E=s.serializer.deserialize(E)),E=e(E,S.substring(f),b++),E!==void 0)return E}}});return _(a,t),a}function Nt(e,t){var n=this,a=n.ready().then(function(){var s=n._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(s.keyPrefix.length)),i});return _(a,t),a}function Lt(e){var t=this,n=t.ready().then(function(){for(var a=t._dbInfo,s=localStorage.length,i=[],f=0;f<s;f++){var m=localStorage.key(f);m.indexOf(a.keyPrefix)===0&&i.push(m.substring(a.keyPrefix.length))}return i});return _(n,e),n}function Tt(e){var t=this,n=t.keys().then(function(a){return a.length});return _(n,e),n}function Bt(e,t){var n=this;e=I(e);var a=n.ready().then(function(){var s=n._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return _(a,t),a}function $t(e,t,n){var a=this;e=I(e);var s=a.ready().then(function(){t===void 0&&(t=null);var i=t;return new v(function(f,m){var b=a._dbInfo;b.serializer.serialize(t,function(y,S){if(S)m(S);else try{localStorage.setItem(b.keyPrefix+e,y),f(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&m(E),m(E)}})})});return _(s,n),s}function zt(e,t){if(t=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var a=this,s;return e.name?s=new v(function(i){e.storeName?i(Rn(e,a._defaultConfig)):i(e.name+"/")}).then(function(i){for(var f=localStorage.length-1;f>=0;f--){var m=localStorage.key(f);m.indexOf(i)===0&&localStorage.removeItem(m)}}):s=v.reject("Invalid arguments"),_(s,t),s}var Dt={_driver:"localStorageWrapper",_initStorage:Rt,_support:It(),iterate:Pt,getItem:Ot,setItem:$t,removeItem:Bt,clear:At,length:Tt,key:Nt,keys:Lt,dropInstance:zt},kt=function(t,n){return t===n||typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)},jt=function(t,n){for(var a=t.length,s=0;s<a;){if(kt(t[s],n))return!0;s++}return!1},An=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},On={},we={INDEXEDDB:st,WEBSQL:St,LOCALSTORAGE:Dt},Ft=[we.INDEXEDDB._driver,we.WEBSQL._driver,we.LOCALSTORAGE._driver],Ne=["dropInstance"],Ze=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ne),Mt={description:"",driver:Ft.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ht(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function Je(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(An(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var Wt=function(){function e(t){w(this,e);for(var n in we)if(we.hasOwnProperty(n)){var a=we[n],s=a._driver;this[n]=s,Ee[s]||this.defineDriver(a)}this._defaultConfig=Je({},Mt),this._config=Je({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":g(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in n){if(a==="storeName"&&(n[a]=n[a].replace(/\W/g,"_")),a==="version"&&typeof n[a]!="number")return new Error("Database version must be a number.");this._config[a]=n[a]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,a,s){var i=new v(function(f,m){try{var b=n._driver,y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){m(y);return}for(var S=Ze.concat("_initStorage"),E=0,T=S.length;E<T;E++){var $=S[E],k=!jt(Ne,$);if((k||n[$])&&typeof n[$]!="function"){m(y);return}}var U=function(){for(var Re=function(Yt){return function(){var Vt=new Error("Method "+Yt+" is not implemented by the current driver"),Pn=v.reject(Vt);return _(Pn,arguments[arguments.length-1]),Pn}},en=0,Ut=Ne.length;en<Ut;en++){var nn=Ne[en];n[nn]||(n[nn]=Re(nn))}};U();var K=function(Re){Ee[b]&&console.info("Redefining LocalForage driver: "+b),Ee[b]=n,On[b]=Re,f()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(K,m):K(!!n._support):K(!0)}catch(Z){m(Z)}});return A(i,a,s),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,a,s){var i=Ee[n]?v.resolve(Ee[n]):v.reject(new Error("Driver not found."));return A(i,a,s),i},e.prototype.getSerializer=function(n){var a=v.resolve(Ge);return A(a,n),a},e.prototype.ready=function(n){var a=this,s=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return A(s,n,n),s},e.prototype.setDriver=function(n,a,s){var i=this;An(n)||(n=[n]);var f=this._getSupportedDrivers(n);function m(){i._config.driver=i.driver()}function b(E){return i._extend(E),m(),i._ready=i._initStorage(i._config),i._ready}function y(E){return function(){var T=0;function $(){for(;T<E.length;){var k=E[T];return T++,i._dbInfo=null,i._ready=null,i.getDriver(k).then(b).catch($)}m();var U=new Error("No available storage method found.");return i._driverSet=v.reject(U),i._driverSet}return $()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=S.then(function(){var E=f[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(T){i._driver=T._driver,m(),i._wrapLibraryMethodsWithReady(),i._initDriver=y(f)})}).catch(function(){m();var E=new Error("No available storage method found.");return i._driverSet=v.reject(E),i._driverSet}),A(this._driverSet,a,s),this._driverSet},e.prototype.supports=function(n){return!!On[n]},e.prototype._extend=function(n){Je(this,n)},e.prototype._getSupportedDrivers=function(n){for(var a=[],s=0,i=n.length;s<i;s++){var f=n[s];this.supports(f)&&a.push(f)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,a=Ze.length;n<a;n++)Ht(this,Ze[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Kt=new Wt;l.exports=Kt},{3:3}]},{},[4])(4)})})(Gn);var Io=Gn.exports;const De=Er(Io),He=(o={})=>{o.driver??(o.driver=De.INDEXEDDB);const r=De.createInstance(o);return{keys:async()=>r.keys(),hasItem:async u=>{const h=u.toString();return r.keys().then(C=>C.includes(h))},getItem:async u=>r.getItem(u.toString()),setItem:async(u,h)=>r.setItem(u.toString(),h),removeItem:async u=>r.removeItem(u.toString()),getAllItems:async()=>Promise.all((await r.keys()).map(u=>r.getItem(u)))}},un=(o,r)=>{const c=je(typeof r=="function"?r():r);let l=!1;return xr(c,async()=>{l&&await De.setItem(o,Cr(c))}),De.getItem(o).then(d=>{d&&Object.assign(c,d),l=!0}),c},Ae=He({name:"snapshot",version:1}),_o=Ae.setItem;Ae.setItem=async(o,r)=>{const c={...r,nodes:[]};return await Zn.setItem(o,c),_o(o,r)};const Eo=Ae.removeItem;Ae.removeItem=async o=>{await Promise.all([Eo(o),Zn.removeItem(o),Jn.removeItem(o)])};const Zn=He({name:"shallowSnapshot",version:1}),Jn=He({name:"screenshot",version:1}),ko=async(o,r)=>{await Ae.setItem(o.id,o),await Jn.setItem(o.id,r)};He({name:"cache",version:1});const jo=un("url",{}),Fo=un("githubPng",{}),Mo=un("githubZip",{});export{Ae as a,Jn as b,$o as c,Po as d,wo as e,_r as f,Do as g,Te as h,Fo as i,Mo as j,Co as k,No as l,po as m,So as n,To as o,Lo as p,ko as q,ze as r,Zn as s,Er as t,jo as u,ln as v,Bo as w,zo as x};
//# sourceMappingURL=storage-18c961a6.js.map
