{"version":3,"file":"SnapshotPage-b0ba5bdb.js","sources":["../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_utils/vue/create-data-key.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_internal/icons/ChevronLeft.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/_internal/icons/Switcher.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/Collapse.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/CollapseItemContent.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/collapse/src/CollapseItem.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/styles/_common.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/styles/light.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Table.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Th.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Tr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Td.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Thead.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/table/src/Tbody.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree-select/src/interface.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/interface.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeSwitcher.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeCheckbox.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNodeContent.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/dnd.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/utils.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/TreeNode.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/keyboard.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/MotionWrapper.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/styles/index.cssr.js","../../node_modules/.pnpm/naive-ui@2.34.4_vue@3.3.4/node_modules/naive-ui/es/tree/src/Tree.js","../../src/components/DraggableCard.vue","../../src/components/AttrCard.vue","../../src/components/ScreenshotCard.vue","../../src/components/SearchCard.vue","../../src/components/WindowCard.vue","../../src/views/SnapshotPage.vue"],"sourcesContent":["export function createDataKey(key) {\n    return typeof key === 'string' ? `s-${key}` : `n-${key}`;\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'ChevronLeft',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Switcher',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\" },\n            h(\"path\", { d: \"M12 8l10 8l-10 8z\" })));\n    }\n});\n","import { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { fontWeight, textColor1, textColor2, textColorDisabled, dividerColor, fontSize } = vars;\n    return {\n        titleFontSize: fontSize,\n        titleFontWeight: fontWeight,\n        dividerColor,\n        titleTextColor: textColor1,\n        titleTextColorDisabled: textColorDisabled,\n        fontSize,\n        textColor: textColor2,\n        arrowColor: textColor2,\n        arrowColorDisabled: textColorDisabled,\n        itemMargin: '16px 0 0 0',\n        titlePadding: '16px 0 0 0'\n    };\n};\nconst collapseLight = {\n    name: 'Collapse',\n    common: commonLight,\n    self\n};\nexport default collapseLight;\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr';\n// vars:\n// --n-font-size\n// --n-bezier\n// --n-text-color\n// --n-divider-color\n// --n-title-padding\n// --n-title-font-size\n// --n-title-text-color\n// --n-title-font-weight\n// --n-arrow-color\n// --n-arrow-color-disabled\n// --n-title-text-color-disabled\n// --n-item-margin\nexport default cB('collapse', 'width: 100%;', [cB('collapse-item', `\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n transition:\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n margin: var(--n-item-margin);\n `, [cM('disabled', [cE('header', 'cursor: not-allowed;', [cE('header-main', `\n color: var(--n-title-text-color-disabled);\n `), cB('collapse-item-arrow', `\n color: var(--n-arrow-color-disabled);\n `)])]), cB('collapse-item', 'margin-left: 32px;'), c('&:first-child', 'margin-top: 0;'), c('&:first-child >', [cE('header', 'padding-top: 0;')]), cM('left-arrow-placement', [cE('header', [cB('collapse-item-arrow', 'margin-right: 4px;')])]), cM('right-arrow-placement', [cE('header', [cB('collapse-item-arrow', 'margin-left: 4px;')])]), cE('content-wrapper', [cE('content-inner', 'padding-top: 16px;'), fadeInHeightExpandTransition({\n  duration: '0.15s'\n})]), cM('active', [cE('header', [cM('active', [cB('collapse-item-arrow', 'transform: rotate(90deg);')])])]), c('&:not(:first-child)', 'border-top: 1px solid var(--n-divider-color);'), cE('header', `\n font-size: var(--n-title-font-size);\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n transition: color .3s var(--n-bezier);\n position: relative;\n padding: var(--n-title-padding);\n color: var(--n-title-text-color);\n cursor: pointer;\n `, [cE('header-main', `\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n flex: 1;\n color: var(--n-title-text-color);\n `), cE('header-extra', `\n display: flex;\n align-items: center;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cB('collapse-item-arrow', `\n display: flex;\n transition:\n transform .15s var(--n-bezier),\n color .3s var(--n-bezier);\n font-size: 18px;\n color: var(--n-arrow-color);\n `)])])]);","import { computed, h, defineComponent, provide, ref } from 'vue';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { call, createInjectionKey, warn } from '../../_utils';\nimport { collapseLight } from '../styles';\nimport style from './styles/index.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nexport const collapseProps = Object.assign(Object.assign({}, useTheme.props), { defaultExpandedNames: {\n        type: [Array, String],\n        default: null\n    }, expandedNames: [Array, String], arrowPlacement: {\n        type: String,\n        default: 'left'\n    }, accordion: {\n        type: Boolean,\n        default: false\n    }, displayDirective: {\n        type: String,\n        default: 'if'\n    }, onItemHeaderClick: [Function, Array], 'onUpdate:expandedNames': [Function, Array], onUpdateExpandedNames: [Function, Array], \n    // deprecated\n    onExpandedNamesChange: {\n        type: [Function, Array],\n        validator: () => {\n            if (process.env.NODE_ENV !== 'production') {\n                warn('collapse', '`on-expanded-names-change` is deprecated, please use `on-update:expanded-names` instead.');\n            }\n            return true;\n        },\n        default: undefined\n    } });\nexport const collapseInjectionKey = createInjectionKey('n-collapse');\nexport default defineComponent({\n    name: 'Collapse',\n    props: collapseProps,\n    setup(props, { slots }) {\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const uncontrolledExpandedNamesRef = ref(props.defaultExpandedNames);\n        const controlledExpandedNamesRef = computed(() => props.expandedNames);\n        const mergedExpandedNamesRef = useMergedState(controlledExpandedNamesRef, uncontrolledExpandedNamesRef);\n        const themeRef = useTheme('Collapse', '-collapse', style, collapseLight, props, mergedClsPrefixRef);\n        function doUpdateExpandedNames(names) {\n            const { 'onUpdate:expandedNames': _onUpdateExpandedNames, onUpdateExpandedNames, onExpandedNamesChange } = props;\n            if (onUpdateExpandedNames) {\n                call(onUpdateExpandedNames, names);\n            }\n            if (_onUpdateExpandedNames) {\n                call(_onUpdateExpandedNames, names);\n            }\n            if (onExpandedNamesChange) {\n                call(onExpandedNamesChange, names);\n            }\n            uncontrolledExpandedNamesRef.value = names;\n        }\n        function doItemHeaderClick(info) {\n            const { onItemHeaderClick } = props;\n            if (onItemHeaderClick) {\n                call(onItemHeaderClick, info);\n            }\n        }\n        function toggleItem(collapse, name, event) {\n            const { accordion } = props;\n            const { value: expandedNames } = mergedExpandedNamesRef;\n            if (accordion) {\n                if (collapse) {\n                    doUpdateExpandedNames([name]);\n                    doItemHeaderClick({ name, expanded: true, event });\n                }\n                else {\n                    doUpdateExpandedNames([]);\n                    doItemHeaderClick({ name, expanded: false, event });\n                }\n            }\n            else {\n                if (!Array.isArray(expandedNames)) {\n                    doUpdateExpandedNames([name]);\n                    doItemHeaderClick({ name, expanded: true, event });\n                }\n                else {\n                    const activeNames = expandedNames.slice();\n                    const index = activeNames.findIndex((activeName) => name === activeName);\n                    if (~index) {\n                        activeNames.splice(index, 1);\n                        doUpdateExpandedNames(activeNames);\n                        doItemHeaderClick({ name, expanded: false, event });\n                    }\n                    else {\n                        activeNames.push(name);\n                        doUpdateExpandedNames(activeNames);\n                        doItemHeaderClick({ name, expanded: true, event });\n                    }\n                }\n            }\n        }\n        provide(collapseInjectionKey, {\n            props,\n            mergedClsPrefixRef,\n            expandedNamesRef: mergedExpandedNamesRef,\n            slots,\n            toggleItem\n        });\n        const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { titleFontWeight, dividerColor, titlePadding, titleTextColor, titleTextColorDisabled, textColor, arrowColor, fontSize, titleFontSize, arrowColorDisabled, itemMargin } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-divider-color': dividerColor,\n                '--n-title-padding': titlePadding,\n                '--n-title-font-size': titleFontSize,\n                '--n-title-text-color': titleTextColor,\n                '--n-title-text-color-disabled': titleTextColorDisabled,\n                '--n-title-font-weight': titleFontWeight,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-item-margin': itemMargin\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('collapse', undefined, cssVarsRef, props)\n            : undefined;\n        return {\n            rtlEnabled: rtlEnabledRef,\n            mergedTheme: themeRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { class: [\n                `${this.mergedClsPrefix}-collapse`,\n                this.rtlEnabled && `${this.mergedClsPrefix}-collapse--rtl`,\n                this.themeClass\n            ], style: this.cssVars }, this.$slots));\n    }\n});\n","import { h, withDirectives, vShow, defineComponent, toRef } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { NFadeInExpandTransition } from '../../_internal';\nexport default defineComponent({\n    name: 'CollapseItemContent',\n    props: {\n        displayDirective: {\n            type: String,\n            required: true\n        },\n        show: Boolean,\n        clsPrefix: {\n            type: String,\n            required: true\n        }\n    },\n    setup(props) {\n        const onceTrueRef = useFalseUntilTruthy(toRef(props, 'show'));\n        return {\n            onceTrue: onceTrueRef\n        };\n    },\n    render() {\n        return (h(NFadeInExpandTransition, null, {\n            default: () => {\n                const { show, displayDirective, onceTrue, clsPrefix } = this;\n                const useVShow = displayDirective === 'show' && onceTrue;\n                const contentNode = (h(\"div\", { class: `${clsPrefix}-collapse-item__content-wrapper` },\n                    h(\"div\", { class: `${clsPrefix}-collapse-item__content-inner` }, this.$slots)));\n                return useVShow\n                    ? withDirectives(contentNode, [[vShow, show]])\n                    : show\n                        ? contentNode\n                        : null;\n            }\n        }));\n    }\n});\n","import { h, defineComponent, inject, computed } from 'vue';\nimport { createId } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from '../../_internal/icons';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { useConfig } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { throwError, resolveSlotWithProps, resolveWrappedSlotWithProps } from '../../_utils';\nimport { collapseInjectionKey } from './Collapse';\nimport NCollapseItemContent from './CollapseItemContent';\nexport const collapseItemProps = {\n    title: String,\n    name: [String, Number],\n    disabled: Boolean,\n    displayDirective: String\n};\nexport default defineComponent({\n    name: 'CollapseItem',\n    props: collapseItemProps,\n    setup(props) {\n        const { mergedRtlRef } = useConfig(props);\n        const randomName = createId();\n        const mergedNameRef = useMemo(() => {\n            var _a;\n            return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n        });\n        const NCollapse = inject(collapseInjectionKey);\n        if (!NCollapse) {\n            throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n        }\n        const { expandedNamesRef, props: collapseProps, mergedClsPrefixRef, slots: collapseSlots } = NCollapse;\n        const collapsedRef = computed(() => {\n            const { value: expandedNames } = expandedNamesRef;\n            if (Array.isArray(expandedNames)) {\n                const { value: name } = mergedNameRef;\n                return !~expandedNames.findIndex((expandedName) => expandedName === name);\n            }\n            else if (expandedNames) {\n                const { value: name } = mergedNameRef;\n                return name !== expandedNames;\n            }\n            return true;\n        });\n        const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n        return {\n            rtlEnabled: rtlEnabledRef,\n            collapseSlots,\n            randomName,\n            mergedClsPrefix: mergedClsPrefixRef,\n            collapsed: collapsedRef,\n            mergedDisplayDirective: computed(() => {\n                const { displayDirective } = props;\n                if (displayDirective) {\n                    return displayDirective;\n                }\n                else {\n                    return collapseProps.displayDirective;\n                }\n            }),\n            arrowPlacement: computed(() => {\n                return collapseProps.arrowPlacement;\n            }),\n            handleClick(e) {\n                if (NCollapse && !props.disabled) {\n                    NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n                }\n            }\n        };\n    },\n    render() {\n        const { collapseSlots, $slots, arrowPlacement, collapsed, mergedDisplayDirective, mergedClsPrefix, disabled } = this;\n        const headerNode = resolveSlotWithProps($slots.header, { collapsed }, () => [this.title]);\n        const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n        const arrowSlot = $slots.arrow || collapseSlots.arrow;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-collapse-item`,\n                `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`,\n                disabled && `${mergedClsPrefix}-collapse-item--disabled`,\n                !collapsed && `${mergedClsPrefix}-collapse-item--active`\n            ] },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-collapse-item__header`,\n                    !collapsed && `${mergedClsPrefix}-collapse-item__header--active`\n                ] },\n                h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-main`, onClick: this.handleClick },\n                    arrowPlacement === 'right' && headerNode,\n                    h(\"div\", { class: `${mergedClsPrefix}-collapse-item-arrow`, key: this.rtlEnabled ? 0 : 1 }, resolveSlotWithProps(arrowSlot, { collapsed }, () => {\n                        var _a;\n                        return [\n                            h(NBaseIcon, { clsPrefix: mergedClsPrefix }, {\n                                default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : (() => this.rtlEnabled ? (h(ArrowLeftIcon, null)) : (h(ArrowRightIcon, null)))\n                            })\n                        ];\n                    })),\n                    arrowPlacement === 'left' && headerNode),\n                resolveWrappedSlotWithProps(headerExtraSlot, { collapsed }, (children) => (h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-extra`, onClick: this.handleClick }, children)))),\n            h(NCollapseItemContent, { clsPrefix: mergedClsPrefix, displayDirective: mergedDisplayDirective, show: !collapsed }, $slots)));\n    }\n});\n","export default {\n    thPaddingSmall: '6px',\n    thPaddingMedium: '12px',\n    thPaddingLarge: '12px',\n    tdPaddingSmall: '6px',\n    tdPaddingMedium: '12px',\n    tdPaddingLarge: '12px'\n};\n","import { composite } from 'seemly';\nimport sizeVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { dividerColor, cardColor, modalColor, popoverColor, tableHeaderColor, tableColorStriped, textColor1, textColor2, borderRadius, fontWeightStrong, lineHeight, fontSizeSmall, fontSizeMedium, fontSizeLarge } = vars;\n    return Object.assign(Object.assign({}, sizeVariables), { fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge,\n        lineHeight,\n        borderRadius, borderColor: composite(cardColor, dividerColor), borderColorModal: composite(modalColor, dividerColor), borderColorPopover: composite(popoverColor, dividerColor), tdColor: cardColor, tdColorModal: modalColor, tdColorPopover: popoverColor, tdColorStriped: composite(cardColor, tableColorStriped), tdColorStripedModal: composite(modalColor, tableColorStriped), tdColorStripedPopover: composite(popoverColor, tableColorStriped), thColor: composite(cardColor, tableHeaderColor), thColorModal: composite(modalColor, tableHeaderColor), thColorPopover: composite(popoverColor, tableHeaderColor), thTextColor: textColor1, tdTextColor: textColor2, thFontWeight: fontWeightStrong });\n};\nconst tableLight = {\n    name: 'Table',\n    common: commonLight,\n    self\n};\nexport default tableLight;\n","import { changeColor } from 'seemly';\nimport { checkboxLight } from '../../checkbox/styles';\nimport { emptyLight } from '../../empty/styles';\nimport { scrollbarLight } from '../../_internal/scrollbar/styles';\nimport { commonLight } from '../../_styles/common';\nimport { createTheme } from '../../_mixins/use-theme';\nexport const self = (vars) => {\n    const { borderRadiusSmall, hoverColor, pressedColor, primaryColor, textColor3, textColor2, textColorDisabled, fontSize } = vars;\n    return {\n        fontSize,\n        nodeBorderRadius: borderRadiusSmall,\n        nodeColorHover: hoverColor,\n        nodeColorPressed: pressedColor,\n        nodeColorActive: changeColor(primaryColor, { alpha: 0.1 }),\n        arrowColor: textColor3,\n        nodeTextColor: textColor2,\n        nodeTextColorDisabled: textColorDisabled,\n        loadingColor: primaryColor,\n        dropMarkColor: primaryColor\n    };\n};\nconst treeLight = createTheme({\n    name: 'Tree',\n    common: commonLight,\n    peers: {\n        Checkbox: checkboxLight,\n        Scrollbar: scrollbarLight,\n        Empty: emptyLight\n    },\n    self\n});\nexport default treeLight;\n","import { c, cB, cM, cNotM, insideModal, insidePopover } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-td-color\n// --n-td-color-modal\n// --n-td-color-popover\n// --n-td-text-color\n// --n-border-color\n// --n-border-color-modal\n// --n-border-color-popover\n// --n-border-radius\n// --n-font-size\n// --n-th-color\n// --n-th-color-modal\n// --n-th-color-popover\n// --n-th-font-weight\n// --n-th-text-color\n// --n-line-height\n// --n-td-padding\n// --n-th-padding\nexport default c([cB('table', `\n font-size: var(--n-font-size);\n font-variant-numeric: tabular-nums;\n line-height: var(--n-line-height);\n width: 100%;\n border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;\n text-align: left;\n border-collapse: separate;\n border-spacing: 0;\n overflow: hidden;\n background-color: var(--n-td-color);\n border-color: var(--n-merged-border-color);\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n --n-merged-border-color: var(--n-border-color);\n `, [c('th', `\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n text-align: inherit;\n padding: var(--n-th-padding);\n vertical-align: inherit;\n text-transform: none;\n border: 0px solid var(--n-merged-border-color);\n font-weight: var(--n-th-font-weight);\n color: var(--n-th-text-color);\n background-color: var(--n-th-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n border-right: 1px solid var(--n-merged-border-color);\n `, [c('&:last-child', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), c('td', `\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n padding: var(--n-td-padding);\n color: var(--n-td-text-color);\n background-color: var(--n-td-color);\n border: 0px solid var(--n-merged-border-color);\n border-right: 1px solid var(--n-merged-border-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n `, [c('&:last-child', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), cM('bordered', `\n border: 1px solid var(--n-merged-border-color);\n border-radius: var(--n-border-radius);\n `, [c('tr', [c('&:last-child', [c('td', `\n border-bottom: 0 solid var(--n-merged-border-color);\n `)])])]), cM('single-line', [c('th', `\n border-right: 0px solid var(--n-merged-border-color);\n `), c('td', `\n border-right: 0px solid var(--n-merged-border-color);\n `)]), cM('single-column', [c('tr', [c('&:not(:last-child)', [c('td', `\n border-bottom: 0px solid var(--n-merged-border-color);\n `)])])]), cM('striped', [c('tr:nth-of-type(even)', [c('td', 'background-color: var(--n-td-color-striped)')])]), cNotM('bottom-bordered', [c('tr', [c('&:last-child', [c('td', `\n border-bottom: 0px solid var(--n-merged-border-color);\n `)])])])]), insideModal(cB('table', `\n background-color: var(--n-td-color-modal);\n --n-merged-border-color: var(--n-border-color-modal);\n `, [c('th', `\n background-color: var(--n-th-color-modal);\n `), c('td', `\n background-color: var(--n-td-color-modal);\n `)])), insidePopover(cB('table', `\n background-color: var(--n-td-color-popover);\n --n-merged-border-color: var(--n-border-color-popover);\n `, [c('th', `\n background-color: var(--n-th-color-popover);\n `), c('td', `\n background-color: var(--n-td-color-popover);\n `)]))]);","import { defineComponent, computed, h } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { createKey } from '../../_utils';\nimport { tableLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const tableProps = Object.assign(Object.assign({}, useTheme.props), { bordered: {\n        type: Boolean,\n        default: true\n    }, bottomBordered: {\n        type: Boolean,\n        default: true\n    }, singleLine: {\n        type: Boolean,\n        default: true\n    }, striped: Boolean, singleColumn: Boolean, size: {\n        type: String,\n        default: 'medium'\n    } });\nexport default defineComponent({\n    name: 'Table',\n    props: tableProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Table', '-table', style, tableLight, props, mergedClsPrefixRef);\n        const rtlEnabledRef = useRtl('Table', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { self: { borderColor, tdColor, tdColorModal, tdColorPopover, thColor, thColorModal, thColorPopover, thTextColor, tdTextColor, borderRadius, thFontWeight, lineHeight, borderColorModal, borderColorPopover, tdColorStriped, tdColorStripedModal, tdColorStripedPopover, [createKey('fontSize', size)]: fontSize, [createKey('tdPadding', size)]: tdPadding, [createKey('thPadding', size)]: thPadding }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-td-color': tdColor,\n                '--n-td-color-modal': tdColorModal,\n                '--n-td-color-popover': tdColorPopover,\n                '--n-td-text-color': tdTextColor,\n                '--n-border-color': borderColor,\n                '--n-border-color-modal': borderColorModal,\n                '--n-border-color-popover': borderColorPopover,\n                '--n-border-radius': borderRadius,\n                '--n-font-size': fontSize,\n                '--n-th-color': thColor,\n                '--n-th-color-modal': thColorModal,\n                '--n-th-color-popover': thColorPopover,\n                '--n-th-font-weight': thFontWeight,\n                '--n-th-text-color': thTextColor,\n                '--n-line-height': lineHeight,\n                '--n-td-padding': tdPadding,\n                '--n-th-padding': thPadding,\n                '--n-td-color-striped': tdColorStriped,\n                '--n-td-color-striped-modal': tdColorStripedModal,\n                '--n-td-color-striped-popover': tdColorStripedPopover\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('table', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedClsPrefix } = this;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"table\", { class: [\n                `${mergedClsPrefix}-table`,\n                this.themeClass,\n                {\n                    [`${mergedClsPrefix}-table--rtl`]: this.rtlEnabled,\n                    [`${mergedClsPrefix}-table--bottom-bordered`]: this.bottomBordered,\n                    [`${mergedClsPrefix}-table--bordered`]: this.bordered,\n                    [`${mergedClsPrefix}-table--single-line`]: this.singleLine,\n                    [`${mergedClsPrefix}-table--single-column`]: this.singleColumn,\n                    [`${mergedClsPrefix}-table--striped`]: this.striped\n                }\n            ], style: this.cssVars }, this.$slots));\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Th',\n    render() {\n        return h(\"th\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Tr',\n    render() {\n        return h(\"tr\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Td',\n    render() {\n        return h(\"td\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Thead',\n    render() {\n        return h(\"thead\", null, this.$slots);\n    }\n});\n","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Tbody',\n    render() {\n        return h(\"tbody\", null, this.$slots);\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const treeSelectInjectionKey = createInjectionKey('n-tree-select');\n","import { createInjectionKey } from '../../_utils';\nexport const treeInjectionKey = createInjectionKey('n-tree');\n","import { h, defineComponent, inject } from 'vue';\nimport { SwitcherIcon } from '../../_internal/icons';\nimport { NIconSwitchTransition, NBaseLoading, NBaseIcon } from '../../_internal';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeSwitcher',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        expanded: Boolean,\n        selected: Boolean,\n        hide: Boolean,\n        loading: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { renderSwitcherIconRef } = inject(treeInjectionKey, null);\n        return () => {\n            const { clsPrefix } = props;\n            return (h(\"span\", { \"data-switcher\": true, class: [\n                    `${clsPrefix}-tree-node-switcher`,\n                    props.expanded && `${clsPrefix}-tree-node-switcher--expanded`,\n                    props.hide && `${clsPrefix}-tree-node-switcher--hide`\n                ], onClick: props.onClick },\n                h(\"div\", { class: `${clsPrefix}-tree-node-switcher__icon` },\n                    h(NIconSwitchTransition, null, {\n                        default: () => {\n                            if (props.loading) {\n                                return (h(NBaseLoading, { clsPrefix: clsPrefix, key: \"loading\", radius: 85, strokeWidth: 20 }));\n                            }\n                            const { value: renderSwitcherIcon } = renderSwitcherIconRef;\n                            return renderSwitcherIcon ? (renderSwitcherIcon({\n                                expanded: props.expanded,\n                                selected: props.selected\n                            })) : (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"switcher\" }, { default: () => h(SwitcherIcon, null) }));\n                        }\n                    }))));\n        };\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { NCheckbox } from '../../checkbox';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeNodeCheckbox',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        right: Boolean,\n        focusable: Boolean,\n        disabled: Boolean,\n        checked: Boolean,\n        indeterminate: Boolean,\n        onCheck: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        function doCheck(value) {\n            const { onCheck } = props;\n            if (onCheck) {\n                onCheck(value);\n            }\n        }\n        function handleUpdateValue(value) {\n            if (props.indeterminate) {\n                doCheck(false);\n            }\n            else {\n                doCheck(value);\n            }\n        }\n        return {\n            handleUpdateValue,\n            mergedTheme: NTree.mergedThemeRef\n        };\n    },\n    render() {\n        const { clsPrefix, mergedTheme, checked, indeterminate, disabled, focusable, handleUpdateValue } = this;\n        return (h(\"span\", { class: [\n                `${clsPrefix}-tree-node-checkbox`,\n                this.right && `${clsPrefix}-tree-node-checkbox--right`\n            ], \"data-checkbox\": true },\n            h(NCheckbox, { focusable: focusable, disabled: disabled, theme: mergedTheme.peers.Checkbox, themeOverrides: mergedTheme.peerOverrides.Checkbox, checked: checked, indeterminate: indeterminate, onUpdateChecked: handleUpdateValue })));\n    }\n});\n","import { h, defineComponent, ref, inject } from 'vue';\nimport { render } from '../../_utils';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'TreeNodeContent',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        disabled: Boolean,\n        checked: Boolean,\n        selected: Boolean,\n        onClick: Function,\n        onDragstart: Function,\n        tmNode: {\n            type: Object,\n            required: true\n        },\n        nodeProps: Object\n    },\n    setup(props) {\n        const { renderLabelRef, renderPrefixRef, renderSuffixRef, labelFieldRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(treeInjectionKey);\n        const selfRef = ref(null);\n        function doClick(e) {\n            const { onClick } = props;\n            if (onClick)\n                onClick(e);\n        }\n        function handleClick(e) {\n            doClick(e);\n        }\n        return {\n            selfRef,\n            renderLabel: renderLabelRef,\n            renderPrefix: renderPrefixRef,\n            renderSuffix: renderSuffixRef,\n            labelField: labelFieldRef,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, labelField, nodeProps, checked = false, selected = false, renderLabel, renderPrefix, renderSuffix, handleClick, onDragstart, tmNode: { rawNode, rawNode: { prefix, suffix, [labelField]: label } } } = this;\n        return (h(\"span\", Object.assign({}, nodeProps, { ref: \"selfRef\", class: [`${clsPrefix}-tree-node-content`, nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class], onClick: handleClick, draggable: onDragstart === undefined ? undefined : true, onDragstart: onDragstart }),\n            renderPrefix || prefix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__prefix` }, renderPrefix\n                ? renderPrefix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(prefix))) : null,\n            h(\"div\", { class: `${clsPrefix}-tree-node-content__text` }, renderLabel\n                ? renderLabel({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(label)),\n            renderSuffix || suffix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__suffix` }, renderSuffix\n                ? renderSuffix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(suffix))) : null));\n    }\n});\n","import { h } from 'vue';\nexport function renderDropMark({ position, offsetLevel, indent, el }) {\n    const style = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        right: 0\n    };\n    if (position === 'inside') {\n        style.left = 0;\n        style.top = 0;\n        style.bottom = 0;\n        style.borderRadius = 'inherit';\n        style.boxShadow = 'inset 0 0 0 2px var(--n-drop-mark-color)';\n    }\n    else {\n        const cssPosition = position === 'before' ? 'top' : 'bottom';\n        style[cssPosition] = 0;\n        // The left prop should be modified when tree's style is changed\n        // Maybe it is possible to use content left\n        style.left = `${el.offsetLeft + 6 - offsetLevel * indent}px`;\n        style.height = '2px';\n        style.backgroundColor = 'var(--n-drop-mark-color)';\n        style.transformOrigin = cssPosition;\n        style.borderRadius = '1px';\n        style.transform =\n            position === 'before' ? 'translateY(-4px)' : 'translateY(4px)';\n    }\n    return h(\"div\", { style: style });\n}\nexport function defaultAllowDrop({ dropPosition, node }) {\n    if (node.isLeaf === false)\n        return true;\n    if (node.children) {\n        return true;\n    }\n    return dropPosition !== 'inside';\n}\n","import { computed } from 'vue';\nimport { isBrowser } from '../../_utils';\nexport function useMergedCheckStrategy(props) {\n    return computed(() => (props.leafOnly ? 'child' : props.checkStrategy));\n}\nexport function isNodeDisabled(node, disabledField) {\n    return !!node.rawNode[disabledField];\n}\nfunction traverse(nodes, childrenField, callback, callbackAfter) {\n    nodes === null || nodes === void 0 ? void 0 : nodes.forEach((node) => {\n        callback(node);\n        traverse(node[childrenField], childrenField, callback, callbackAfter);\n        callbackAfter(node);\n    });\n}\nexport function keysWithFilter(nodes, pattern, keyField, childrenField, filter) {\n    const keys = new Set();\n    const highlightKeySet = new Set();\n    const path = [];\n    traverse(nodes, childrenField, (node) => {\n        path.push(node);\n        if (filter(pattern, node)) {\n            highlightKeySet.add(node[keyField]);\n            for (let i = path.length - 2; i >= 0; --i) {\n                if (!keys.has(path[i][keyField])) {\n                    keys.add(path[i][keyField]);\n                }\n                else {\n                    return;\n                }\n            }\n        }\n    }, () => {\n        path.pop();\n    });\n    return {\n        expandedKeys: Array.from(keys),\n        highlightKeySet\n    };\n}\nconst emptyImage = null;\nif (isBrowser && Image) {\n    const emptyImage = new Image();\n    emptyImage.src =\n        'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n}\nexport { emptyImage };\nexport function filterTree(tree, filter, pattern, keyField, childrenField) {\n    const visitedTailKeys = new Set();\n    const visitedNonTailKeys = new Set();\n    const highlightKeySet = new Set();\n    const expandedKeys = [];\n    const filteredTree = [];\n    const path = [];\n    function visit(t) {\n        t.forEach((n) => {\n            path.push(n);\n            if (filter(pattern, n)) {\n                visitedTailKeys.add(n[keyField]);\n                highlightKeySet.add(n[keyField]);\n                for (let i = path.length - 2; i >= 0; --i) {\n                    const key = path[i][keyField];\n                    if (!visitedNonTailKeys.has(key)) {\n                        visitedNonTailKeys.add(key);\n                        if (visitedTailKeys.has(key)) {\n                            visitedTailKeys.delete(key);\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            const children = n[childrenField];\n            if (children) {\n                visit(children);\n            }\n            path.pop();\n        });\n    }\n    visit(tree);\n    function build(t, sibs) {\n        t.forEach((n) => {\n            const key = n[keyField];\n            const isVisitedTail = visitedTailKeys.has(key);\n            const isVisitedNonTail = visitedNonTailKeys.has(key);\n            if (!isVisitedTail && !isVisitedNonTail)\n                return;\n            const children = n[childrenField];\n            if (children) {\n                if (isVisitedTail) {\n                    // If it is visited path tail, use origin node\n                    sibs.push(n);\n                }\n                else {\n                    // It it is not visited path tail, use cloned node\n                    expandedKeys.push(key);\n                    const clonedNode = Object.assign(Object.assign({}, n), { [childrenField]: [] });\n                    sibs.push(clonedNode);\n                    build(children, clonedNode[childrenField]);\n                }\n            }\n            else {\n                sibs.push(n);\n            }\n        });\n    }\n    build(tree, filteredTree);\n    return {\n        filteredTree,\n        highlightKeySet,\n        expandedKeys\n    };\n}\n","import { h, inject, computed, defineComponent, ref, onMounted } from 'vue';\nimport { useMemo } from 'vooks';\nimport { happensIn, repeat } from 'seemly';\nimport { createDataKey } from '../../_utils';\nimport NTreeNodeSwitcher from './TreeNodeSwitcher';\nimport NTreeNodeCheckbox from './TreeNodeCheckbox';\nimport NTreeNodeContent from './TreeNodeContent';\nimport { treeInjectionKey } from './interface';\nimport { renderDropMark } from './dnd';\nimport { isNodeDisabled } from './utils';\nconst TreeNode = defineComponent({\n    name: 'TreeNode',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        const { droppingNodeParentRef, droppingMouseNodeRef, draggingNodeRef, droppingPositionRef, droppingOffsetLevelRef, nodePropsRef, indentRef, blockLineRef, checkboxPlacementRef, checkOnClickRef, disabledFieldRef } = NTree;\n        const checkboxDisabledRef = useMemo(() => !!props.tmNode.rawNode.checkboxDisabled);\n        const nodeIsDisabledRef = useMemo(() => {\n            return isNodeDisabled(props.tmNode, disabledFieldRef.value);\n        });\n        const disabledRef = useMemo(() => NTree.disabledRef.value || nodeIsDisabledRef.value);\n        const resolvedNodePropsRef = computed(() => {\n            const { value: nodeProps } = nodePropsRef;\n            if (!nodeProps)\n                return undefined;\n            return nodeProps({ option: props.tmNode.rawNode });\n        });\n        // used for drag and drop\n        const contentInstRef = ref(null);\n        // must be non-reactive\n        const contentElRef = { value: null };\n        onMounted(() => {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            contentElRef.value = contentInstRef.value.$el;\n        });\n        function handleSwitcherClick() {\n            const { tmNode } = props;\n            if (!tmNode.isLeaf && !tmNode.shallowLoaded) {\n                if (!NTree.loadingKeysRef.value.has(tmNode.key)) {\n                    NTree.loadingKeysRef.value.add(tmNode.key);\n                }\n                else {\n                    return;\n                }\n                const { onLoadRef: { value: onLoad } } = NTree;\n                if (onLoad) {\n                    void onLoad(tmNode.rawNode)\n                        .then((value) => {\n                        if (value !== false) {\n                            NTree.handleSwitcherClick(tmNode);\n                        }\n                    })\n                        .finally(() => {\n                        NTree.loadingKeysRef.value.delete(tmNode.key);\n                    });\n                }\n            }\n            else {\n                NTree.handleSwitcherClick(tmNode);\n            }\n        }\n        const selectableRef = useMemo(() => !nodeIsDisabledRef.value &&\n            NTree.selectableRef.value &&\n            (NTree.internalTreeSelect\n                ? NTree.mergedCheckStrategyRef.value !== 'child' ||\n                    (NTree.multipleRef.value && NTree.cascadeRef.value) ||\n                    props.tmNode.isLeaf\n                : true));\n        const checkableRef = useMemo(() => NTree.checkableRef.value &&\n            (NTree.cascadeRef.value ||\n                NTree.mergedCheckStrategyRef.value !== 'child' ||\n                props.tmNode.isLeaf));\n        const checkedRef = useMemo(() => NTree.displayedCheckedKeysRef.value.includes(props.tmNode.key));\n        const mergedCheckOnClickRef = useMemo(() => {\n            const { value: checkable } = checkableRef;\n            if (!checkable)\n                return false;\n            const { value: checkOnClick } = checkOnClickRef;\n            if (typeof checkOnClick === 'boolean') {\n                return checkOnClick;\n            }\n            return checkOnClick(props.tmNode.rawNode);\n        });\n        function _handleClick(e) {\n            const { value: expandOnClick } = NTree.expandOnClickRef;\n            const { value: selectable } = selectableRef;\n            const { value: mergedCheckOnClick } = mergedCheckOnClickRef;\n            if (!selectable && !expandOnClick && !mergedCheckOnClick)\n                return;\n            if (happensIn(e, 'checkbox') || happensIn(e, 'switcher'))\n                return;\n            const { tmNode } = props;\n            if (selectable) {\n                NTree.handleSelect(tmNode);\n            }\n            if (expandOnClick && !tmNode.isLeaf) {\n                handleSwitcherClick();\n            }\n            if (mergedCheckOnClick) {\n                handleCheck(!checkedRef.value);\n            }\n        }\n        function handleContentClick(e) {\n            var _a, _b;\n            if (blockLineRef.value)\n                return;\n            if (!disabledRef.value)\n                _handleClick(e);\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleLineClick(e) {\n            var _a, _b;\n            if (!blockLineRef.value)\n                return;\n            if (!disabledRef.value) {\n                _handleClick(e);\n            }\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleCheck(checked) {\n            NTree.handleCheck(props.tmNode, checked);\n        }\n        // Dnd\n        function handleDragStart(e) {\n            NTree.handleDragStart({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnter(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragEnter({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragOver(e) {\n            e.preventDefault(); // if not prevent, drop event won't be fired...\n            NTree.handleDragOver({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnd(e) {\n            NTree.handleDragEnd({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragLeave(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragLeave({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDrop(e) {\n            e.preventDefault();\n            if (droppingPositionRef.value !== null) {\n                NTree.handleDrop({\n                    event: e,\n                    node: props.tmNode,\n                    dropPosition: droppingPositionRef.value\n                });\n            }\n        }\n        return {\n            showDropMark: useMemo(() => {\n                const { value: draggingNode } = draggingNodeRef;\n                if (!draggingNode)\n                    return;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (!droppingPosition)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (!droppingMouseNode) {\n                    return;\n                }\n                const { tmNode } = props;\n                if (tmNode.key === droppingMouseNode.key)\n                    return true;\n                return false;\n            }),\n            showDropMarkAsParent: useMemo(() => {\n                const { value: droppingNodeParent } = droppingNodeParentRef;\n                if (!droppingNodeParent)\n                    return false;\n                const { tmNode } = props;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (droppingPosition === 'before' || droppingPosition === 'after') {\n                    return droppingNodeParent.key === tmNode.key;\n                }\n                return false;\n            }),\n            pending: useMemo(() => NTree.pendingNodeKeyRef.value === props.tmNode.key),\n            loading: useMemo(() => NTree.loadingKeysRef.value.has(props.tmNode.key)),\n            highlight: useMemo(() => {\n                var _a;\n                return (_a = NTree.highlightKeySetRef.value) === null || _a === void 0 ? void 0 : _a.has(props.tmNode.key);\n            }),\n            checked: checkedRef,\n            indeterminate: useMemo(() => NTree.displayedIndeterminateKeysRef.value.includes(props.tmNode.key)),\n            selected: useMemo(() => NTree.mergedSelectedKeysRef.value.includes(props.tmNode.key)),\n            expanded: useMemo(() => NTree.mergedExpandedKeysRef.value.includes(props.tmNode.key)),\n            disabled: disabledRef,\n            checkable: checkableRef,\n            mergedCheckOnClick: mergedCheckOnClickRef,\n            checkboxDisabled: checkboxDisabledRef,\n            selectable: selectableRef,\n            expandOnClick: NTree.expandOnClickRef,\n            internalScrollable: NTree.internalScrollableRef,\n            draggable: NTree.draggableRef,\n            blockLine: blockLineRef,\n            nodeProps: resolvedNodePropsRef,\n            checkboxFocusable: NTree.internalCheckboxFocusableRef,\n            droppingPosition: droppingPositionRef,\n            droppingOffsetLevel: droppingOffsetLevelRef,\n            indent: indentRef,\n            checkboxPlacement: checkboxPlacementRef,\n            contentInstRef,\n            contentElRef,\n            handleCheck,\n            handleDrop,\n            handleDragStart,\n            handleDragEnter,\n            handleDragOver,\n            handleDragEnd,\n            handleDragLeave,\n            handleLineClick,\n            handleContentClick,\n            handleSwitcherClick\n        };\n    },\n    render() {\n        const { tmNode, clsPrefix, checkable, expandOnClick, selectable, selected, checked, highlight, draggable, blockLine, indent, disabled, pending, internalScrollable, nodeProps, checkboxPlacement } = this;\n        // drag start not inside\n        // it need to be append to node itself, not wrapper\n        const dragEventHandlers = draggable && !disabled\n            ? {\n                onDragenter: this.handleDragEnter,\n                onDragleave: this.handleDragLeave,\n                onDragend: this.handleDragEnd,\n                onDrop: this.handleDrop,\n                onDragover: this.handleDragOver\n            }\n            : undefined;\n        // In non virtual mode, there's no evidence that which element should be\n        // scrolled to, so we need data-key to query the target element.\n        const dataKey = internalScrollable ? createDataKey(tmNode.key) : undefined;\n        const checkboxOnRight = checkboxPlacement === 'right';\n        const checkboxNode = checkable ? (h(NTreeNodeCheckbox, { right: checkboxOnRight, focusable: this.checkboxFocusable, disabled: disabled || this.checkboxDisabled, clsPrefix: clsPrefix, checked: this.checked, indeterminate: this.indeterminate, onCheck: this.handleCheck })) : null;\n        return (h(\"div\", Object.assign({ class: `${clsPrefix}-tree-node-wrapper` }, dragEventHandlers),\n            h(\"div\", Object.assign({}, (blockLine ? nodeProps : undefined), { class: [\n                    `${clsPrefix}-tree-node`,\n                    {\n                        [`${clsPrefix}-tree-node--selected`]: selected,\n                        [`${clsPrefix}-tree-node--checkable`]: checkable,\n                        [`${clsPrefix}-tree-node--highlight`]: highlight,\n                        [`${clsPrefix}-tree-node--pending`]: pending,\n                        [`${clsPrefix}-tree-node--disabled`]: disabled,\n                        [`${clsPrefix}-tree-node--selectable`]: selectable,\n                        [`${clsPrefix}-tree-node--clickable`]: selectable || expandOnClick || this.mergedCheckOnClick\n                    },\n                    nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class\n                ], \"data-key\": dataKey, draggable: draggable && blockLine, onClick: this.handleLineClick, onDragstart: draggable && blockLine && !disabled\n                    ? this.handleDragStart\n                    : undefined }),\n                repeat(tmNode.level, h(\"div\", { class: `${clsPrefix}-tree-node-indent` },\n                    h(\"div\", { style: { width: `${indent}px` } }))),\n                h(NTreeNodeSwitcher, { clsPrefix: clsPrefix, expanded: this.expanded, selected: selected, loading: this.loading, hide: tmNode.isLeaf, onClick: this.handleSwitcherClick }),\n                !checkboxOnRight ? checkboxNode : null,\n                h(NTreeNodeContent, { ref: \"contentInstRef\", clsPrefix: clsPrefix, checked: checked, selected: selected, onClick: this.handleContentClick, nodeProps: blockLine ? undefined : nodeProps, onDragstart: draggable && !blockLine && !disabled\n                        ? this.handleDragStart\n                        : undefined, tmNode: tmNode }),\n                draggable\n                    ? this.showDropMark\n                        ? renderDropMark({\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            el: this.contentElRef.value,\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            position: this.droppingPosition,\n                            offsetLevel: this.droppingOffsetLevel,\n                            indent\n                        })\n                        : this.showDropMarkAsParent\n                            ? renderDropMark({\n                                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                                el: this.contentElRef.value,\n                                position: 'inside',\n                                offsetLevel: this.droppingOffsetLevel,\n                                indent\n                            })\n                            : null\n                    : null,\n                checkboxOnRight ? checkboxNode : null)));\n    }\n});\nexport default TreeNode;\n","import { inject, ref } from 'vue';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nexport function useKeyboard({ props, fNodesRef, mergedExpandedKeysRef, mergedSelectedKeysRef, handleSelect, handleSwitcherClick }) {\n    const { value: mergedSelectedKeys } = mergedSelectedKeysRef;\n    // If it's used in tree-select, make it take over pending state\n    const treeSelectInjection = inject(treeSelectInjectionKey, null);\n    const pendingNodeKeyRef = treeSelectInjection\n        ? treeSelectInjection.pendingNodeKeyRef\n        : ref(mergedSelectedKeys.length\n            ? mergedSelectedKeys[mergedSelectedKeys.length - 1]\n            : null);\n    function handleKeydown(e) {\n        if (!props.keyboard)\n            return;\n        const { value: pendingNodeKey } = pendingNodeKeyRef;\n        if (pendingNodeKey === null) {\n            if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n                e.preventDefault();\n            }\n            if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n                if (pendingNodeKey === null) {\n                    const { value: fNodes } = fNodesRef;\n                    let fIndex = 0;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n        else {\n            const { value: fNodes } = fNodesRef;\n            let fIndex = fNodes.findIndex((tmNode) => tmNode.key === pendingNodeKey);\n            if (!~fIndex)\n                return;\n            if (e.key === 'Enter') {\n                handleSelect(fNodes[fIndex]);\n            }\n            else if (e.key === 'ArrowDown') {\n                e.preventDefault();\n                fIndex += 1;\n                while (fIndex < fNodes.length) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex += 1;\n                }\n            }\n            else if (e.key === 'ArrowUp') {\n                e.preventDefault();\n                fIndex -= 1;\n                while (fIndex >= 0) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex -= 1;\n                }\n            }\n            else if (e.key === 'ArrowLeft') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf ||\n                    !mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    const parentTmNode = pendingNode.getParent();\n                    if (parentTmNode) {\n                        pendingNodeKeyRef.value = parentTmNode.key;\n                    }\n                }\n                else {\n                    handleSwitcherClick(pendingNode);\n                }\n            }\n            else if (e.key === 'ArrowRight') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf)\n                    return;\n                if (!mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    handleSwitcherClick(pendingNode);\n                }\n                else {\n                    // Tha same as ArrowDown\n                    fIndex += 1;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n    }\n    return {\n        pendingNodeKeyRef,\n        handleKeydown\n    };\n}\n","import { h, defineComponent } from 'vue';\nimport { pxfy } from 'seemly';\nimport FadeInExpandTransition from '../../_internal/fade-in-expand-transition';\nimport TreeNode from './TreeNode';\nexport default defineComponent({\n    name: 'TreeMotionWrapper',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        height: Number,\n        nodes: {\n            type: Array,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        onAfterEnter: {\n            type: Function,\n            required: true\n        }\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(FadeInExpandTransition, { onAfterEnter: this.onAfterEnter, appear: true, reverse: this.mode === 'collapse' }, {\n            default: () => (h(\"div\", { class: [\n                    `${clsPrefix}-tree-motion-wrapper`,\n                    `${clsPrefix}-tree-motion-wrapper--${this.mode}`\n                ], style: {\n                    height: pxfy(this.height)\n                } }, this.nodes.map((node) => (h(TreeNode, { clsPrefix: clsPrefix, tmNode: node })))))\n        }));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\nimport { iconSwitchTransition } from '../../../_styles/transitions/icon-switch.cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr';\n// vars:\n// --n-arrow-color\n// --n-bezier\n// --n-font-size\n// --n-node-border-radius\n// --n-node-color-active\n// --n-node-color-hover\n// --n-node-color-pressed\n// --n-node-text-color\n// --n-node-text-color-disabled\nexport default cB('tree', `\n font-size: var(--n-font-size);\n outline: none;\n`, [c('ul, li', `\n margin: 0;\n padding: 0;\n list-style: none;\n `), c('>', [cB('tree-node', [c('&:first-child', {\n  marginTop: 0\n})])]), cB('tree-node-indent', `\n flex-grow: 0;\n flex-shrink: 0;\n height: 0;\n `), cB('tree-motion-wrapper', [cM('expand', [fadeInHeightExpandTransition({\n  duration: '0.2s'\n})]), cM('collapse', [fadeInHeightExpandTransition({\n  duration: '0.2s',\n  reverse: true\n})])]), cB('tree-node-wrapper', `\n box-sizing: border-box;\n padding: 3px 0;\n `), cB('tree-node', `\n transform: translate3d(0,0,0);\n position: relative;\n display: flex;\n border-radius: var(--n-node-border-radius);\n transition: background-color .3s var(--n-bezier);\n `, [cM('highlight', [cB('tree-node-content', [cE('text', {\n  borderBottomColor: 'var(--n-node-text-color-disabled)'\n})])]), cM('disabled', [cB('tree-node-content', `\n color: var(--n-node-text-color-disabled);\n cursor: not-allowed;\n `)]), cNotM('disabled', [cM('clickable', [cB('tree-node-content', `\n cursor: pointer;\n `)])])]), cM('block-node', [cB('tree-node-content', `\n flex: 1;\n min-width: 0;\n `)]), cNotM('block-line', [cB('tree-node', [cNotM('disabled', [cB('tree-node-content', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n})]), cM('selectable', [cB('tree-node-content', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('pending', [cB('tree-node-content', `\n background-color: var(--n-node-color-hover);\n `)]), cM('selected', [cB('tree-node-content', {\n  backgroundColor: 'var(--n-node-color-active)'\n})])])])]), cM('block-line', [cB('tree-node', [cNotM('disabled', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n}), cM('pending', `\n background-color: var(--n-node-color-hover);\n `), cM('selectable', [cNotM('selected', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('selected', {\n  backgroundColor: 'var(--n-node-color-active)'\n})]), cM('disabled', `\n cursor: not-allowed;\n `)])]), cB('tree-node-switcher', `\n cursor: pointer;\n display: inline-flex;\n flex-shrink: 0;\n height: 24px;\n width: 24px;\n align-items: center;\n justify-content: center;\n transition: transform .15s var(--n-bezier);\n vertical-align: bottom;\n `, [cE('icon', `\n position: relative;\n height: 14px;\n width: 14px;\n display: flex;\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n font-size: 14px;\n `, [cB('icon', [iconSwitchTransition()]), cB('base-loading', `\n color: var(--n-loading-color);\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n `, [iconSwitchTransition()]), cB('base-icon', [iconSwitchTransition()])]), cM('hide', {\n  visibility: 'hidden'\n}), cM('expanded', {\n  transform: 'rotate(90deg)'\n})]), cB('tree-node-checkbox', `\n display: inline-flex;\n height: 24px;\n width: 16px;\n vertical-align: bottom;\n align-items: center;\n justify-content: center;\n margin-right: 4px;\n `, [cM('right', 'margin-left: 4px;')]), cM('checkable', [cB('tree-node-content', `\n padding: 0 6px;\n `)]), cB('tree-node-content', `\n position: relative;\n display: inline-flex;\n align-items: center;\n min-height: 24px;\n box-sizing: border-box;\n line-height: 1.5;\n vertical-align: bottom;\n padding: 0 6px 0 4px;\n cursor: default;\n border-radius: var(--n-node-border-radius);\n text-decoration-color: #0000;\n text-decoration-line: underline;\n color: var(--n-node-text-color);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `, [c('&:last-child', {\n  marginBottom: 0\n}), cE('prefix', `\n display: inline-flex;\n margin-right: 8px;\n `), cE('text', `\n border-bottom: 1px solid #0000;\n transition: border-color .3s var(--n-bezier);\n flex-grow: 1;\n max-width: 100%;\n `), cE('suffix', `\n display: inline-flex;\n `)]), cE('empty', 'margin: auto;')]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, toRef, computed, defineComponent, provide, watch, nextTick, watchEffect, inject } from 'vue';\nimport { createTreeMate, flatten, createIndexGetter } from 'treemate';\nimport { useMergedState } from 'vooks';\nimport { VVirtualList } from 'vueuc';\nimport { getPadding } from 'seemly';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nimport { useConfig, useTheme, useThemeClass, useRtl } from '../../_mixins';\nimport { call, createDataKey, resolveSlot, warn, warnOnce } from '../../_utils';\nimport { NxScrollbar } from '../../_internal';\nimport { treeLight } from '../styles';\nimport { NEmpty } from '../../empty';\nimport NTreeNode from './TreeNode';\nimport { keysWithFilter, emptyImage, filterTree, isNodeDisabled, useMergedCheckStrategy } from './utils';\nimport { useKeyboard } from './keyboard';\nimport { treeInjectionKey } from './interface';\nimport MotionWrapper from './MotionWrapper';\nimport { defaultAllowDrop } from './dnd';\nimport style from './styles/index.cssr';\n// TODO:\n// During expanding, some node are mis-applied with :active style\n// Async dnd has bug\nconst ITEM_SIZE = 30; // 24 + 3 + 3\nexport function createTreeMateOptions(keyField, childrenField, disabledField, getChildren) {\n    const settledGetChildren = getChildren ||\n        ((node) => {\n            return node[childrenField];\n        });\n    return {\n        getIsGroup() {\n            return false;\n        },\n        getKey(node) {\n            return node[keyField];\n        },\n        getChildren: settledGetChildren,\n        getDisabled(node) {\n            return !!(node[disabledField] || node.checkboxDisabled);\n        }\n    };\n}\nexport const treeSharedProps = {\n    allowCheckingNotLoaded: Boolean,\n    filter: Function,\n    defaultExpandAll: Boolean,\n    expandedKeys: Array,\n    keyField: {\n        type: String,\n        default: 'key'\n    },\n    labelField: {\n        type: String,\n        default: 'label'\n    },\n    childrenField: {\n        type: String,\n        default: 'children'\n    },\n    disabledField: {\n        type: String,\n        default: 'disabled'\n    },\n    defaultExpandedKeys: {\n        type: Array,\n        default: () => []\n    },\n    indeterminateKeys: Array,\n    renderSwitcherIcon: Function,\n    onUpdateIndeterminateKeys: [Function, Array],\n    'onUpdate:indeterminateKeys': [Function, Array],\n    onUpdateExpandedKeys: [Function, Array],\n    'onUpdate:expandedKeys': [Function, Array]\n};\nexport const treeProps = Object.assign(Object.assign(Object.assign(Object.assign({}, useTheme.props), { accordion: Boolean, showIrrelevantNodes: { type: Boolean, default: true }, data: {\n        type: Array,\n        default: () => []\n    }, expandOnDragenter: {\n        type: Boolean,\n        default: true\n    }, expandOnClick: Boolean, checkOnClick: {\n        type: [Boolean, Function],\n        default: false\n    }, cancelable: {\n        type: Boolean,\n        default: true\n    }, checkable: Boolean, draggable: Boolean, blockNode: Boolean, blockLine: Boolean, disabled: Boolean, checkedKeys: Array, defaultCheckedKeys: {\n        type: Array,\n        default: () => []\n    }, selectedKeys: Array, defaultSelectedKeys: {\n        type: Array,\n        default: () => []\n    }, multiple: Boolean, pattern: {\n        type: String,\n        default: ''\n    }, onLoad: Function, cascade: Boolean, selectable: {\n        type: Boolean,\n        default: true\n    }, indent: {\n        type: Number,\n        default: 16\n    }, allowDrop: {\n        type: Function,\n        default: defaultAllowDrop\n    }, animated: {\n        type: Boolean,\n        default: true\n    }, checkboxPlacement: {\n        type: String,\n        default: 'left'\n    }, virtualScroll: Boolean, watchProps: Array, renderLabel: Function, renderPrefix: Function, renderSuffix: Function, nodeProps: Function, keyboard: {\n        type: Boolean,\n        default: true\n    }, getChildren: Function, onDragenter: [Function, Array], onDragleave: [Function, Array], onDragend: [Function, Array], onDragstart: [Function, Array], onDragover: [Function, Array], onDrop: [Function, Array], onUpdateCheckedKeys: [Function, Array], 'onUpdate:checkedKeys': [Function, Array], onUpdateSelectedKeys: [Function, Array], 'onUpdate:selectedKeys': [Function, Array] }), treeSharedProps), { \n    // internal props for tree-select\n    internalTreeSelect: Boolean, internalScrollable: Boolean, internalScrollablePadding: String, \n    // use it to display\n    internalRenderEmpty: Function, internalHighlightKeySet: Object, internalUnifySelectCheck: Boolean, internalCheckboxFocusable: {\n        type: Boolean,\n        default: true\n    }, internalFocusable: {\n        // Make tree-select take over keyboard operations\n        type: Boolean,\n        default: true\n    }, checkStrategy: {\n        type: String,\n        default: 'all'\n    }, \n    /**\n     * @deprecated\n     */\n    leafOnly: Boolean });\nexport default defineComponent({\n    name: 'Tree',\n    props: treeProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.leafOnly) {\n                    warnOnce('tree', '`leaf-only` is deprecated, please use `check-strategy=\"child\"` instead');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const rtlEnabledRef = useRtl('Tree', mergedRtlRef, mergedClsPrefixRef);\n        const themeRef = useTheme('Tree', '-tree', style, treeLight, props, mergedClsPrefixRef);\n        const selfElRef = ref(null);\n        const scrollbarInstRef = ref(null);\n        const virtualListInstRef = ref(null);\n        function getScrollContainer() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.listElRef;\n        }\n        function getScrollContent() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.itemsElRef;\n        }\n        const mergedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField } = props;\n            return (pattern, node) => {\n                if (!pattern.length)\n                    return true;\n                const label = node[labelField];\n                if (typeof label === 'string') {\n                    return label.toLowerCase().includes(pattern.toLowerCase());\n                }\n                return false;\n            };\n        });\n        const filteredTreeInfoRef = computed(() => {\n            const { pattern } = props;\n            if (!pattern) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            if (!pattern.length || !mergedFilterRef.value) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            return filterTree(props.data, mergedFilterRef.value, pattern, props.keyField, props.childrenField);\n        });\n        // We don't expect data source to change so we just determine it once\n        const displayTreeMateRef = computed(() => createTreeMate(props.showIrrelevantNodes\n            ? props.data\n            : filteredTreeInfoRef.value.filteredTree, createTreeMateOptions(props.keyField, props.childrenField, props.disabledField, props.getChildren)));\n        const treeSelectInjection = inject(treeSelectInjectionKey, null);\n        const dataTreeMateRef = props.internalTreeSelect\n            ? treeSelectInjection.dataTreeMate\n            : displayTreeMateRef;\n        const { watchProps } = props;\n        const uncontrolledCheckedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultCheckedKeys')) {\n            watchEffect(() => {\n                uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n            });\n        }\n        else {\n            uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n        }\n        const controlledCheckedKeysRef = toRef(props, 'checkedKeys');\n        const mergedCheckedKeysRef = useMergedState(controlledCheckedKeysRef, uncontrolledCheckedKeysRef);\n        const checkedStatusRef = computed(() => {\n            const value = dataTreeMateRef.value.getCheckedKeys(mergedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            return value;\n        });\n        const mergedCheckStrategyRef = useMergedCheckStrategy(props);\n        const displayedCheckedKeysRef = computed(() => {\n            return checkedStatusRef.value.checkedKeys;\n        });\n        const displayedIndeterminateKeysRef = computed(() => {\n            const { indeterminateKeys } = props;\n            if (indeterminateKeys !== undefined)\n                return indeterminateKeys;\n            return checkedStatusRef.value.indeterminateKeys;\n        });\n        const uncontrolledSelectedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultSelectedKeys')) {\n            watchEffect(() => {\n                uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n            });\n        }\n        else {\n            uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n        }\n        const controlledSelectedKeysRef = toRef(props, 'selectedKeys');\n        const mergedSelectedKeysRef = useMergedState(controlledSelectedKeysRef, uncontrolledSelectedKeysRef);\n        const uncontrolledExpandedKeysRef = ref([]);\n        const initUncontrolledExpandedKeys = (keys) => {\n            uncontrolledExpandedKeysRef.value = props.defaultExpandAll\n                ? dataTreeMateRef.value.getNonLeafKeys()\n                : keys === undefined\n                    ? props.defaultExpandedKeys\n                    : keys;\n        };\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultExpandedKeys')) {\n            // if watching defaultExpandedKeys, we use access props.defaultExpandedKeys inside initiator\n            watchEffect(() => { initUncontrolledExpandedKeys(undefined); });\n        }\n        else {\n            // We by default watchEffect since if defaultExpandAll is true, we should remain tree expand if data changes\n            watchEffect(() => { initUncontrolledExpandedKeys(props.defaultExpandedKeys); });\n        }\n        const controlledExpandedKeysRef = toRef(props, 'expandedKeys');\n        const mergedExpandedKeysRef = useMergedState(controlledExpandedKeysRef, uncontrolledExpandedKeysRef);\n        const fNodesRef = computed(() => displayTreeMateRef.value.getFlattenedNodes(mergedExpandedKeysRef.value));\n        const { pendingNodeKeyRef, handleKeydown } = useKeyboard({\n            props,\n            mergedSelectedKeysRef,\n            fNodesRef,\n            mergedExpandedKeysRef,\n            handleSelect,\n            handleSwitcherClick\n        });\n        let expandTimerId = null;\n        let nodeKeyToBeExpanded = null;\n        const uncontrolledHighlightKeySetRef = ref(new Set());\n        const controlledHighlightKeySetRef = computed(() => {\n            return (props.internalHighlightKeySet ||\n                filteredTreeInfoRef.value.highlightKeySet);\n        });\n        const mergedHighlightKeySetRef = useMergedState(controlledHighlightKeySetRef, uncontrolledHighlightKeySetRef);\n        const loadingKeysRef = ref(new Set());\n        const expandedNonLoadingKeysRef = computed(() => {\n            return mergedExpandedKeysRef.value.filter((key) => !loadingKeysRef.value.has(key));\n        });\n        let dragStartX = 0;\n        const draggingNodeRef = ref(null);\n        const droppingNodeRef = ref(null);\n        const droppingMouseNodeRef = ref(null);\n        const droppingPositionRef = ref(null);\n        const droppingOffsetLevelRef = ref(0);\n        const droppingNodeParentRef = computed(() => {\n            const { value: droppingNode } = droppingNodeRef;\n            if (!droppingNode)\n                return null;\n            // May avoid overlap between line mark of first child & rect mark of parent\n            // if (droppingNode.isFirstChild && droppingPositionRef.value === 'before') {\n            //   return null\n            // }\n            return droppingNode.parent;\n        });\n        // shallow watch data\n        watch(toRef(props, 'data'), () => {\n            loadingKeysRef.value.clear();\n            pendingNodeKeyRef.value = null;\n            resetDndState();\n        }, {\n            deep: false\n        });\n        let expandAnimationDisabled = false;\n        const disableExpandAnimationForOneTick = () => {\n            expandAnimationDisabled = true;\n            void nextTick(() => {\n                expandAnimationDisabled = false;\n            });\n        };\n        let memoizedExpandedKeys;\n        watch(toRef(props, 'pattern'), (value, oldValue) => {\n            if (props.showIrrelevantNodes) {\n                memoizedExpandedKeys = undefined;\n                if (value) {\n                    const { expandedKeys: expandedKeysAfterChange, highlightKeySet } = keysWithFilter(props.data, props.pattern, props.keyField, props.childrenField, mergedFilterRef.value);\n                    uncontrolledHighlightKeySetRef.value = highlightKeySet;\n                    disableExpandAnimationForOneTick();\n                    doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange), { node: null, action: 'filter' });\n                }\n                else {\n                    uncontrolledHighlightKeySetRef.value = new Set();\n                }\n            }\n            else {\n                if (!value.length) {\n                    if (memoizedExpandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(memoizedExpandedKeys, getOptionsByKeys(memoizedExpandedKeys), { node: null, action: 'filter' });\n                    }\n                }\n                else {\n                    if (!oldValue.length) {\n                        memoizedExpandedKeys = mergedExpandedKeysRef.value;\n                    }\n                    const { expandedKeys } = filteredTreeInfoRef.value;\n                    if (expandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(expandedKeys, getOptionsByKeys(expandedKeys), {\n                            node: null,\n                            action: 'filter'\n                        });\n                    }\n                }\n            }\n        });\n        function triggerLoading(node) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { onLoad } = props;\n                if (!onLoad) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        warn('tree', 'There is unloaded node in data but props.onLoad is not specified.');\n                    }\n                    yield Promise.resolve();\n                    return;\n                }\n                const { value: loadingKeys } = loadingKeysRef;\n                if (!loadingKeys.has(node.key)) {\n                    loadingKeys.add(node.key);\n                    try {\n                        const loadResult = yield onLoad(node.rawNode);\n                        if (loadResult === false) {\n                            resetDragExpandState();\n                        }\n                    }\n                    catch (loadError) {\n                        console.error(loadError);\n                        resetDragExpandState();\n                    }\n                    loadingKeys.delete(node.key);\n                }\n            });\n        }\n        watchEffect(() => {\n            var _a;\n            const { value: displayTreeMate } = displayTreeMateRef;\n            if (!displayTreeMate)\n                return;\n            const { getNode } = displayTreeMate;\n            (_a = mergedExpandedKeysRef.value) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n                const node = getNode(key);\n                if (node && !node.shallowLoaded) {\n                    void triggerLoading(node);\n                }\n            });\n        });\n        // animation in progress\n        const aipRef = ref(false);\n        // animation flattened nodes\n        const afNodesRef = ref([]);\n        // Note: Since the virtual list depends on min height, if there's a node\n        // whose height starts from 0, the virtual list will have a wrong height\n        // during animation. This will seldom cause wired scrollbar status. It is\n        // fixable and need some changes in vueuc, I've no time so I just leave it\n        // here. Maybe the bug won't be fixed during the life time of the project.\n        watch(expandedNonLoadingKeysRef, (value, prevValue) => {\n            if (!props.animated || expandAnimationDisabled) {\n                void nextTick(syncScrollbar);\n                return;\n            }\n            const prevVSet = new Set(prevValue);\n            let addedKey = null;\n            let removedKey = null;\n            for (const expandedKey of value) {\n                if (!prevVSet.has(expandedKey)) {\n                    if (addedKey !== null)\n                        return; // multi expand, not triggered by click\n                    addedKey = expandedKey;\n                }\n            }\n            const currentVSet = new Set(value);\n            for (const expandedKey of prevValue) {\n                if (!currentVSet.has(expandedKey)) {\n                    if (removedKey !== null)\n                        return; // multi collapse, not triggered by click\n                    removedKey = expandedKey;\n                }\n            }\n            if (addedKey === null && removedKey === null) {\n                // 1. multi action, not triggered by click\n                // 2. no action, don't know what happened\n                return;\n            }\n            const { virtualScroll } = props;\n            const viewportHeight = (virtualScroll ? virtualListInstRef.value.listElRef : selfElRef.value).offsetHeight;\n            const viewportItemCount = Math.ceil(viewportHeight / ITEM_SIZE) + 1;\n            // play add animation\n            let baseExpandedKeys;\n            if (addedKey !== null) {\n                baseExpandedKeys = prevValue;\n            }\n            if (removedKey !== null) {\n                if (baseExpandedKeys === undefined) {\n                    baseExpandedKeys = value;\n                }\n                else {\n                    baseExpandedKeys = baseExpandedKeys.filter((key) => key !== removedKey);\n                }\n            }\n            aipRef.value = true;\n            afNodesRef.value =\n                displayTreeMateRef.value.getFlattenedNodes(baseExpandedKeys);\n            if (addedKey !== null) {\n                const expandedNodeIndex = afNodesRef.value.findIndex((node) => node.key === addedKey);\n                if (~expandedNodeIndex) {\n                    const children = // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                     afNodesRef.value[expandedNodeIndex].children;\n                    // sometimes user will pass leaf keys in\n                    if (children) {\n                        const expandedChildren = flatten(children, value);\n                        afNodesRef.value.splice(expandedNodeIndex + 1, 0, {\n                            __motion: true,\n                            mode: 'expand',\n                            height: virtualScroll\n                                ? expandedChildren.length * ITEM_SIZE\n                                : undefined,\n                            nodes: virtualScroll\n                                ? expandedChildren.slice(0, viewportItemCount)\n                                : expandedChildren\n                        });\n                    }\n                }\n            }\n            if (removedKey !== null) {\n                const collapsedNodeIndex = afNodesRef.value.findIndex((node) => node.key === removedKey);\n                if (~collapsedNodeIndex) {\n                    const collapsedNodeChildren = afNodesRef.value[collapsedNodeIndex].children;\n                    // Sometime the whole tree is change, remove a key doesn't mean it is collapsed,\n                    // but maybe children removed\n                    if (!collapsedNodeChildren)\n                        return;\n                    // play remove animation\n                    aipRef.value = true;\n                    const collapsedChildren = flatten(collapsedNodeChildren, value);\n                    afNodesRef.value.splice(collapsedNodeIndex + 1, 0, {\n                        __motion: true,\n                        mode: 'collapse',\n                        height: virtualScroll\n                            ? collapsedChildren.length * ITEM_SIZE\n                            : undefined,\n                        nodes: virtualScroll\n                            ? collapsedChildren.slice(0, viewportItemCount)\n                            : collapsedChildren\n                    });\n                }\n            }\n        });\n        const getFIndexRef = computed(() => {\n            return createIndexGetter(fNodesRef.value);\n        });\n        const mergedFNodesRef = computed(() => {\n            if (aipRef.value)\n                return afNodesRef.value;\n            else\n                return fNodesRef.value;\n        });\n        function syncScrollbar() {\n            const { value: scrollbarInst } = scrollbarInstRef;\n            if (scrollbarInst)\n                scrollbarInst.sync();\n        }\n        function handleAfterEnter() {\n            aipRef.value = false;\n            if (props.virtualScroll) {\n                // If virtual scroll, we won't listen to resize during animation, so\n                // resize callback of virtual list won't be called and as a result\n                // scrollbar won't sync. We need to sync scrollbar manually.\n                void nextTick(syncScrollbar);\n            }\n        }\n        function getOptionsByKeys(keys) {\n            const { getNode } = dataTreeMateRef.value;\n            return keys.map((key) => { var _a; return ((_a = getNode(key)) === null || _a === void 0 ? void 0 : _a.rawNode) || null; });\n        }\n        function doUpdateExpandedKeys(value, option, meta) {\n            const { 'onUpdate:expandedKeys': _onUpdateExpandedKeys, onUpdateExpandedKeys } = props;\n            uncontrolledExpandedKeysRef.value = value;\n            if (_onUpdateExpandedKeys) {\n                call(_onUpdateExpandedKeys, value, option, meta);\n            }\n            if (onUpdateExpandedKeys) {\n                call(onUpdateExpandedKeys, value, option, meta);\n            }\n        }\n        function doUpdateCheckedKeys(value, option, meta) {\n            const { 'onUpdate:checkedKeys': _onUpdateCheckedKeys, onUpdateCheckedKeys } = props;\n            uncontrolledCheckedKeysRef.value = value;\n            if (onUpdateCheckedKeys) {\n                call(onUpdateCheckedKeys, value, option, meta);\n            }\n            if (_onUpdateCheckedKeys) {\n                call(_onUpdateCheckedKeys, value, option, meta);\n            }\n        }\n        function doUpdateIndeterminateKeys(value, option) {\n            const { 'onUpdate:indeterminateKeys': _onUpdateIndeterminateKeys, onUpdateIndeterminateKeys } = props;\n            if (_onUpdateIndeterminateKeys) {\n                call(_onUpdateIndeterminateKeys, value, option);\n            }\n            if (onUpdateIndeterminateKeys) {\n                call(onUpdateIndeterminateKeys, value, option);\n            }\n        }\n        function doUpdateSelectedKeys(value, option, meta) {\n            const { 'onUpdate:selectedKeys': _onUpdateSelectedKeys, onUpdateSelectedKeys } = props;\n            uncontrolledSelectedKeysRef.value = value;\n            if (onUpdateSelectedKeys) {\n                call(onUpdateSelectedKeys, value, option, meta);\n            }\n            if (_onUpdateSelectedKeys) {\n                call(_onUpdateSelectedKeys, value, option, meta);\n            }\n        }\n        // Drag & Drop\n        function doDragEnter(info) {\n            const { onDragenter } = props;\n            if (onDragenter)\n                call(onDragenter, info);\n        }\n        function doDragLeave(info) {\n            const { onDragleave } = props;\n            if (onDragleave)\n                call(onDragleave, info);\n        }\n        function doDragEnd(info) {\n            const { onDragend } = props;\n            if (onDragend)\n                call(onDragend, info);\n        }\n        function doDragStart(info) {\n            const { onDragstart } = props;\n            if (onDragstart)\n                call(onDragstart, info);\n        }\n        function doDragOver(info) {\n            const { onDragover } = props;\n            if (onDragover)\n                call(onDragover, info);\n        }\n        function doDrop(info) {\n            const { onDrop } = props;\n            if (onDrop)\n                call(onDrop, info);\n        }\n        function resetDndState() {\n            resetDragState();\n            resetDropState();\n        }\n        function resetDragState() {\n            draggingNodeRef.value = null;\n        }\n        function resetDropState() {\n            droppingOffsetLevelRef.value = 0;\n            droppingNodeRef.value = null;\n            droppingMouseNodeRef.value = null;\n            droppingPositionRef.value = null;\n            resetDragExpandState();\n        }\n        function resetDragExpandState() {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            nodeKeyToBeExpanded = null;\n        }\n        function handleCheck(node, checked) {\n            // We don't guard for leaf only since we have done it in view layer\n            if (props.disabled || isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            if (props.internalUnifySelectCheck && !props.multiple) {\n                handleSelect(node);\n                return;\n            }\n            const checkedAction = checked ? 'check' : 'uncheck';\n            const { checkedKeys, indeterminateKeys } = dataTreeMateRef.value[checkedAction](node.key, displayedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                checkStrategy: mergedCheckStrategyRef.value,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            doUpdateCheckedKeys(checkedKeys, getOptionsByKeys(checkedKeys), {\n                node: node.rawNode,\n                action: checkedAction\n            });\n            doUpdateIndeterminateKeys(indeterminateKeys, getOptionsByKeys(indeterminateKeys));\n        }\n        function toggleExpand(node) {\n            if (props.disabled)\n                return;\n            const { key } = node;\n            const { value: mergedExpandedKeys } = mergedExpandedKeysRef;\n            const index = mergedExpandedKeys.findIndex((expandNodeId) => expandNodeId === key);\n            if (~index) {\n                const expandedKeysAfterChange = Array.from(mergedExpandedKeys);\n                expandedKeysAfterChange.splice(index, 1);\n                doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange), {\n                    node: node.rawNode,\n                    action: 'collapse'\n                });\n            }\n            else {\n                const nodeToBeExpanded = displayTreeMateRef.value.getNode(key);\n                if (!nodeToBeExpanded || nodeToBeExpanded.isLeaf) {\n                    return;\n                }\n                let nextKeys;\n                if (props.accordion) {\n                    const siblingKeySet = new Set(node.siblings.map(({ key }) => key));\n                    nextKeys = mergedExpandedKeys.filter((expandedKey) => {\n                        return !siblingKeySet.has(expandedKey);\n                    });\n                    nextKeys.push(key);\n                }\n                else {\n                    nextKeys = mergedExpandedKeys.concat(key);\n                }\n                doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys), {\n                    node: node.rawNode,\n                    action: 'expand'\n                });\n            }\n        }\n        function handleSwitcherClick(node) {\n            if (props.disabled || aipRef.value)\n                return;\n            toggleExpand(node);\n        }\n        function handleSelect(node) {\n            if (props.disabled || !props.selectable) {\n                return;\n            }\n            pendingNodeKeyRef.value = node.key;\n            if (props.internalUnifySelectCheck) {\n                const { value: { checkedKeys, indeterminateKeys } } = checkedStatusRef;\n                if (props.multiple) {\n                    handleCheck(node, !(checkedKeys.includes(node.key) ||\n                        indeterminateKeys.includes(node.key)));\n                }\n                else {\n                    doUpdateCheckedKeys([node.key], getOptionsByKeys([node.key]), {\n                        node: node.rawNode,\n                        action: 'check'\n                    });\n                }\n            }\n            if (props.multiple) {\n                const selectedKeys = Array.from(mergedSelectedKeysRef.value);\n                const index = selectedKeys.findIndex((key) => key === node.key);\n                if (~index) {\n                    if (props.cancelable) {\n                        selectedKeys.splice(index, 1);\n                    }\n                }\n                else if (!~index) {\n                    selectedKeys.push(node.key);\n                }\n                doUpdateSelectedKeys(selectedKeys, getOptionsByKeys(selectedKeys), {\n                    node: node.rawNode,\n                    action: ~index ? 'unselect' : 'select'\n                });\n            }\n            else {\n                const selectedKeys = mergedSelectedKeysRef.value;\n                if (selectedKeys.includes(node.key)) {\n                    if (props.cancelable) {\n                        doUpdateSelectedKeys([], [], {\n                            node: node.rawNode,\n                            action: 'unselect'\n                        });\n                    }\n                }\n                else {\n                    doUpdateSelectedKeys([node.key], getOptionsByKeys([node.key]), {\n                        node: node.rawNode,\n                        action: 'select'\n                    });\n                }\n            }\n        }\n        function expandDragEnterNode(node) {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            // Don't expand leaf node.\n            if (node.isLeaf)\n                return;\n            nodeKeyToBeExpanded = node.key;\n            const expand = () => {\n                if (nodeKeyToBeExpanded !== node.key)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (droppingMouseNode &&\n                    droppingMouseNode.key === node.key &&\n                    !mergedExpandedKeysRef.value.includes(node.key)) {\n                    const nextKeys = mergedExpandedKeysRef.value.concat(node.key);\n                    doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys), {\n                        node: node.rawNode,\n                        action: 'expand'\n                    });\n                }\n                expandTimerId = null;\n                nodeKeyToBeExpanded = null;\n            };\n            if (!node.shallowLoaded) {\n                expandTimerId = window.setTimeout(() => {\n                    void triggerLoading(node).then(() => {\n                        expand();\n                    });\n                }, 1000);\n            }\n            else {\n                expandTimerId = window.setTimeout(() => {\n                    expand();\n                }, 1000);\n            }\n        }\n        // Dnd\n        function handleDragEnter({ event, node }) {\n            // node should be a tmNode\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            handleDragOver({ event, node }, false);\n            doDragEnter({ event, node: node.rawNode });\n        }\n        function handleDragLeave({ event, node }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragLeave({ event, node: node.rawNode });\n        }\n        function handleDragLeaveTree(e) {\n            if (e.target !== e.currentTarget)\n                return;\n            resetDropState();\n        }\n        // Dragend is ok, we don't need to add global listener to reset drag status\n        function handleDragEnd({ event, node }) {\n            resetDndState();\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragEnd({ event, node: node.rawNode });\n        }\n        function handleDragStart({ event, node }) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            // Most of time, the image will block user's view\n            emptyImage && ((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.setDragImage(emptyImage, 0, 0));\n            dragStartX = event.clientX;\n            draggingNodeRef.value = node;\n            doDragStart({ event, node: node.rawNode });\n        }\n        function handleDragOver({ event, node }, emit = true) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            if (!draggingNode)\n                return;\n            const { allowDrop, indent } = props;\n            if (emit)\n                doDragOver({ event, node: node.rawNode });\n            // Update dropping node\n            const el = event.currentTarget;\n            const { height: elOffsetHeight, top: elClientTop } = el.getBoundingClientRect();\n            const eventOffsetY = event.clientY - elClientTop;\n            let mousePosition;\n            const allowDropInside = allowDrop({\n                node: node.rawNode,\n                dropPosition: 'inside',\n                phase: 'drag'\n            });\n            if (allowDropInside) {\n                if (eventOffsetY <= 8) {\n                    mousePosition = 'before';\n                }\n                else if (eventOffsetY >= elOffsetHeight - 8) {\n                    mousePosition = 'after';\n                }\n                else {\n                    mousePosition = 'inside';\n                }\n            }\n            else {\n                if (eventOffsetY <= elOffsetHeight / 2) {\n                    mousePosition = 'before';\n                }\n                else {\n                    mousePosition = 'after';\n                }\n            }\n            const { value: getFindex } = getFIndexRef;\n            /** determine the drop position and drop node */\n            /** the dropping node needn't to be the mouse hovering node! */\n            /**\n             * if there is something i've learned from implementing a complex\n             * drag & drop. that is never write unit test before you really figure\n             * out what behavior is exactly you want.\n             */\n            let finalDropNode;\n            let finalDropPosition;\n            const hoverNodeFIndex = getFindex(node.key);\n            if (hoverNodeFIndex === null) {\n                resetDropState();\n                return;\n            }\n            let mouseAtExpandedNonLeafNode = false;\n            if (mousePosition === 'inside') {\n                finalDropNode = node;\n                finalDropPosition = 'inside';\n            }\n            else {\n                if (mousePosition === 'before') {\n                    if (node.isFirstChild) {\n                        finalDropNode = node;\n                        finalDropPosition = 'before';\n                    }\n                    else {\n                        finalDropNode = fNodesRef.value[hoverNodeFIndex - 1];\n                        finalDropPosition = 'after';\n                    }\n                }\n                else {\n                    finalDropNode = node;\n                    finalDropPosition = 'after';\n                }\n            }\n            // If the node is non-leaf and it is expanded, we don't allow it to\n            // drop after it and change it to drop before its next view sibling\n            if (!finalDropNode.isLeaf &&\n                mergedExpandedKeysRef.value.includes(finalDropNode.key)) {\n                mouseAtExpandedNonLeafNode = true;\n                if (finalDropPosition === 'after') {\n                    finalDropNode = fNodesRef.value[hoverNodeFIndex + 1];\n                    if (!finalDropNode) {\n                        // maybe there is no next view sibling when non-leaf node has no\n                        // children and it is the last node in the tree\n                        finalDropNode = node;\n                        finalDropPosition = 'inside';\n                    }\n                    else {\n                        finalDropPosition = 'before';\n                    }\n                }\n            }\n            const droppingMouseNode = finalDropNode;\n            droppingMouseNodeRef.value = droppingMouseNode;\n            // This is a speacial case, user is dragging a last child itself, so we\n            // only view it as they are trying to drop after it.\n            // There are some relevant codes in bailout 1's child branch.\n            // Also, the expand bailout should have a high priority. If it's non-leaf\n            // node and expanded, keep its origin drop position\n            if (!mouseAtExpandedNonLeafNode &&\n                draggingNode.isLastChild &&\n                draggingNode.key === finalDropNode.key) {\n                finalDropPosition = 'after';\n            }\n            if (finalDropPosition === 'after') {\n                let offset = dragStartX - event.clientX; // drag left => > 0\n                let offsetLevel = 0;\n                while (offset >= indent / 2 && // divide by 2 to make it easier to trigger\n                    finalDropNode.parent !== null &&\n                    finalDropNode.isLastChild &&\n                    offsetLevel < 1) {\n                    offset -= indent;\n                    offsetLevel += 1;\n                    finalDropNode = finalDropNode.parent;\n                }\n                droppingOffsetLevelRef.value = offsetLevel;\n            }\n            else {\n                droppingOffsetLevelRef.value = 0;\n            }\n            // Bailout 1\n            // Drag self into self\n            // Drag it into direct parent\n            if (draggingNode.contains(finalDropNode) ||\n                (finalDropPosition === 'inside' &&\n                    ((_a = draggingNode.parent) === null || _a === void 0 ? void 0 : _a.key) === finalDropNode.key)) {\n                if (draggingNode.key === droppingMouseNode.key &&\n                    draggingNode.key === finalDropNode.key) {\n                    // This is special case that we want ui to show a mark to guide user\n                    // to start dragging. Nor they will think nothing happens.\n                    // However this is an invalid drop, we need to guard it inside\n                    // handleDrop\n                }\n                else {\n                    resetDropState();\n                    return;\n                }\n            }\n            // Bailout 3\n            if (!allowDrop({\n                node: finalDropNode.rawNode,\n                dropPosition: finalDropPosition,\n                phase: 'drag'\n            })) {\n                resetDropState();\n                return;\n            }\n            if (draggingNode.key === finalDropNode.key) {\n                // don't expand when drag on itself\n                resetDragExpandState();\n            }\n            else {\n                if (nodeKeyToBeExpanded !== finalDropNode.key) {\n                    if (finalDropPosition === 'inside') {\n                        if (props.expandOnDragenter) {\n                            expandDragEnterNode(finalDropNode);\n                            // Bailout 4\n                            // not try to loading\n                            if (!finalDropNode.shallowLoaded &&\n                                nodeKeyToBeExpanded !== finalDropNode.key) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                        else {\n                            // Bailout 5\n                            // never expands on drag\n                            if (!finalDropNode.shallowLoaded) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                    }\n                    else {\n                        resetDragExpandState();\n                    }\n                }\n                else {\n                    if (finalDropPosition !== 'inside') {\n                        resetDragExpandState();\n                    }\n                }\n            }\n            droppingPositionRef.value = finalDropPosition;\n            droppingNodeRef.value = finalDropNode;\n        }\n        function handleDrop({ event, node, dropPosition }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            const { value: droppingNode } = droppingNodeRef;\n            const { value: droppingPosition } = droppingPositionRef;\n            if (!draggingNode || !droppingNode || !droppingPosition) {\n                return;\n            }\n            // Bailout 1\n            if (!props.allowDrop({\n                node: droppingNode.rawNode,\n                dropPosition: droppingPosition,\n                phase: 'drag'\n            })) {\n                return;\n            }\n            // Bailout 2\n            // This is a special case to guard since we want ui to show the status\n            // but not to emit a event\n            if (draggingNode.key === droppingNode.key) {\n                return;\n            }\n            // Bailout 3\n            // insert before its next node\n            // insert after its prev node\n            if (droppingPosition === 'before') {\n                const nextNode = draggingNode.getNext({ includeDisabled: true });\n                if (nextNode) {\n                    if (nextNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            if (droppingPosition === 'after') {\n                const prevNode = draggingNode.getPrev({ includeDisabled: true });\n                if (prevNode) {\n                    if (prevNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            doDrop({\n                event,\n                node: droppingNode.rawNode,\n                dragNode: draggingNode.rawNode,\n                dropPosition\n            });\n            resetDndState();\n        }\n        function handleScroll() {\n            syncScrollbar();\n        }\n        function handleResize() {\n            syncScrollbar();\n        }\n        function handleFocusout(e) {\n            var _a;\n            if (props.virtualScroll || props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if ((_a = scrollbarInst === null || scrollbarInst === void 0 ? void 0 : scrollbarInst.containerRef) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) {\n                    return;\n                }\n                pendingNodeKeyRef.value = null;\n            }\n            else {\n                const { value: selfEl } = selfElRef;\n                if (selfEl === null || selfEl === void 0 ? void 0 : selfEl.contains(e.relatedTarget))\n                    return;\n                pendingNodeKeyRef.value = null;\n            }\n        }\n        watch(pendingNodeKeyRef, (value) => {\n            var _a, _b;\n            if (value === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ key: value });\n            }\n            else if (props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if (scrollbarInst === null)\n                    return;\n                const targetEl = (_b = scrollbarInst.contentRef) === null || _b === void 0 ? void 0 : _b.querySelector(`[data-key=\"${createDataKey(value)}\"]`);\n                if (!targetEl)\n                    return;\n                scrollbarInst.scrollTo({\n                    el: targetEl\n                });\n            }\n        });\n        provide(treeInjectionKey, {\n            loadingKeysRef,\n            highlightKeySetRef: mergedHighlightKeySetRef,\n            displayedCheckedKeysRef,\n            displayedIndeterminateKeysRef,\n            mergedSelectedKeysRef,\n            mergedExpandedKeysRef,\n            mergedThemeRef: themeRef,\n            mergedCheckStrategyRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            disabledRef: toRef(props, 'disabled'),\n            checkableRef: toRef(props, 'checkable'),\n            selectableRef: toRef(props, 'selectable'),\n            expandOnClickRef: toRef(props, 'expandOnClick'),\n            onLoadRef: toRef(props, 'onLoad'),\n            draggableRef: toRef(props, 'draggable'),\n            blockLineRef: toRef(props, 'blockLine'),\n            indentRef: toRef(props, 'indent'),\n            cascadeRef: toRef(props, 'cascade'),\n            checkOnClickRef: toRef(props, 'checkOnClick'),\n            checkboxPlacementRef: props.checkboxPlacement,\n            droppingMouseNodeRef,\n            droppingNodeParentRef,\n            draggingNodeRef,\n            droppingPositionRef,\n            droppingOffsetLevelRef,\n            fNodesRef,\n            pendingNodeKeyRef,\n            disabledFieldRef: toRef(props, 'disabledField'),\n            internalScrollableRef: toRef(props, 'internalScrollable'),\n            internalCheckboxFocusableRef: toRef(props, 'internalCheckboxFocusable'),\n            internalTreeSelect: props.internalTreeSelect,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderPrefixRef: toRef(props, 'renderPrefix'),\n            renderSuffixRef: toRef(props, 'renderSuffix'),\n            renderSwitcherIconRef: toRef(props, 'renderSwitcherIcon'),\n            labelFieldRef: toRef(props, 'labelField'),\n            multipleRef: toRef(props, 'multiple'),\n            handleSwitcherClick,\n            handleDragEnd,\n            handleDragEnter,\n            handleDragLeave,\n            handleDragStart,\n            handleDrop,\n            handleDragOver,\n            handleSelect,\n            handleCheck\n        });\n        function scrollTo(options) {\n            var _a;\n            (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(options);\n        }\n        const exposedMethods = {\n            handleKeydown,\n            scrollTo,\n            getCheckedData: () => {\n                if (!props.checkable)\n                    return { keys: [], options: [] };\n                const { checkedKeys } = checkedStatusRef.value;\n                return {\n                    keys: checkedKeys,\n                    options: getOptionsByKeys(checkedKeys)\n                };\n            },\n            getIndeterminateData: () => {\n                if (!props.checkable)\n                    return { keys: [], options: [] };\n                const { indeterminateKeys } = checkedStatusRef.value;\n                return {\n                    keys: indeterminateKeys,\n                    options: getOptionsByKeys(indeterminateKeys)\n                };\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { fontSize, nodeBorderRadius, nodeColorHover, nodeColorPressed, nodeColorActive, arrowColor, loadingColor, nodeTextColor, nodeTextColorDisabled, dropMarkColor } } = themeRef.value;\n            return {\n                '--n-arrow-color': arrowColor,\n                '--n-loading-color': loadingColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-font-size': fontSize,\n                '--n-node-border-radius': nodeBorderRadius,\n                '--n-node-color-active': nodeColorActive,\n                '--n-node-color-hover': nodeColorHover,\n                '--n-node-color-pressed': nodeColorPressed,\n                '--n-node-text-color': nodeTextColor,\n                '--n-node-text-color-disabled': nodeTextColorDisabled,\n                '--n-drop-mark-color': dropMarkColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tree', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedClsPrefix: mergedClsPrefixRef, mergedTheme: themeRef, rtlEnabled: rtlEnabledRef, fNodes: mergedFNodesRef, aip: aipRef, selfElRef,\n            virtualListInstRef,\n            scrollbarInstRef,\n            handleFocusout,\n            handleDragLeaveTree,\n            handleScroll,\n            getScrollContainer,\n            getScrollContent,\n            handleAfterEnter,\n            handleResize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        var _a;\n        const { fNodes, internalRenderEmpty } = this;\n        if (!fNodes.length && internalRenderEmpty) {\n            return internalRenderEmpty();\n        }\n        const { mergedClsPrefix, blockNode, blockLine, draggable, disabled, internalFocusable, checkable, handleKeydown, rtlEnabled, handleFocusout } = this;\n        const mergedFocusable = internalFocusable && !disabled;\n        const tabindex = mergedFocusable ? '0' : undefined;\n        const treeClass = [\n            `${mergedClsPrefix}-tree`,\n            rtlEnabled && `${mergedClsPrefix}-tree--rtl`,\n            checkable && `${mergedClsPrefix}-tree--checkable`,\n            (blockLine || blockNode) && `${mergedClsPrefix}-tree--block-node`,\n            blockLine && `${mergedClsPrefix}-tree--block-line`\n        ];\n        const createNode = (tmNode) => {\n            return '__motion' in tmNode ? (h(MotionWrapper, { height: tmNode.height, nodes: tmNode.nodes, clsPrefix: mergedClsPrefix, mode: tmNode.mode, onAfterEnter: this.handleAfterEnter })) : (h(NTreeNode, { key: tmNode.key, tmNode: tmNode, clsPrefix: mergedClsPrefix }));\n        };\n        if (this.virtualScroll) {\n            const { mergedTheme, internalScrollablePadding } = this;\n            const padding = getPadding(internalScrollablePadding || '0');\n            return (h(NxScrollbar, { ref: \"scrollbarInstRef\", onDragleave: draggable ? this.handleDragLeaveTree : undefined, container: this.getScrollContainer, content: this.getScrollContent, class: treeClass, theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined }, {\n                default: () => {\n                    var _a;\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return (h(VVirtualList, { ref: \"virtualListInstRef\", items: this.fNodes, itemSize: ITEM_SIZE, ignoreItemResize: this.aip, paddingTop: padding.top, paddingBottom: padding.bottom, class: this.themeClass, style: [\n                            this.cssVars,\n                            {\n                                paddingLeft: padding.left,\n                                paddingRight: padding.right\n                            }\n                        ], onScroll: this.handleScroll, onResize: this.handleResize, showScrollbar: false, itemResizable: true }, {\n                        default: ({ item }) => createNode(item)\n                    }));\n                }\n            }));\n        }\n        const { internalScrollable } = this;\n        treeClass.push(this.themeClass);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        if (internalScrollable) {\n            return (h(NxScrollbar, { class: treeClass, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, style: this.cssVars, contentStyle: { padding: this.internalScrollablePadding } }, {\n                default: () => (h(\"div\", { onDragleave: draggable ? this.handleDragLeaveTree : undefined, ref: \"selfElRef\" }, this.fNodes.map(createNode)))\n            }));\n        }\n        else {\n            return (h(\"div\", { class: treeClass, tabindex: tabindex, ref: \"selfElRef\", style: this.cssVars, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, onDragleave: draggable ? this.handleDragLeaveTree : undefined }, !fNodes.length\n                ? resolveSlot(this.$slots.empty, () => [\n                    h(NEmpty, { class: `${mergedClsPrefix}-tree__empty`, theme: this.mergedTheme.peers.Empty, themeOverrides: this.mergedTheme.peerOverrides.Empty })\n                ])\n                : fNodes.map(createNode)));\n        }\n    }\n});\n","<script setup lang=\"ts\">\nimport { computed, onUnmounted, shallowReactive, shallowRef, watch } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    initialValue: {\n      left?: number;\n      right?: number;\n      top?: number;\n      bottom?: number;\n    };\n  }>(),\n  { initialValue: () => ({}) },\n);\n\nconst isLeft = props.initialValue.left !== void 0;\nconst isTop = props.initialValue.top !== void 0;\nconst prevOffset = {\n  x: (isLeft ? props.initialValue.left : props.initialValue.right) ?? 0,\n  y: (isTop ? props.initialValue.top : props.initialValue.bottom) ?? 0,\n};\n\nconst offset = shallowReactive({ ...prevOffset });\nconst currentStyle = computed(() => {\n  const xStyle = isLeft ? `left:${offset.x}px;` : `right:${offset.x}px;`;\n  const yStyle = isTop ? `top:${offset.y}px;` : `bottom:${offset.y}px;`;\n  return xStyle + yStyle;\n});\n/**\n * it will be PointerEvent when moving\n */\nlet prevEv: PointerEvent | undefined = undefined;\nconst startMove = (ev: PointerEvent) => {\n  prevEv = ev;\n  prevOffset.x = offset.x;\n  prevOffset.y = offset.y;\n};\nconst move = (ev: PointerEvent) => {\n  if (!target.value || !prevEv) return;\n\n  const dx = ev.clientX - prevEv.clientX; // ev.movementX;\n  const dy = ev.clientY - prevEv.clientY; //ev.movementY;\n\n  offset.x = prevOffset.x + (isLeft ? dx : -dx);\n  offset.y = prevOffset.y + (isTop ? dy : -dy);\n};\nconst endMove = () => {\n  prevEv = undefined;\n};\nconst box = shallowRef<HTMLElement>();\nconst target = shallowRef<HTMLElement>();\nconst preventSelection = (ev: Event) => {\n  if (prevEv) {\n    ev.preventDefault();\n  }\n};\nconst transitions = [`transition-top,bottom,left,right-500`];\nconst windowEndMove = () => {\n  if (!target.value) return;\n  const { top, bottom, left, right } = target.value.getBoundingClientRect();\n  if (\n    right < 0 ||\n    left > window.innerWidth ||\n    bottom < 0 ||\n    top > window.innerHeight\n  ) {\n    // isOutsideViewport\n    offset.x = prevOffset.x;\n    offset.y = prevOffset.y;\n    endMove();\n\n    const boxDiv = box.value;\n    if (boxDiv) {\n      boxDiv.classList.add(...transitions);\n      setTimeout(() => {\n        boxDiv.classList.remove(...transitions);\n      }, 550);\n    }\n  }\n};\n\n// move 事件应该给 window. 如果给目标元素,容易出现鼠标移速过快无法跟随的bug\nwindow.addEventListener('pointermove', move);\nwindow.addEventListener('pointerup', windowEndMove);\ndocument.addEventListener('selectstart', preventSelection);\nonUnmounted(() => {\n  window.removeEventListener('pointermove', move);\n  window.removeEventListener('pointerup', windowEndMove);\n  document.removeEventListener('selectstart', preventSelection);\n  endMove();\n});\n\nwatch(target, (newValue, oldvalue) => {\n  if (newValue) {\n    newValue.addEventListener('pointerdown', startMove);\n    newValue.addEventListener('pointerup', endMove);\n  }\n  if (oldvalue) {\n    oldvalue.removeEventListener('pointerdown', startMove);\n    oldvalue.removeEventListener('pointerup', endMove);\n  }\n});\nonUnmounted(() => {\n  if (!target.value) return;\n  target.value.removeEventListener('pointerdown', startMove);\n  target.value.removeEventListener('pointerup', endMove);\n});\nconst updateTarget = (arg: unknown) => {\n  if (arg instanceof HTMLElement) {\n    target.value = arg;\n  } else {\n    target.value = void 0;\n  }\n};\n</script>\n<template>\n  <Teleport to=\"body\">\n    <div\n      fixed\n      ref=\"box\"\n      :style=\"[$attrs.style as string, currentStyle]\"\n      :class=\"$attrs.class\"\n    >\n      <slot :onRef=\"updateTarget\"></slot>\n    </div>\n  </Teleport>\n</template>\n<style>\n.smooth-1s {\n  transition:\n    bottom 1s,\n    top 1s,\n    right 1s,\n    left 1s;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { copy } from '@/utils/others';\nimport type { RawNode } from '@/utils/types';\nimport { NEllipsis, NTable, NTbody, NTd, NTh, NTr } from 'naive-ui';\nimport { computed } from 'vue';\nimport DraggableCard from './DraggableCard.vue';\n\nconst props = withDefaults(defineProps<{ focusNode: RawNode }>(), {});\n\nconst lenAttrNames = [`text`, `desc`];\nconst attrs = computed(() => {\n  return Object.entries(props.focusNode.attr)\n    .map(([name, value]) => {\n      const attr = {\n        name,\n        value: JSON.stringify(value),\n      };\n      if (lenAttrNames.includes(name)) {\n        return [\n          attr,\n          {\n            name: name + `.length`,\n            value: JSON.stringify((value as string)?.length ?? null),\n          },\n        ];\n      }\n      return attr;\n    })\n    .flat();\n});\n</script>\n\n<template>\n  <DraggableCard :initialValue=\"{ top: 90, right: 10 }\" v-slot=\"{ onRef }\">\n    <NTable size=\"small\" striped :singleLine=\"false\" class=\"gkd_code\">\n      <thead cursor-move :ref=\"onRef\">\n        <NTr>\n          <NTh> Name </NTh>\n          <NTh> Value </NTh>\n        </NTr>\n      </thead>\n      <NTbody>\n        <NTr v-for=\"attrx in attrs\" :key=\"attrx.name\">\n          <NTd>\n            <span @click=\"copy(`${attrx.name}=${attrx.value}`)\">\n              {{ attrx.name }}\n            </span>\n          </NTd>\n          <NTd>\n            <NEllipsis style=\"width: 250px\">\n              {{ attrx.value }}\n            </NEllipsis>\n          </NTd>\n        </NTr>\n      </NTbody>\n    </NTable>\n  </DraggableCard>\n</template>\n","<script setup lang=\"ts\">\nimport { findNodeByXy, getImageSize } from '@/utils/node';\nimport type { RawNode, SizeExt, Snapshot } from '@/utils/types';\nimport { computed, shallowRef, watchEffect, defineComponent } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    url: string;\n    snapshot: Snapshot;\n    rootNode?: RawNode;\n    focusNode?: RawNode;\n    onUpdateFocusNode?: (data: RawNode) => void;\n  }>(),\n  {\n    onUpdateFocusNode: () => () => {},\n  },\n);\n\n// const sizeRef = shallowRef<SizeExt>();\n// watchEffect(async () => {\n//   sizeRef.value = await getImageSize(props.url);\n// });\nconst imgRef = shallowRef<HTMLImageElement>();\n\nconst evRef = shallowRef<MouseEvent>();\nwatchEffect(() => {\n  if (!props.rootNode) return;\n  const ev = evRef.value;\n  const img = imgRef.value;\n  if (!ev || !img) {\n    return;\n  }\n\n  const imgRect = img.getBoundingClientRect();\n\n  const innerHeight = (imgRect.width / img.naturalWidth) * img.naturalHeight;\n  const offsetTop = (imgRect.height - innerHeight) / 2;\n\n  const ox = ((ev.clientX - imgRect.left) / imgRect.width) * img.naturalWidth;\n  const oy =\n    ((ev.clientY - imgRect.top - offsetTop) / innerHeight) * img.naturalHeight;\n\n  const childNode = findNodeByXy(props.snapshot.nodes, ox, oy);\n  if (childNode) {\n    props.onUpdateFocusNode(childNode);\n  }\n});\nconst percent = (n: number) => {\n  return `${n * 100}%`;\n};\nconst positionStyle = computed(() => {\n  const img = imgRef.value;\n  const attr = props.focusNode?.attr;\n  if (!props.focusNode || !img || !attr) {\n    return ``;\n  }\n  const imgRect = img.getBoundingClientRect();\n  const innerHeight = (imgRect.width / img.naturalWidth) * img.naturalHeight;\n  return {\n    left: `calc(${percent(attr.left / img.naturalWidth)} - 2px)`,\n    width: `calc(${percent(\n      (attr.right - attr.left) / img.naturalWidth,\n    )} + 2px)`,\n\n    top: `calc(${percent(\n      ((attr.top / img.naturalHeight) * innerHeight +\n        (imgRect.height - innerHeight) / 2) /\n        imgRect.height,\n    )} - 2px)`,\n    height: `calc(${percent(\n      (((attr.bottom - attr.top) / img.naturalHeight) * innerHeight) /\n        imgRect.height,\n    )} + 2px)`,\n  };\n});\n</script>\n\n<template>\n  <div flex flex-col relative h-full>\n    <img\n      ref=\"imgRef\"\n      :src=\"url\"\n      @click=\"evRef = $event\"\n      cursor-crosshair\n      h-full\n      object-contain\n      style=\"max-width: max(35vw, 400px);\"\n    />\n    <div\n      :style=\"positionStyle\"\n      absolute\n      pointer-events-none\n      transition-all-300\n      b-1px\n      b-blue\n      b-solid\n    >\n      <div absolute left-0 top-0 bottom-0 right-0 b-solid b-1px b-red></div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { message } from '@/utils/discrete';\nimport { errorTry, errorWrap } from '@/utils/error';\nimport { Selector, parseSelector } from '@/utils/selector';\nimport type { RawNode } from '@/utils/types';\nimport {\n  NButton,\n  NCollapse,\n  NCollapseItem,\n  NInput,\n  NInputGroup,\n  NRadio,\n  NRadioGroup,\n  NSpace,\n} from 'naive-ui';\nimport { shallowReactive, shallowRef } from 'vue';\nimport DraggableCard from './DraggableCard.vue';\nimport { getNodeLabel } from '@/utils/node';\n\nconst props = withDefaults(\n  defineProps<{\n    rootNode: RawNode;\n    onUpdateFocusNode?: (data: RawNode) => void;\n  }>(),\n  {\n    onUpdateFocusNode: () => () => {},\n  },\n);\n\nconst selectorText = shallowRef(``);\nconst selectorResults = shallowReactive<\n  {\n    selector: string | Selector;\n\n    results: RawNode[];\n  }[]\n>([]);\nconst searchBySelector = errorTry(() => {\n  if (!props.rootNode) {\n    message.error(`根节点不存在`);\n    return;\n  }\n  const text = selectorText.value.trim();\n  if (!text) return;\n\n  if (enableSearchBySelector.value) {\n    if (\n      selectorResults.find(\n        (s) => typeof s.selector == 'object' && s.selector.toString() == text,\n      )\n    ) {\n      message.warning(`不可重复选择`);\n      return;\n    }\n\n    const selector = errorWrap(() => parseSelector(text), `选择器非法`);\n    const results = selector.querySelectorAll(props.rootNode);\n    if (results.length == 0) {\n      message.success(`没有选择到节点`);\n      return;\n    }\n    message.success(`选择到 ${results.length} 个节点`);\n    selectorResults.unshift({ selector, results });\n  } else {\n    if (\n      selectorResults.find(\n        (s) => typeof s.selector == 'string' && s.selector.toString() == text,\n      )\n    ) {\n      message.warning(`不可重复选择`);\n      return;\n    }\n    const results: RawNode[] = [];\n    const stack: RawNode[] = [props.rootNode];\n    while (stack.length > 0) {\n      const n = stack.pop()!;\n      if (getNodeLabel(n).includes(text)) {\n        results.push(n);\n      }\n      stack.push(...[...n.children].reverse());\n    }\n    if (results.length == 0) {\n      message.success(`没有搜索到节点`);\n      return;\n    }\n    message.success(`搜索到 ${results.length} 个节点`);\n    selectorResults.unshift({ selector: text, results });\n  }\n});\nconst enableSearchBySelector = shallowRef(true);\n</script>\n<template>\n  <DraggableCard\n    :initialValue=\"{ top: 90, right: 390 }\"\n    v-slot=\"{ onRef }\"\n    class=\"z-1\"\n  >\n    <div w-500px bg-white b-1px b-solid b-gray-200 rounded-4px p-8px>\n      <div flex m-b-4px>\n        <NRadioGroup v-model:value=\"enableSearchBySelector\">\n          <NSpace>\n            <NRadio :value=\"false\"> 字符搜索 </NRadio>\n            <NRadio :value=\"true\"> 选择器查询 </NRadio>\n          </NSpace>\n        </NRadioGroup>\n        <div flex-1 cursor-move :ref=\"onRef\"></div>\n      </div>\n      <NInputGroup>\n        <NInput\n          v-model:value=\"selectorText\"\n          :placeholder=\"enableSearchBySelector ? `请输入选择器` : `请输入字符`\"\n          @keyup.enter=\"searchBySelector\"\n          :inputProps=\"{ class: 'gkd_code' }\"\n        ></NInput>\n        <NButton @click=\"searchBySelector\">\n          {{ enableSearchBySelector ? `查询` : `搜索` }}\n        </NButton>\n      </NInputGroup>\n      <div p-5px></div>\n      <NCollapse>\n        <NCollapseItem\n          v-for=\"(selectorResult, index) in selectorResults\"\n          :key=\"selectorResult.selector.toString()\"\n        >\n          <template #header>\n            <span break-all>\n              {{\n                (typeof selectorResult.selector == 'string'\n                  ? `字符搜索`\n                  : `选择器查询`) +\n                `：` +\n                selectorResult.selector.toString()\n              }}\n            </span>\n          </template>\n          <template #header-extra>\n            {{ selectorResult.results.length + `个节点` }}\n            <div p-l-8px></div>\n            <NButton @click.stop=\"selectorResults.splice(index, 1)\">\n              删除\n            </NButton>\n          </template>\n          <NSpace\n            style=\"max-height: 400px; overflow-y: scroll; padding-bottom: 10px\"\n          >\n            <NButton\n              v-for=\"resultNode in selectorResult.results\"\n              :key=\"resultNode.id\"\n              @click=\"onUpdateFocusNode(resultNode)\"\n              size=\"small\"\n            >\n              {{ getNodeLabel(resultNode) }}\n            </NButton>\n          </NSpace>\n        </NCollapseItem>\n      </NCollapse>\n    </div>\n  </DraggableCard>\n</template>\n","<script setup lang=\"tsx\">\nimport { getDevice, getNodeLabel } from '@/utils/node';\nimport { copy } from '@/utils/others';\nimport type { RawNode, Snapshot } from '@/utils/types';\nimport {\n  NTable,\n  NTbody,\n  NTd,\n  NTh,\n  NThead,\n  NTr,\n  NTree,\n  NEllipsis,\n  type TreeInst,\n  type TreeOption,\n} from 'naive-ui';\nimport { HTMLAttributes, nextTick, shallowRef, watchEffect } from 'vue';\n\nconst props = withDefaults(\n  defineProps<{\n    snapshot: Snapshot;\n    rootNode: RawNode;\n    focusNode?: RawNode;\n    onUpdateFocusNode?: (data: RawNode) => void;\n  }>(),\n  {\n    onUpdateFocusNode: () => () => {},\n  },\n);\n\nconst defaultExpandedKeys = shallowRef<number[]>([]);\nwatchEffect(async () => {\n  if (!props.focusNode) return;\n  const key = props.focusNode.id;\n  let n = props.focusNode.parent;\n  if (!n) {\n    return;\n  }\n  const s = new Set(defaultExpandedKeys.value);\n  while (n) {\n    s.add(n.id);\n    n = n.parent;\n  }\n  if (s.size == defaultExpandedKeys.value.length) {\n    return;\n  }\n  defaultExpandedKeys.value = [...s];\n  await nextTick();\n  treeRef.value?.scrollTo({ key });\n});\n\nconst treeRef = shallowRef<TreeInst>();\n\nconst updateCheckedKeys = (\n  keys: Array<string | number>,\n  options: Array<TreeOption | null>,\n  meta: {\n    node: TreeOption | null;\n    action: 'check' | 'uncheck';\n  },\n) => {};\n\nconst treeFilter = (pattern: string, node: RawNode) => {\n  return node.id === props.focusNode?.id;\n};\nconst treeNodeProps = (info: {\n  option: RawNode;\n}): HTMLAttributes & Record<string, unknown> => {\n  return {\n    onClick: () => {\n      props.onUpdateFocusNode(info.option);\n    },\n    style: {\n      color: info.option.id == props.focusNode?.id ? `#00F` : void 0,\n    },\n  };\n};\n\nconst renderLabel = (info: {\n  option: RawNode;\n  checked: boolean;\n  selected: boolean;\n}) => {\n  return getNodeLabel(info.option);\n};\n</script>\n\n<template>\n  <div flex flex-col>\n    <NTable size=\"small\" striped :singleLine=\"false\" class=\"table-fixed\">\n      <NThead>\n        <NTr>\n          <NTh class=\"w-150px\"> Device </NTh>\n          <NTh class=\"w-110px\"> Name </NTh>\n          <NTh class=\"w-110px\"> VersionName </NTh>\n          <NTh class=\"w-110px\"> VersionCode </NTh>\n          <NTh class=\"w-240px\"> AppId </NTh>\n          <NTh> ActivityId </NTh>\n          <NTh class=\"w-175px\"> 操作 </NTh>\n        </NTr>\n      </NThead>\n      <NTbody>\n        <NTr>\n          <NTd class=\"whitespace-nowrap\">\n            {{\n              `${getDevice(snapshot).manufacturer} Android ${\n                getDevice(snapshot).release || ``\n              }`\n            }}\n          </NTd>\n          <NTd class=\"whitespace-nowrap\" @click=\"copy(snapshot.appName)\">\n            <NEllipsis>\n              {{ snapshot.appName }}\n            </NEllipsis>\n          </NTd>\n          <NTd class=\"whitespace-nowrap\" @click=\"copy(snapshot.appVersionName)\">\n            <NEllipsis>\n              {{ snapshot.appVersionName }}\n            </NEllipsis>\n          </NTd>\n          <NTd\n            class=\"whitespace-nowrap\"\n            @click=\"copy(snapshot.appVersionCode.toString())\"\n          >\n            <NEllipsis>\n              {{ snapshot.appVersionCode }}\n            </NEllipsis>\n          </NTd>\n          <NTd class=\"whitespace-nowrap\" @click=\"copy(snapshot.appId)\">\n            <NEllipsis>\n              {{ snapshot.appId }}\n            </NEllipsis>\n          </NTd>\n          <NTd @click=\"copy(snapshot.activityId)\" class=\"break-words\">\n            <NEllipsis>\n              {{ snapshot.activityId }}\n            </NEllipsis>\n          </NTd>\n          <NTd>\n            <slot></slot>\n          </NTd>\n        </NTr>\n      </NTbody>\n    </NTable>\n    <NTree\n      ref=\"treeRef\"\n      virtualScroll\n      @update:checked-keys=\"updateCheckedKeys\"\n      keyField=\"id\"\n      :defaultExpandedKeys=\"defaultExpandedKeys\"\n      :data=\"[rootNode as any]\"\n      :filter=\"(treeFilter as any)\"\n      :nodeProps=\"(treeNodeProps as any)\"\n      :renderLabel=\"(renderLabel as any)\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.WindowCard {\n  .n-tree {\n    overflow: scroll;\n  }\n\n  :deep(.n-tree-node-content__text) {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: 800px;\n  }\n}\n</style>\n","<script lang=\"ts\" setup>\nimport ActionCard from '@/components/ActionCard.vue';\nimport AttrCard from '@/components/AttrCard.vue';\nimport ScreenshotCard from '@/components/ScreenshotCard.vue';\nimport SearchCard from '@/components/SearchCard.vue';\nimport WindowCard from '@/components/WindowCard.vue';\nimport { listToTree } from '@/utils/node';\nimport { message } from '@/utils/discrete';\nimport { delay } from '@/utils/others';\nimport { snapshotStorage, screenshotStorage } from '@/utils/storage';\nimport type { RawNode, Snapshot } from '@/utils/types';\nimport { computed, shallowRef, watchEffect } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useTitle } from '@vueuse/core';\n\nconst route = useRoute();\nconst router = useRouter();\nconst title = useTitle();\n\nconst snapshotId = computed(() => String(route.params.snapshotId || ``));\nconst showSize = computed(() => {\n  const n = Number(route.query.showSize || ``);\n  if (Number.isSafeInteger(n) && 1 <= n && n <= 8000) {\n    return n;\n  }\n  return 2000;\n});\n\nconst screenshotUrl = shallowRef(``);\nconst snapshot = shallowRef<Snapshot>();\n\nwatchEffect(async () => {\n  const localSnapshot = await snapshotStorage.getItem(snapshotId.value);\n  if (!localSnapshot) {\n    message.error(`快照数据缺失`);\n    return;\n  }\n  if (localSnapshot.nodes.length > showSize.value) {\n    message.warning(\n      `当前展示节点数量为${showSize.value}\\n之后的${\n        localSnapshot.nodes.length - showSize.value\n      }个节点将被丢弃\\n使用showSize查询参数可以修改展示数量`,\n    );\n    localSnapshot.nodes = localSnapshot.nodes.slice(0, showSize.value);\n  }\n  const bf = await screenshotStorage.getItem(snapshotId.value);\n  if (!bf) {\n    message.create(`截屏数据缺失`);\n    return;\n  }\n  screenshotUrl.value = URL.createObjectURL(new Blob([bf]));\n  snapshot.value = localSnapshot;\n  rootNode.value = listToTree(localSnapshot.nodes);\n  title.value = '快照-' + localSnapshot.appName || localSnapshot.appId;\n});\n\nconst rootNode = shallowRef<RawNode>();\nconst focusNode = shallowRef<RawNode>();\n// 节点存在层叠渲染的情况,而且 Android 无障碍无法获取 z-index\n// const skipKeys = shallowRef<number[]>([]);\n\nconst onDelete = async () => {\n  message.success(`删除成功,即将回到首页`);\n  await delay(2000);\n  router.replace({\n    path: `/`,\n  });\n};\n</script>\n<template>\n  <div h-full flex gap-5px p-5px box-border>\n    <ScreenshotCard\n      v-if=\"screenshotUrl && snapshot\"\n      :url=\"screenshotUrl\"\n      :snapshot=\"snapshot\"\n      :rootNode=\"rootNode\"\n      :focusNode=\"focusNode\"\n      @updateFocusNode=\"focusNode = $event\"\n    />\n    <WindowCard\n      v-if=\"snapshot && rootNode\"\n      :rootNode=\"rootNode\"\n      :snapshot=\"snapshot\"\n      :focusNode=\"focusNode\"\n      @updateFocusNode=\"focusNode = $event\"\n      class=\"flex-1\"\n    >\n      <ActionCard\n        v-if=\"snapshot\"\n        :snapshot=\"snapshot\"\n        @delete=\"onDelete\"\n        :showPreview=\"false\"\n      />\n    </WindowCard>\n    <AttrCard v-if=\"focusNode\" :focusNode=\"focusNode\" />\n    <SearchCard\n      v-if=\"rootNode\"\n      :rootNode=\"rootNode\"\n      @updateFocusNode=\"focusNode = $event\"\n    />\n  </div>\n</template>\n"],"names":["createDataKey","key","ChevronLeftIcon","defineComponent","h","SwitcherIcon","self","vars","fontWeight","textColor1","textColor2","textColorDisabled","dividerColor","fontSize","collapseLight","commonLight","collapseLight$1","style$2","cB","cM","cE","c","fadeInHeightExpandTransition","collapseProps","useTheme","collapseInjectionKey","createInjectionKey","NCollapse","props","slots","mergedClsPrefixRef","inlineThemeDisabled","mergedRtlRef","useConfig","uncontrolledExpandedNamesRef","ref","controlledExpandedNamesRef","computed","mergedExpandedNamesRef","useMergedState","themeRef","style","doUpdateExpandedNames","names","_onUpdateExpandedNames","onUpdateExpandedNames","onExpandedNamesChange","call","doItemHeaderClick","info","onItemHeaderClick","toggleItem","collapse","name","event","accordion","expandedNames","activeNames","index","activeName","provide","rtlEnabledRef","useRtl","cssVarsRef","cubicBezierEaseInOut","titleFontWeight","titlePadding","titleTextColor","titleTextColorDisabled","textColor","arrowColor","titleFontSize","arrowColorDisabled","itemMargin","themeClassHandle","useThemeClass","_a","NCollapseItemContent","useFalseUntilTruthy","toRef","NFadeInExpandTransition","show","displayDirective","onceTrue","clsPrefix","useVShow","contentNode","withDirectives","vShow","collapseItemProps","NCollapseItem","randomName","createId","mergedNameRef","useMemo","inject","throwError","expandedNamesRef","collapseSlots","collapsedRef","expandedName","e","$slots","arrowPlacement","collapsed","mergedDisplayDirective","mergedClsPrefix","disabled","headerNode","resolveSlotWithProps","headerExtraSlot","arrowSlot","NBaseIcon","ArrowLeftIcon","ArrowRightIcon","resolveWrappedSlotWithProps","children","sizeVariables","cardColor","modalColor","popoverColor","tableHeaderColor","tableColorStriped","borderRadius","fontWeightStrong","lineHeight","fontSizeSmall","fontSizeMedium","fontSizeLarge","composite","tableLight","tableLight$1","borderRadiusSmall","hoverColor","pressedColor","primaryColor","textColor3","changeColor","treeLight","createTheme","checkboxLight","scrollbarLight","emptyLight","treeLight$1","style$1","cNotM","insideModal","insidePopover","tableProps","NTable","size","borderColor","tdColor","tdColorModal","tdColorPopover","thColor","thColorModal","thColorPopover","thTextColor","tdTextColor","thFontWeight","borderColorModal","borderColorPopover","tdColorStriped","tdColorStripedModal","tdColorStripedPopover","createKey","tdPadding","thPadding","NTh","NTr","NTd","NThead","NTbody","treeSelectInjectionKey","treeInjectionKey","NTreeNodeSwitcher","renderSwitcherIconRef","NIconSwitchTransition","NBaseLoading","renderSwitcherIcon","NTreeNodeCheckbox","NTree","doCheck","value","onCheck","handleUpdateValue","mergedTheme","checked","indeterminate","focusable","NCheckbox","NTreeNodeContent","renderLabelRef","renderPrefixRef","renderSuffixRef","labelFieldRef","selfRef","doClick","onClick","handleClick","labelField","nodeProps","selected","renderLabel","renderPrefix","renderSuffix","onDragstart","rawNode","prefix","suffix","label","render","renderDropMark","position","offsetLevel","indent","el","cssPosition","defaultAllowDrop","dropPosition","node","useMergedCheckStrategy","isNodeDisabled","disabledField","traverse","nodes","childrenField","callback","callbackAfter","keysWithFilter","pattern","keyField","filter","keys","highlightKeySet","path","i","isBrowser","emptyImage","filterTree","tree","visitedTailKeys","visitedNonTailKeys","expandedKeys","filteredTree","visit","t","n","build","sibs","isVisitedTail","isVisitedNonTail","clonedNode","TreeNode","droppingNodeParentRef","droppingMouseNodeRef","draggingNodeRef","droppingPositionRef","droppingOffsetLevelRef","nodePropsRef","indentRef","blockLineRef","checkboxPlacementRef","checkOnClickRef","disabledFieldRef","checkboxDisabledRef","nodeIsDisabledRef","disabledRef","resolvedNodePropsRef","contentInstRef","contentElRef","onMounted","handleSwitcherClick","tmNode","onLoad","selectableRef","checkableRef","checkedRef","mergedCheckOnClickRef","checkable","checkOnClick","_handleClick","expandOnClick","selectable","mergedCheckOnClick","happensIn","handleCheck","handleContentClick","_b","handleLineClick","handleDragStart","handleDragEnter","handleDragOver","handleDragEnd","handleDragLeave","handleDrop","draggingNode","droppingPosition","droppingMouseNode","droppingNodeParent","highlight","draggable","blockLine","pending","internalScrollable","checkboxPlacement","dragEventHandlers","dataKey","checkboxOnRight","checkboxNode","repeat","NTreeNode","useKeyboard","fNodesRef","mergedExpandedKeysRef","mergedSelectedKeysRef","handleSelect","mergedSelectedKeys","treeSelectInjection","pendingNodeKeyRef","handleKeydown","pendingNodeKey","fNodes","fIndex","pendingNode","parentTmNode","MotionWrapper","FadeInExpandTransition","pxfy","iconSwitchTransition","__awaiter","this","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","result","ITEM_SIZE","createTreeMateOptions","getChildren","treeSharedProps","treeProps","selfElRef","scrollbarInstRef","virtualListInstRef","getScrollContainer","getScrollContent","mergedFilterRef","filteredTreeInfoRef","displayTreeMateRef","createTreeMate","dataTreeMateRef","watchProps","uncontrolledCheckedKeysRef","watchEffect","controlledCheckedKeysRef","mergedCheckedKeysRef","checkedStatusRef","mergedCheckStrategyRef","displayedCheckedKeysRef","displayedIndeterminateKeysRef","indeterminateKeys","uncontrolledSelectedKeysRef","controlledSelectedKeysRef","uncontrolledExpandedKeysRef","initUncontrolledExpandedKeys","controlledExpandedKeysRef","expandTimerId","nodeKeyToBeExpanded","uncontrolledHighlightKeySetRef","controlledHighlightKeySetRef","mergedHighlightKeySetRef","loadingKeysRef","expandedNonLoadingKeysRef","dragStartX","droppingNodeRef","droppingNode","watch","resetDndState","expandAnimationDisabled","disableExpandAnimationForOneTick","nextTick","memoizedExpandedKeys","oldValue","expandedKeysAfterChange","doUpdateExpandedKeys","getOptionsByKeys","triggerLoading","loadingKeys","resetDragExpandState","loadError","displayTreeMate","getNode","aipRef","afNodesRef","prevValue","syncScrollbar","prevVSet","addedKey","removedKey","expandedKey","currentVSet","virtualScroll","viewportHeight","viewportItemCount","baseExpandedKeys","expandedNodeIndex","expandedChildren","flatten","collapsedNodeIndex","collapsedNodeChildren","collapsedChildren","getFIndexRef","createIndexGetter","mergedFNodesRef","scrollbarInst","handleAfterEnter","option","meta","_onUpdateExpandedKeys","onUpdateExpandedKeys","doUpdateCheckedKeys","_onUpdateCheckedKeys","onUpdateCheckedKeys","doUpdateIndeterminateKeys","_onUpdateIndeterminateKeys","onUpdateIndeterminateKeys","doUpdateSelectedKeys","_onUpdateSelectedKeys","onUpdateSelectedKeys","doDragEnter","onDragenter","doDragLeave","onDragleave","doDragEnd","onDragend","doDragStart","doDragOver","onDragover","doDrop","onDrop","resetDragState","resetDropState","checkedAction","checkedKeys","toggleExpand","mergedExpandedKeys","expandNodeId","nodeToBeExpanded","nextKeys","siblingKeySet","selectedKeys","expandDragEnterNode","expand","handleDragLeaveTree","emit","allowDrop","elOffsetHeight","elClientTop","eventOffsetY","mousePosition","getFindex","finalDropNode","finalDropPosition","hoverNodeFIndex","mouseAtExpandedNonLeafNode","offset","nextNode","prevNode","handleScroll","handleResize","handleFocusout","selfEl","targetEl","scrollTo","options","exposedMethods","nodeBorderRadius","nodeColorHover","nodeColorPressed","nodeColorActive","loadingColor","nodeTextColor","nodeTextColorDisabled","dropMarkColor","internalRenderEmpty","blockNode","internalFocusable","rtlEnabled","mergedFocusable","tabindex","treeClass","createNode","internalScrollablePadding","padding","getPadding","NxScrollbar","VVirtualList","item","resolveSlot","NEmpty","isLeft","isTop","prevOffset","shallowReactive","currentStyle","xStyle","yStyle","prevEv","startMove","ev","move","target","dx","dy","endMove","box","shallowRef","preventSelection","transitions","windowEndMove","top","bottom","left","right","boxDiv","onUnmounted","newValue","oldvalue","updateTarget","arg","lenAttrNames","attrs","attr","imgRef","evRef","img","imgRect","innerHeight","offsetTop","ox","oy","childNode","findNodeByXy","percent","positionStyle","selectorText","selectorResults","searchBySelector","errorTry","message","text","enableSearchBySelector","s","selector","errorWrap","parseSelector","results","stack","getNodeLabel","defaultExpandedKeys","focusNode","id","parent","Set","add","length","treeRef","updateCheckedKeys","treeFilter","treeNodeProps","onUpdateFocusNode","color","route","useRoute","router","useRouter","title","useTitle","snapshotId","showSize","screenshotUrl","snapshot","localSnapshot","snapshotStorage","bf","screenshotStorage","rootNode","listToTree","onDelete","delay"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]}