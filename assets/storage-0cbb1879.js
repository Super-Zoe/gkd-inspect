var Ln=(r,t,c)=>{if(!t.has(r))throw TypeError("Cannot "+c)};var he=(r,t,c)=>(Ln(r,t,"read from private field"),c?c.call(r):t.get(r)),Te=(r,t,c)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,c)},ae=(r,t,c,l)=>(Ln(r,t,"write to private field"),l?l.call(r,c):t.set(r,c),c);var rn=(r,t,c,l)=>({set _(u){ae(r,t,u,c)},get _(){return he(r,t,l)}});import{x as M,bN as Qt,bO as Xt,d as Z,z as Q,m as R,bP as Gt,aH as $n,bQ as Jt,N as Zt,B as ce,bR as zn,bS as er,bT as nr,bU as tr,bV as rr,F as je,M as an,r as Fe,P as le,Q as Me,W as or,n as sn,X as ir,E as _e,p as k,bW as ar,q as F,y as Ce,c as be,A as Se,D as cn,J as sr,K as cr,ay as kn,ac as xe,aJ as lr,ai as ln,v as ne,a8 as fr,C as Dn,a1 as ur,a3 as ge,aD as jn,a0 as se,a2 as dr,T as Fn,bX as Mn,bY as Hn,bZ as Wn,b_ as Un,a5 as Kn,L as hr,w as vr,aB as gr,aG as mr,a9 as pr,b$ as br,a4 as yr,u as Tn,c0 as wr,aQ as xr,c1 as Bn,an as _r,e as Cr,bM as Sr}from"./index-25453c82.js";function fn(r,t=[],c){const l={};return Object.getOwnPropertyNames(r).forEach(v=>{t.includes(v)||(l[v]=r[v])}),Object.assign(l,c)}const{cubicBezierEaseInOut:re,cubicBezierEaseOut:Ir,cubicBezierEaseIn:Er}=Qt;function Rr({overflow:r="hidden",duration:t=".3s",originalTransition:c="",leavingDelay:l="0s",foldPadding:u=!1,enterToProps:v=void 0,leaveToProps:m=void 0,reverse:y=!1}={}){const f=y?"leave":"enter",g=y?"enter":"leave";return[M(`&.fade-in-height-expand-transition-${g}-from,
 &.fade-in-height-expand-transition-${f}-to`,Object.assign(Object.assign({},v),{opacity:1})),M(`&.fade-in-height-expand-transition-${g}-to,
 &.fade-in-height-expand-transition-${f}-from`,Object.assign(Object.assign({},m),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:u?"0 !important":void 0,paddingBottom:u?"0 !important":void 0})),M(`&.fade-in-height-expand-transition-${g}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${re} ${l},
 opacity ${t} ${Ir} ${l},
 margin-top ${t} ${re} ${l},
 margin-bottom ${t} ${re} ${l},
 padding-top ${t} ${re} ${l},
 padding-bottom ${t} ${re} ${l}
 ${c?","+c:""}
 `),M(`&.fade-in-height-expand-transition-${f}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${re},
 opacity ${t} ${Er},
 margin-top ${t} ${re},
 margin-bottom ${t} ${re},
 padding-top ${t} ${re},
 padding-bottom ${t} ${re}
 ${c?","+c:""}
 `)]}var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const Or=Object.assign(Object.assign({},Xt),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),Pr=Z({name:"DialogEnvironment",props:Object.assign(Object.assign({},Or),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const t=Q(!0);function c(){const{onInternalAfterLeave:_,internalKey:h,onAfterLeave:I}=r;_&&_(h),I&&I()}function l(_){const{onPositiveClick:h}=r;h?Promise.resolve(h(_)).then(I=>{I!==!1&&f()}):f()}function u(_){const{onNegativeClick:h}=r;h?Promise.resolve(h(_)).then(I=>{I!==!1&&f()}):f()}function v(){const{onClose:_}=r;_?Promise.resolve(_()).then(h=>{h!==!1&&f()}):f()}function m(_){const{onMaskClick:h,maskClosable:I}=r;h&&(h(_),I&&f())}function y(){const{onEsc:_}=r;_&&_()}function f(){t.value=!1}function g(_){t.value=_}return{show:t,hide:f,handleUpdateShow:g,handleAfterLeave:c,handleCloseClick:v,handleNegativeClick:u,handlePositiveClick:l,handleMaskClick:m,handleEsc:y}},render(){const{handlePositiveClick:r,handleUpdateShow:t,handleNegativeClick:c,handleCloseClick:l,handleAfterLeave:u,handleMaskClick:v,handleEsc:m,to:y,maskClosable:f,show:g}=this;return R(Zt,{show:g,onUpdateShow:t,onMaskClick:v,onEsc:m,to:y,maskClosable:f,onAfterEnter:this.onAfterEnter,onAfterLeave:u,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,internalAppear:!0,internalDialog:!0},{default:()=>R(Gt,Object.assign({},$n(this.$props,Jt),{style:this.internalStyle,onClose:l,onNegativeClick:c,onPositiveClick:r}))})}}),Nr={injectionKey:String,to:[String,Object]},Lr=Z({name:"DialogProvider",props:Nr,setup(){const r=Q([]),t={};function c(y={}){const f=an(),g=Fe(Object.assign(Object.assign({},y),{key:f,destroy:()=>{t[`n-dialog-${f}`].hide()}}));return r.value.push(g),g}const l=["info","success","warning","error"].map(y=>f=>c(Object.assign(Object.assign({},f),{type:y})));function u(y){const{value:f}=r;f.splice(f.findIndex(g=>g.key===y),1)}function v(){Object.values(t).forEach(y=>{y.hide()})}const m={create:c,destroyAll:v,info:l[0],success:l[1],warning:l[2],error:l[3]};return ce(zn,m),ce(tr,{clickedRef:er(64),clickPositionRef:nr()}),ce(rr,r),Object.assign(Object.assign({},m),{dialogList:r,dialogInstRefs:t,handleAfterLeave:u})},render(){var r,t;return R(je,null,[this.dialogList.map(c=>R(Pr,fn(c,["destroy","style"],{internalStyle:c.style,to:this.to,ref:l=>{l===null?delete this.dialogInstRefs[`n-dialog-${c.key}`]:this.dialogInstRefs[`n-dialog-${c.key}`]=l},internalKey:c.key,onInternalAfterLeave:this.handleAfterLeave}))),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r)])}});function Tr(){const r=le(zn,null);return r===null&&Me("use-dialog","No outer <n-dialog-provider /> founded."),r}const Br={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},$r=r=>{const{textColor2:t,successColor:c,infoColor:l,warningColor:u,errorColor:v,popoverColor:m,closeIconColor:y,closeIconColorHover:f,closeIconColorPressed:g,closeColorHover:_,closeColorPressed:h,textColor1:I,textColor3:A,borderRadius:C,fontWeightStrong:N,boxShadow2:O,lineHeight:j,fontSize:$}=r;return Object.assign(Object.assign({},Br),{borderRadius:C,lineHeight:j,fontSize:$,headerFontWeight:N,iconColor:t,iconColorSuccess:c,iconColorInfo:l,iconColorWarning:u,iconColorError:v,color:m,textColor:t,closeIconColor:y,closeIconColorHover:f,closeIconColorPressed:g,closeBorderRadius:C,closeColorHover:_,closeColorPressed:h,headerTextColor:I,descriptionTextColor:A,actionTextColor:t,boxShadow:O})},zr=or({name:"Notification",common:sn,peers:{Scrollbar:ir},self:$r}),kr=zr,Dr={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},jr=r=>{const{textColor2:t,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:u,infoColor:v,successColor:m,errorColor:y,warningColor:f,popoverColor:g,boxShadow2:_,primaryColor:h,lineHeight:I,borderRadius:A,closeColorHover:C,closeColorPressed:N}=r;return Object.assign(Object.assign({},Dr),{closeBorderRadius:A,textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:g,colorInfo:g,colorSuccess:g,colorError:g,colorWarning:g,colorLoading:g,boxShadow:_,boxShadowInfo:_,boxShadowSuccess:_,boxShadowError:_,boxShadowWarning:_,boxShadowLoading:_,iconColor:t,iconColorInfo:v,iconColorSuccess:m,iconColorWarning:f,iconColorError:y,iconColorLoading:h,closeColorHover:C,closeColorPressed:N,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:u,closeColorHoverInfo:C,closeColorPressedInfo:N,closeIconColorInfo:c,closeIconColorHoverInfo:l,closeIconColorPressedInfo:u,closeColorHoverSuccess:C,closeColorPressedSuccess:N,closeIconColorSuccess:c,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:u,closeColorHoverError:C,closeColorPressedError:N,closeIconColorError:c,closeIconColorHoverError:l,closeIconColorPressedError:u,closeColorHoverWarning:C,closeColorPressedWarning:N,closeIconColorWarning:c,closeIconColorHoverWarning:l,closeIconColorPressedWarning:u,closeColorHoverLoading:C,closeColorPressedLoading:N,closeIconColorLoading:c,closeIconColorHoverLoading:l,closeIconColorPressedLoading:u,loadingColor:h,lineHeight:I,borderRadius:A})},Fr={name:"Message",common:sn,self:jr},Mr=Fr,Hr=r=>{const{primaryColor:t,errorColor:c}=r;return{colorError:c,colorLoading:t,height:"2px"}},Wr={name:"LoadingBar",common:sn,self:Hr},Ur=Wr,qn=_e("n-loading-bar"),Yn=_e("n-loading-bar-api"),Kr=k("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[ar({enterDuration:"0.3s",leaveDuration:"0.8s"}),k("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[F("starting",`
 background: var(--n-color-loading);
 `),F("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),F("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var on=globalThis&&globalThis.__awaiter||function(r,t,c,l){function u(v){return v instanceof c?v:new c(function(m){m(v)})}return new(c||(c=Promise))(function(v,m){function y(_){try{g(l.next(_))}catch(h){m(h)}}function f(_){try{g(l.throw(_))}catch(h){m(h)}}function g(_){_.done?v(_.value):u(_.value).then(y,f)}g((l=l.apply(r,t||[])).next())})};function $e(r,t){return`${t}-loading-bar ${t}-loading-bar--${r}`}const qr=Z({name:"LoadingBar",props:{containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:r}=Ce(),{props:t,mergedClsPrefixRef:c}=le(qn),l=Q(null),u=Q(!1),v=Q(!1),m=Q(!1),y=Q(!1);let f=!1;const g=Q(!1),_=be(()=>{const{loadingBarStyle:b}=t;return b?b[g.value?"error":"loading"]:""});function h(){return on(this,void 0,void 0,function*(){u.value=!1,m.value=!1,f=!1,g.value=!1,y.value=!0,yield xe(),y.value=!1})}function I(b=0,T=80,P="starting"){return on(this,void 0,void 0,function*(){yield h(),m.value=!0,v.value=!0,yield xe();const L=l.value;L&&(L.style.maxWidth=`${b}%`,L.style.transition="none",L.offsetWidth,L.className=$e(P,c.value),L.style.transition="",L.style.maxWidth=`${T}%`)})}function A(){if(f||g.value||!m.value)return;f=!0;const b=l.value;b&&(b.className=$e("finishing",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1)}function C(){if(!(f||g.value))if(!m.value)I(100,100,"error").then(()=>{g.value=!0;const b=l.value;b&&(b.className=$e("error",c.value),b.offsetWidth,m.value=!1)});else{g.value=!0;const b=l.value;if(!b)return;b.className=$e("error",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1}}function N(){u.value=!0}function O(){u.value=!1}function j(){return on(this,void 0,void 0,function*(){yield h()})}const $=Se("LoadingBar","-loading-bar",Kr,Ur,t,c),X=be(()=>{const{self:{height:b,colorError:T,colorLoading:P}}=$.value;return{"--n-height":b,"--n-color-loading":P,"--n-color-error":T}}),H=r?cn("loading-bar",void 0,X,t):void 0;return{mergedClsPrefix:c,loadingBarRef:l,started:v,loading:m,entering:u,transitionDisabled:y,start:I,error:C,finish:A,handleEnter:N,handleAfterEnter:O,handleAfterLeave:j,mergedLoadingBarStyle:_,cssVars:r?void 0:X,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:r}=this;return R(kn,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),sr(R("div",{class:[`${r}-loading-bar-container`,this.themeClass],style:this.containerStyle},R("div",{ref:"loadingBarRef",class:[`${r}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[cr,this.loading||!this.loading&&this.entering]])}})}}),Yr=Object.assign(Object.assign({},Se.props),{to:{type:[String,Object,Boolean],default:void 0},containerStyle:[String,Object],loadingBarStyle:{type:Object}}),Vr=Z({name:"LoadingBarProvider",props:Yr,setup(r){const t=lr(),c=Q(null),l={start(){var v;t.value?(v=c.value)===null||v===void 0||v.start():xe(()=>{var m;(m=c.value)===null||m===void 0||m.start()})},error(){var v;t.value?(v=c.value)===null||v===void 0||v.error():xe(()=>{var m;(m=c.value)===null||m===void 0||m.error()})},finish(){var v;t.value?(v=c.value)===null||v===void 0||v.finish():xe(()=>{var m;(m=c.value)===null||m===void 0||m.finish()})}},{mergedClsPrefixRef:u}=Ce(r);return ce(Yn,l),ce(qn,{props:r,mergedClsPrefixRef:u}),Object.assign(l,{loadingBarRef:c})},render(){var r,t;return R(je,null,R(ln,{disabled:this.to===!1,to:this.to||"body"},R(qr,{ref:"loadingBarRef",containerStyle:this.containerStyle})),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))}});function Qr(){const r=le(Yn,null);return r===null&&Me("use-loading-bar","No outer <n-loading-bar-provider /> founded."),r}const Vn={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},Qn=_e("n-message-api"),Xn=_e("n-message-provider"),Xr=M([k("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[Rr({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),k("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[ne("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),ne("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(r=>F(`${r}-type`,[M("> *",`
 color: var(--n-icon-color-${r});
 transition: color .3s var(--n-bezier);
 `)])),M("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[fr()])]),ne("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[M("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),M("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),k("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[F("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),F("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),F("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),F("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),F("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),F("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),Gr={info:()=>R(Mn,null),success:()=>R(Hn,null),warning:()=>R(Wn,null),error:()=>R(Un,null),default:()=>null},Jr=Z({name:"Message",props:Object.assign(Object.assign({},Vn),{render:Function}),setup(r){const{inlineThemeDisabled:t,mergedRtlRef:c}=Ce(r),{props:l,mergedClsPrefixRef:u}=le(Xn),v=Dn("Message",c,u),m=Se("Message","-message",Xr,Mr,l,u),y=be(()=>{const{type:g}=r,{common:{cubicBezierEaseInOut:_},self:{padding:h,margin:I,maxWidth:A,iconMargin:C,closeMargin:N,closeSize:O,iconSize:j,fontSize:$,lineHeight:X,borderRadius:H,iconColorInfo:b,iconColorSuccess:T,iconColorWarning:P,iconColorError:L,iconColorLoading:W,closeIconSize:q,closeBorderRadius:Y,[se("textColor",g)]:V,[se("boxShadow",g)]:G,[se("color",g)]:ie,[se("closeColorHover",g)]:fe,[se("closeColorPressed",g)]:ve,[se("closeIconColor",g)]:te,[se("closeIconColorPressed",g)]:ye,[se("closeIconColorHover",g)]:Ie}}=m.value;return{"--n-bezier":_,"--n-margin":I,"--n-padding":h,"--n-max-width":A,"--n-font-size":$,"--n-icon-margin":C,"--n-icon-size":j,"--n-close-icon-size":q,"--n-close-border-radius":Y,"--n-close-size":O,"--n-close-margin":N,"--n-text-color":V,"--n-color":ie,"--n-box-shadow":G,"--n-icon-color-info":b,"--n-icon-color-success":T,"--n-icon-color-warning":P,"--n-icon-color-error":L,"--n-icon-color-loading":W,"--n-close-color-hover":fe,"--n-close-color-pressed":ve,"--n-close-icon-color":te,"--n-close-icon-color-pressed":ye,"--n-close-icon-color-hover":Ie,"--n-line-height":X,"--n-border-radius":H}}),f=t?cn("message",be(()=>r.type[0]),y,{}):void 0;return{mergedClsPrefix:u,rtlEnabled:v,messageProviderProps:l,handleClose(){var g;(g=r.onClose)===null||g===void 0||g.call(r)},cssVars:t?void 0:y,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,placement:l.placement}},render(){const{render:r,type:t,closable:c,content:l,mergedClsPrefix:u,cssVars:v,themeClass:m,onRender:y,icon:f,handleClose:g,showIcon:_}=this;y==null||y();let h;return R("div",{class:[`${u}-message-wrapper`,m],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},v]},r?r(this.$props):R("div",{class:[`${u}-message ${u}-message--${t}-type`,this.rtlEnabled&&`${u}-message--rtl`]},(h=Zr(f,t,u))&&_?R("div",{class:`${u}-message__icon ${u}-message__icon--${t}-type`},R(ur,null,{default:()=>h})):null,R("div",{class:`${u}-message__content`},ge(l)),c?R(jn,{clsPrefix:u,class:`${u}-message__close`,onClick:g,absolute:!0}):null))}});function Zr(r,t,c){if(typeof r=="function")return r();{const l=t==="loading"?R(dr,{clsPrefix:c,strokeWidth:24,scale:.85}):Gr[t]();return l?R(Fn,{clsPrefix:c,key:t},{default:()=>l}):null}}const eo=Z({name:"MessageEnvironment",props:Object.assign(Object.assign({},Vn),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(r){let t=null;const c=Q(!0);Kn(()=>{l()});function l(){const{duration:_}=r;_&&(t=window.setTimeout(m,_))}function u(_){_.currentTarget===_.target&&t!==null&&(window.clearTimeout(t),t=null)}function v(_){_.currentTarget===_.target&&l()}function m(){const{onHide:_}=r;c.value=!1,t&&(window.clearTimeout(t),t=null),_&&_()}function y(){const{onClose:_}=r;_&&_(),m()}function f(){const{onAfterLeave:_,onInternalAfterLeave:h,onAfterHide:I,internalKey:A}=r;_&&_(),h&&h(A),I&&I()}function g(){m()}return{show:c,hide:m,handleClose:y,handleAfterLeave:f,handleMouseleave:v,handleMouseenter:u,deactivate:g}},render(){return R(hr,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?R(Jr,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),no=Object.assign(Object.assign({},Se.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),to=Z({name:"MessageProvider",props:no,setup(r){const{mergedClsPrefixRef:t}=Ce(r),c=Q([]),l=Q({}),u={create(f,g){return v(f,Object.assign({type:"default"},g))},info(f,g){return v(f,Object.assign(Object.assign({},g),{type:"info"}))},success(f,g){return v(f,Object.assign(Object.assign({},g),{type:"success"}))},warning(f,g){return v(f,Object.assign(Object.assign({},g),{type:"warning"}))},error(f,g){return v(f,Object.assign(Object.assign({},g),{type:"error"}))},loading(f,g){return v(f,Object.assign(Object.assign({},g),{type:"loading"}))},destroyAll:y};ce(Xn,{props:r,mergedClsPrefixRef:t}),ce(Qn,u);function v(f,g){const _=an(),h=Fe(Object.assign(Object.assign({},g),{content:f,key:_,destroy:()=>{var A;(A=l.value[_])===null||A===void 0||A.hide()}})),{max:I}=r;return I&&c.value.length>=I&&c.value.shift(),c.value.push(h),h}function m(f){c.value.splice(c.value.findIndex(g=>g.key===f),1),delete l.value[f]}function y(){Object.values(l.value).forEach(f=>{f.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:l,messageList:c,handleAfterLeave:m},u)},render(){var r,t,c;return R(je,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.messageList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(l=>R(eo,Object.assign({ref:u=>{u&&(this.messageRefs[l.key]=u)},internalKey:l.key,onInternalAfterLeave:this.handleAfterLeave},fn(l,["destroy"],void 0),{duration:l.duration===void 0?this.duration:l.duration,keepAliveOnHover:l.keepAliveOnHover===void 0?this.keepAliveOnHover:l.keepAliveOnHover,closable:l.closable===void 0?this.closable:l.closable}))))):null)}});function ro(){const r=le(Qn,null);return r===null&&Me("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),r}const He=_e("n-notification-provider"),oo=Z({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:r,mergedClsPrefixRef:t,wipTransitionCountRef:c}=le(He),l=Q(null);return vr(()=>{var u,v;c.value>0?(u=l==null?void 0:l.value)===null||u===void 0||u.classList.add("transitioning"):(v=l==null?void 0:l.value)===null||v===void 0||v.classList.remove("transitioning")}),{selfRef:l,mergedTheme:r,mergedClsPrefix:t,transitioning:c}},render(){const{$slots:r,scrollable:t,mergedClsPrefix:c,mergedTheme:l,placement:u}=this;return R("div",{ref:"selfRef",class:[`${c}-notification-container`,t&&`${c}-notification-container--scrollable`,`${c}-notification-container--${u}`]},t?R(gr,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},r):r)}}),io={info:()=>R(Mn,null),success:()=>R(Hn,null),warning:()=>R(Wn,null),error:()=>R(Un,null),default:()=>null},un={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},ao=mr(un),so=Z({name:"Notification",props:un,setup(r){const{mergedClsPrefixRef:t,mergedThemeRef:c,props:l}=le(He),{inlineThemeDisabled:u,mergedRtlRef:v}=Ce(),m=Dn("Notification",v,t),y=be(()=>{const{type:g}=r,{self:{color:_,textColor:h,closeIconColor:I,closeIconColorHover:A,closeIconColorPressed:C,headerTextColor:N,descriptionTextColor:O,actionTextColor:j,borderRadius:$,headerFontWeight:X,boxShadow:H,lineHeight:b,fontSize:T,closeMargin:P,closeSize:L,width:W,padding:q,closeIconSize:Y,closeBorderRadius:V,closeColorHover:G,closeColorPressed:ie,titleFontSize:fe,metaFontSize:ve,descriptionFontSize:te,[se("iconColor",g)]:ye},common:{cubicBezierEaseOut:Ie,cubicBezierEaseIn:Ue,cubicBezierEaseInOut:ee}}=c.value,{left:Pe,right:Ke,top:qe,bottom:Ye}=pr(q);return{"--n-color":_,"--n-font-size":T,"--n-text-color":h,"--n-description-text-color":O,"--n-action-text-color":j,"--n-title-text-color":N,"--n-title-font-weight":X,"--n-bezier":ee,"--n-bezier-ease-out":Ie,"--n-bezier-ease-in":Ue,"--n-border-radius":$,"--n-box-shadow":H,"--n-close-border-radius":V,"--n-close-color-hover":G,"--n-close-color-pressed":ie,"--n-close-icon-color":I,"--n-close-icon-color-hover":A,"--n-close-icon-color-pressed":C,"--n-line-height":b,"--n-icon-color":ye,"--n-close-margin":P,"--n-close-size":L,"--n-close-icon-size":Y,"--n-width":W,"--n-padding-left":Pe,"--n-padding-right":Ke,"--n-padding-top":qe,"--n-padding-bottom":Ye,"--n-title-font-size":fe,"--n-meta-font-size":ve,"--n-description-font-size":te}}),f=u?cn("notification",be(()=>r.type[0]),y,l):void 0;return{mergedClsPrefix:t,showAvatar:be(()=>r.avatar||r.type!=="default"),handleCloseClick(){r.onClose()},rtlEnabled:m,cssVars:u?void 0:y,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var r;const{mergedClsPrefix:t}=this;return(r=this.onRender)===null||r===void 0||r.call(this),R("div",{class:[`${t}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},R("div",{class:[`${t}-notification`,this.rtlEnabled&&`${t}-notification--rtl`,this.themeClass,{[`${t}-notification--closable`]:this.closable,[`${t}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?R("div",{class:`${t}-notification__avatar`},this.avatar?ge(this.avatar):this.type!=="default"?R(Fn,{clsPrefix:t},{default:()=>io[this.type]()}):null):null,this.closable?R(jn,{clsPrefix:t,class:`${t}-notification__close`,onClick:this.handleCloseClick}):null,R("div",{ref:"bodyRef",class:`${t}-notification-main`},this.title?R("div",{class:`${t}-notification-main__header`},ge(this.title)):null,this.description?R("div",{class:`${t}-notification-main__description`},ge(this.description)):null,this.content?R("pre",{class:`${t}-notification-main__content`},ge(this.content)):null,this.meta||this.action?R("div",{class:`${t}-notification-main-footer`},this.meta?R("div",{class:`${t}-notification-main-footer__meta`},ge(this.meta)):null,this.action?R("div",{class:`${t}-notification-main-footer__action`},ge(this.action)):null):null)))}}),co=Object.assign(Object.assign({},un),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),lo=Z({name:"NotificationEnvironment",props:Object.assign(Object.assign({},co),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const{wipTransitionCountRef:t}=le(He),c=Q(!0);let l=null;function u(){c.value=!1,l&&window.clearTimeout(l)}function v(C){t.value++,xe(()=>{C.style.height=`${C.offsetHeight}px`,C.style.maxHeight="0",C.style.transition="none",C.offsetHeight,C.style.transition="",C.style.maxHeight=C.style.height})}function m(C){t.value--,C.style.height="",C.style.maxHeight="";const{onAfterEnter:N,onAfterShow:O}=r;N&&N(),O&&O()}function y(C){t.value++,C.style.maxHeight=`${C.offsetHeight}px`,C.style.height=`${C.offsetHeight}px`,C.offsetHeight}function f(C){const{onHide:N}=r;N&&N(),C.style.maxHeight="0",C.offsetHeight}function g(){t.value--;const{onAfterLeave:C,onInternalAfterLeave:N,onAfterHide:O,internalKey:j}=r;C&&C(),N(j),O&&O()}function _(){const{duration:C}=r;C&&(l=window.setTimeout(u,C))}function h(C){C.currentTarget===C.target&&l!==null&&(window.clearTimeout(l),l=null)}function I(C){C.currentTarget===C.target&&_()}function A(){const{onClose:C}=r;C?Promise.resolve(C()).then(N=>{N!==!1&&u()}):u()}return Kn(()=>{r.duration&&(l=window.setTimeout(u,r.duration))}),{show:c,hide:u,handleClose:A,handleAfterLeave:g,handleLeave:f,handleBeforeLeave:y,handleAfterEnter:m,handleBeforeEnter:v,handleMouseenter:h,handleMouseleave:I}},render(){return R(kn,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?R(so,Object.assign({},$n(this.$props,ao),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),fo=M([k("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[M(">",[k("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[M(">",[k("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[k("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),F("top, top-right, top-left",`
 top: 12px;
 `,[M("&.transitioning >",[k("scrollbar",[M(">",[k("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),F("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[M(">",[k("scrollbar",[M(">",[k("scrollbar-container",[k("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),k("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),F("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),F("top",[k("notification-wrapper",`
 transform-origin: top center;
 `)]),F("bottom",[k("notification-wrapper",`
 transform-origin: bottom center;
 `)]),F("top-right, bottom-right",[k("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),F("top-left, bottom-left",[k("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),F("top-right",`
 right: 0;
 `,[ze("top-right")]),F("top-left",`
 left: 0;
 `,[ze("top-left")]),F("bottom-right",`
 right: 0;
 `,[ze("bottom-right")]),F("bottom-left",`
 left: 0;
 `,[ze("bottom-left")]),F("scrollable",[F("top-right",`
 top: 0;
 `),F("top-left",`
 top: 0;
 `),F("bottom-right",`
 bottom: 0;
 `),F("bottom-left",`
 bottom: 0;
 `)]),k("notification-wrapper",`
 margin-bottom: 12px;
 `,[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),M("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),M("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),k("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[ne("avatar",[k("icon",{color:"var(--n-icon-color)"}),k("base-icon",{color:"var(--n-icon-color)"})]),F("show-avatar",[k("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),F("closable",[k("notification-main",[M("> *:first-child",{paddingRight:"20px"})]),ne("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),ne("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("icon","transition: color .3s var(--n-bezier);")]),k("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[k("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[ne("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),ne("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),ne("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[M("&:first-child",{margin:0})])])])])]);function ze(r){const c=r.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",l="0";return k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${c}, 0);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${l}, 0);
 `)])}const Gn=_e("n-notification-api"),uo=Object.assign(Object.assign({},Se.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),ho=Z({name:"NotificationProvider",props:uo,setup(r){const{mergedClsPrefixRef:t}=Ce(r),c=Q([]),l={},u=new Set;function v(A){const C=an(),N=()=>{u.add(C),l[C]&&l[C].hide()},O=Fe(Object.assign(Object.assign({},A),{key:C,destroy:N,hide:N,deactivate:N})),{max:j}=r;if(j&&c.value.length-u.size>=j){let $=!1,X=0;for(const H of c.value){if(!u.has(H.key)){l[H.key]&&(H.destroy(),$=!0);break}X++}$||c.value.splice(X,1)}return c.value.push(O),O}const m=["info","success","warning","error"].map(A=>C=>v(Object.assign(Object.assign({},C),{type:A})));function y(A){u.delete(A),c.value.splice(c.value.findIndex(C=>C.key===A),1)}const f=Se("Notification","-notification",fo,kr,r,t),g={create:v,info:m[0],success:m[1],warning:m[2],error:m[3],open:h,destroyAll:I},_=Q(0);ce(Gn,g),ce(He,{props:r,mergedClsPrefixRef:t,mergedThemeRef:f,wipTransitionCountRef:_});function h(A){return v(A)}function I(){Object.values(c.value).forEach(A=>{A.hide()})}return Object.assign({mergedClsPrefix:t,notificationList:c,notificationRefs:l,handleAfterLeave:y},g)},render(){var r,t,c;const{placement:l}=this;return R(je,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.notificationList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R(oo,{style:this.containerStyle,scrollable:this.scrollable&&l!=="top"&&l!=="bottom",placement:l},{default:()=>this.notificationList.map(u=>R(lo,Object.assign({ref:v=>{const m=u.key;v===null?delete this.notificationRefs[m]:this.notificationRefs[m]=v}},fn(u,["destroy","hide","deactivate"]),{internalKey:u.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:u.keepAliveOnHover===void 0?this.keepAliveOnHover:u.keepAliveOnHover})))})):null)}});function vo(){const r=le(Gn,null);return r===null&&Me("use-notification","No outer `n-notification-provider` found."),r}const go=Z({name:"InjectionExtractor",props:{onSetup:Function},setup(r,{slots:t}){var c;return(c=r.onSetup)===null||c===void 0||c.call(r),()=>{var l;return(l=t.default)===null||l===void 0?void 0:l.call(t)}}}),mo={message:ro,notification:vo,loadingBar:Qr,dialog:Tr};function po({providersAndProps:r,configProviderProps:t}){let l=br(()=>R(wr,Tn(t),{default:()=>r.map(({type:y,Provider:f,props:g})=>R(f,Tn(g),{default:()=>R(go,{onSetup:()=>u[y]=mo[y]()})}))}));const u={app:l};let v;return yr&&(v=document.createElement("div"),document.body.appendChild(v),l.mount(v)),Object.assign({unmount:()=>{var y;if(l===null||v===null){xr("discrete","unmount call no need because discrete app has been unmounted");return}l.unmount(),(y=v.parentNode)===null||y===void 0||y.removeChild(v),v=null,l=null}},u)}function bo(r,{configProviderProps:t,messageProviderProps:c,dialogProviderProps:l,notificationProviderProps:u,loadingBarProviderProps:v}={}){const m=[];return r.forEach(f=>{switch(f){case"message":m.push({type:f,Provider:to,props:c});break;case"notification":m.push({type:f,Provider:ho,props:u});break;case"dialog":m.push({type:f,Provider:Lr,props:l});break;case"loadingBar":m.push({type:f,Provider:Vr,props:v});break}}),po({providersAndProps:m,configProviderProps:t})}const{message:yo,dialog:jo,loadingBar:Fo}=bo(["message","dialog","loadingBar"]);function ke(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class wo{value;next;constructor(t){this.value=t}}var oe,me,pe;class xo{constructor(){Te(this,oe,void 0);Te(this,me,void 0);Te(this,pe,void 0);this.clear()}enqueue(t){const c=new wo(t);he(this,oe)?(he(this,me).next=c,ae(this,me,c)):(ae(this,oe,c),ae(this,me,c)),rn(this,pe)._++}dequeue(){const t=he(this,oe);if(t)return ae(this,oe,he(this,oe).next),rn(this,pe)._--,t.value}clear(){ae(this,oe,void 0),ae(this,me,void 0),ae(this,pe,0)}get size(){return he(this,pe)}*[Symbol.iterator](){let t=he(this,oe);for(;t;)yield t.value,t=t.next}}oe=new WeakMap,me=new WeakMap,pe=new WeakMap;function Mo(r){if(!((Number.isInteger(r)||r===Number.POSITIVE_INFINITY)&&r>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new xo;let c=0;const l=()=>{c--,t.size>0&&t.dequeue()()},u=async(y,f,g)=>{c++;const _=(async()=>y(...g))();f(_);try{await _}catch{}l()},v=(y,f,g)=>{t.enqueue(u.bind(void 0,y,f,g)),(async()=>(await Promise.resolve(),c<r&&t.size>0&&t.dequeue()()))()},m=(y,...f)=>new Promise(g=>{v(y,g,f)});return Object.defineProperties(m,{activeCount:{get:()=>c},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),m}const Ho=(...r)=>{const t=new FormData;return r.forEach(c=>{for(const l in c){const u=c[l];u!==void 0&&(u instanceof Blob?t.append(l,u,u.name):t.append(l,String(u)))}}),t},_o=r=>{const t={};return r.forEach((c,l)=>{t[l]=c}),t},Ae=async(r=0)=>new Promise(t=>{setTimeout(t,r)}),Wo=(()=>{let r;return async(t="")=>{r!==t&&(r=t,Ae(1e4).then(()=>{r=void 0}),await navigator.clipboard.writeText(t),yo.success("复制成功"))}})(),Co=r=>(...t)=>r()(...t),So=Co(()=>{var r;return(r=window.__NetworkExtension__)==null?void 0:r.GM_xmlhttpRequest}),Io=()=>{var r;return!!((r=window.__NetworkExtension__)!=null&&r.GM_xmlhttpRequest)},Eo=(r="")=>{const t=new Headers;return r.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(l){return l.startsWith(`
`)?l.substring(1):l}).forEach(function(l){var m;let u=l.split(":"),v=(m=u.shift())==null?void 0:m.trim();if(v){let y=u.join(":").trim();t.append(v,y)}}),t},Ro=(r="")=>{try{return r===""&&location.href?location.href:r}catch{return r}},Ao=async(r,t={},c={})=>{var g;const l=new Request(r,t).clone();if((g=l.signal)!=null&&g.aborted)throw new DOMException("Aborted","AbortError");const u=l.method.toUpperCase(),v=Ro(l.url),m=new Headers(l.headers);new Headers(t.headers).forEach((_,h)=>{m.set(h,_)});let y=!1,f;return u!="GET"&&t.body&&(typeof t.body=="string"||t.body instanceof URLSearchParams?f=t.body:t.body instanceof FormData?(f=t.body,m.delete("content-type")):(y=!0,f=await l.blob())),new Promise((_,h)=>{var N;let I={method:u,url:v,headers:_o(m),data:f,binary:y,responseType:"blob",async onload(O){let j;O.response instanceof Blob&&O.response.size==0||(j=O.response??O.responseText),await Ae();const $=new Response(j,{status:O.status,statusText:O.statusText,headers:Eo(O.responseHeaders)});Object.defineProperty($,"url",{value:O.finalUrl}),_($)},async onerror(){await Ae(),h(new TypeError("Network request onerror failed"))},async ontimeout(){await Ae(),h(new TypeError("Network request ontimeout failed"))},async onabort(){await Ae(),h(new DOMException("Aborted","AbortError"))},async onreadystatechange(O){var j;O.readyState===4&&((j=l.signal)==null||j.removeEventListener("abort",C))}};typeof c=="function"?I=c(I):I={...I,...c};const A=So(I);function C(){A.abort()}(N=l.signal)==null||N.addEventListener("abort",C)})},Oo=new Set([location.origin,"https://cdn.jsdelivr.net","https://fastly.jsdelivr.net","https://raw.githubusercontent.com","https://raw.githubusercontents.com","https://raw.gitmirror.com"]),Po=r=>(r=new URL(r),r.hostname=="127.0.0.1"||r.hostname=="localhost"||location.protocol=="http:"&&r.protocol=="http:"&&r.hostname.split(".").every(t=>Number.isSafeInteger(parseInt(t)))?!0:Oo.has(r.origin)),No=/^https:\/\/github\.com\/gkd-kit\/inspect\/files\/([0-9]+)\/file\.zip$/,Lo=/^https:\/\/github\.com\/gkd-kit\/inspect\/assets\/([0-9]+)\/([0-9a-z\-]+)$/,Uo=r=>{r=r.toString();let t;const{1:c}=r.match(No)||[],{1:l,2:u}=r.match(Lo)||[];if(c)t=Bn.resolve({path:`/import/${c}`}).href;else if(l&&u)t=Bn.resolve({path:`/import/${l}/${u}`}).href;else throw new Error(`github url ${r} should come from gkd-kit/inspect files/assets`);return location.origin+t},Ko=async(r,t,c)=>{const l=new Request(r),u=new URL(l.url);if(Po(u))return fetch(r,{...t,mode:"cors"});if(Io())return Ao(r,t);if(c!=null&&c.proxy){const v=new URL("https://proxy-workers.lisonge.workers.dev/");v.searchParams.set("proxyUrl",u.href);const m=new Request(r,t);return fetch(v,{method:m.method,headers:m.headers,body:m.body})}else throw _r.networkErrorDlgVisible=!0,new Error("gm is not supported")};var Jn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,t){(function(c){r.exports=c()})(function(){return function c(l,u,v){function m(g,_){if(!u[g]){if(!l[g]){var h=typeof ke=="function"&&ke;if(!_&&h)return h(g,!0);if(y)return y(g,!0);var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I}var A=u[g]={exports:{}};l[g][0].call(A.exports,function(C){var N=l[g][1][C];return m(N||C)},A,A.exports,c,l,u,v)}return u[g].exports}for(var y=typeof ke=="function"&&ke,f=0;f<v.length;f++)m(v[f]);return m}({1:[function(c,l,u){(function(v){var m=v.MutationObserver||v.WebKitMutationObserver,y;if(m){var f=0,g=new m(C),_=v.document.createTextNode("");g.observe(_,{characterData:!0}),y=function(){_.data=f=++f%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var h=new v.MessageChannel;h.port1.onmessage=C,y=function(){h.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?y=function(){var O=v.document.createElement("script");O.onreadystatechange=function(){C(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},v.document.documentElement.appendChild(O)}:y=function(){setTimeout(C,0)};var I,A=[];function C(){I=!0;for(var O,j,$=A.length;$;){for(j=A,A=[],O=-1;++O<$;)j[O]();$=A.length}I=!1}l.exports=N;function N(O){A.push(O)===1&&!I&&y()}}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,l,u){var v=c(1);function m(){}var y={},f=["REJECTED"],g=["FULFILLED"],_=["PENDING"];l.exports=h;function h(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,b!==m&&N(this,b)}h.prototype.catch=function(b){return this.then(null,b)},h.prototype.then=function(b,T){if(typeof b!="function"&&this.state===g||typeof T!="function"&&this.state===f)return this;var P=new this.constructor(m);if(this.state!==_){var L=this.state===g?b:T;A(P,L,this.outcome)}else this.queue.push(new I(P,b,T));return P};function I(b,T,P){this.promise=b,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}I.prototype.callFulfilled=function(b){y.resolve(this.promise,b)},I.prototype.otherCallFulfilled=function(b){A(this.promise,this.onFulfilled,b)},I.prototype.callRejected=function(b){y.reject(this.promise,b)},I.prototype.otherCallRejected=function(b){A(this.promise,this.onRejected,b)};function A(b,T,P){v(function(){var L;try{L=T(P)}catch(W){return y.reject(b,W)}L===b?y.reject(b,new TypeError("Cannot resolve promise with itself")):y.resolve(b,L)})}y.resolve=function(b,T){var P=O(C,T);if(P.status==="error")return y.reject(b,P.value);var L=P.value;if(L)N(b,L);else{b.state=g,b.outcome=T;for(var W=-1,q=b.queue.length;++W<q;)b.queue[W].callFulfilled(T)}return b},y.reject=function(b,T){b.state=f,b.outcome=T;for(var P=-1,L=b.queue.length;++P<L;)b.queue[P].callRejected(T);return b};function C(b){var T=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof T=="function")return function(){T.apply(b,arguments)}}function N(b,T){var P=!1;function L(V){P||(P=!0,y.reject(b,V))}function W(V){P||(P=!0,y.resolve(b,V))}function q(){T(W,L)}var Y=O(q);Y.status==="error"&&L(Y.value)}function O(b,T){var P={};try{P.value=b(T),P.status="success"}catch(L){P.status="error",P.value=L}return P}h.resolve=j;function j(b){return b instanceof this?b:y.resolve(new this(m),b)}h.reject=$;function $(b){var T=new this(m);return y.reject(T,b)}h.all=X;function X(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=new Array(P),q=0,Y=-1,V=new this(m);++Y<P;)G(b[Y],Y);return V;function G(ie,fe){T.resolve(ie).then(ve,function(te){L||(L=!0,y.reject(V,te))});function ve(te){W[fe]=te,++q===P&&!L&&(L=!0,y.resolve(V,W))}}}h.race=H;function H(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=-1,q=new this(m);++W<P;)Y(b[W]);return q;function Y(V){T.resolve(V).then(function(G){L||(L=!0,y.resolve(q,G))},function(G){L||(L=!0,y.reject(q,G))})}}},{1:1}],3:[function(c,l,u){(function(v){typeof v.Promise!="function"&&(v.Promise=c(2))}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,l,u){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=y();function g(){try{if(!f||!f.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(i){if(i.name!=="TypeError")throw i;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new n,s=0;s<e.length;s+=1)a.append(e[s]);return a.getBlob(o.type)}}typeof Promise>"u"&&c(3);var h=Promise;function I(e,o){o&&e.then(function(n){o(null,n)},function(n){o(n)})}function A(e,o,n){typeof o=="function"&&e.then(o),typeof n=="function"&&e.catch(n)}function C(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",j=void 0,$={},X=Object.prototype.toString,H="readonly",b="readwrite";function T(e){for(var o=e.length,n=new ArrayBuffer(o),a=new Uint8Array(n),s=0;s<o;s++)a[s]=e.charCodeAt(s);return n}function P(e){return new h(function(o){var n=e.transaction(O,b),a=_([""]);n.objectStore(O).put(a,"key"),n.onabort=function(s){s.preventDefault(),s.stopPropagation(),o(!1)},n.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);o(i||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function L(e){return typeof j=="boolean"?h.resolve(j):P(e).then(function(o){return j=o,j})}function W(e){var o=$[e.name],n={};n.promise=new h(function(a,s){n.resolve=a,n.reject=s}),o.deferredOperations.push(n),o.dbReady?o.dbReady=o.dbReady.then(function(){return n.promise}):o.dbReady=n.promise}function q(e){var o=$[e.name],n=o.deferredOperations.pop();if(n)return n.resolve(),n.promise}function Y(e,o){var n=$[e.name],a=n.deferredOperations.pop();if(a)return a.reject(o),a.promise}function V(e,o){return new h(function(n,a){if($[e.name]=$[e.name]||Pe(),e.db)if(o)W(e),e.db.close();else return n(e.db);var s=[e.name];o&&s.push(e.version);var i=f.open.apply(f,s);o&&(i.onupgradeneeded=function(d){var p=i.result;try{p.createObjectStore(e.storeName),d.oldVersion<=1&&p.createObjectStore(O)}catch(w){if(w.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw w}}),i.onerror=function(d){d.preventDefault(),a(i.error)},i.onsuccess=function(){var d=i.result;d.onversionchange=function(p){p.target.close()},n(d),q(e)}})}function G(e){return V(e,!1)}function ie(e){return V(e,!0)}function fe(e,o){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,s=e.version>e.db.version;if(a&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function ve(e){return new h(function(o,n){var a=new FileReader;a.onerror=n,a.onloadend=function(s){var i=btoa(s.target.result||"");o({__local_forage_encoded_blob:!0,data:i,type:e.type})},a.readAsBinaryString(e)})}function te(e){var o=T(atob(e.data));return _([o],{type:e.type})}function ye(e){return e&&e.__local_forage_encoded_blob}function Ie(e){var o=this,n=o._initReady().then(function(){var a=$[o._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return A(n,e,e),n}function Ue(e){W(e);for(var o=$[e.name],n=o.forages,a=0;a<n.length;a++){var s=n[a];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,G(e).then(function(i){return e.db=i,fe(e)?ie(e):i}).then(function(i){e.db=o.db=i;for(var d=0;d<n.length;d++)n[d]._dbInfo.db=i}).catch(function(i){throw Y(e,i),i})}function ee(e,o,n,a){a===void 0&&(a=1);try{var s=e.db.transaction(e.storeName,o);n(null,s)}catch(i){if(a>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return h.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return Ue(e).then(function(){ee(e,o,n,a-1)})}).catch(n);n(i)}}function Pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ke(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=e[a];var s=$[n.name];s||(s=Pe(),$[n.name]=s),s.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=Ie);var i=[];function d(){return h.resolve()}for(var p=0;p<s.forages.length;p++){var w=s.forages[p];w!==o&&i.push(w._initReady().catch(d))}var x=s.forages.slice(0);return h.all(i).then(function(){return n.db=s.db,G(n)}).then(function(S){return n.db=S,fe(n,o._defaultConfig.version)?ie(n):S}).then(function(S){n.db=s.db=S,o._dbInfo=n;for(var E=0;E<x.length;E++){var B=x[E];B!==o&&(B._dbInfo.db=n.db,B._dbInfo.version=n.version)}})}function qe(e,o){var n=this;e=C(e);var a=new h(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(d,p){if(d)return i(d);try{var w=p.objectStore(n._dbInfo.storeName),x=w.get(e);x.onsuccess=function(){var S=x.result;S===void 0&&(S=null),ye(S)&&(S=te(S)),s(S)},x.onerror=function(){i(x.error)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function Ye(e,o){var n=this,a=new h(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(d,p){if(d)return i(d);try{var w=p.objectStore(n._dbInfo.storeName),x=w.openCursor(),S=1;x.onsuccess=function(){var E=x.result;if(E){var B=E.value;ye(B)&&(B=te(B));var z=e(B,E.key,S++);z!==void 0?s(z):E.continue()}else s()},x.onerror=function(){i(x.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function nt(e,o,n){var a=this;e=C(e);var s=new h(function(i,d){var p;a.ready().then(function(){return p=a._dbInfo,X.call(o)==="[object Blob]"?L(p.db).then(function(w){return w?o:ve(o)}):o}).then(function(w){ee(a._dbInfo,b,function(x,S){if(x)return d(x);try{var E=S.objectStore(a._dbInfo.storeName);w===null&&(w=void 0);var B=E.put(w,e);S.oncomplete=function(){w===void 0&&(w=null),i(w)},S.onabort=S.onerror=function(){var z=B.error?B.error:B.transaction.error;d(z)}}catch(z){d(z)}})}).catch(d)});return I(s,n),s}function tt(e,o){var n=this;e=C(e);var a=new h(function(s,i){n.ready().then(function(){ee(n._dbInfo,b,function(d,p){if(d)return i(d);try{var w=p.objectStore(n._dbInfo.storeName),x=w.delete(e);p.oncomplete=function(){s()},p.onerror=function(){i(x.error)},p.onabort=function(){var S=x.error?x.error:x.transaction.error;i(S)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function rt(e){var o=this,n=new h(function(a,s){o.ready().then(function(){ee(o._dbInfo,b,function(i,d){if(i)return s(i);try{var p=d.objectStore(o._dbInfo.storeName),w=p.clear();d.oncomplete=function(){a()},d.onabort=d.onerror=function(){var x=w.error?w.error:w.transaction.error;s(x)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function ot(e){var o=this,n=new h(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,d){if(i)return s(i);try{var p=d.objectStore(o._dbInfo.storeName),w=p.count();w.onsuccess=function(){a(w.result)},w.onerror=function(){s(w.error)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function it(e,o){var n=this,a=new h(function(s,i){if(e<0){s(null);return}n.ready().then(function(){ee(n._dbInfo,H,function(d,p){if(d)return i(d);try{var w=p.objectStore(n._dbInfo.storeName),x=!1,S=w.openKeyCursor();S.onsuccess=function(){var E=S.result;if(!E){s(null);return}e===0||x?s(E.key):(x=!0,E.advance(e))},S.onerror=function(){i(S.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function at(e){var o=this,n=new h(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,d){if(i)return s(i);try{var p=d.objectStore(o._dbInfo.storeName),w=p.openKeyCursor(),x=[];w.onsuccess=function(){var S=w.result;if(!S){a(x);return}x.push(S.key),S.continue()},w.onerror=function(){s(w.error)}}catch(S){s(S)}})}).catch(s)});return I(n,e),n}function st(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;if(!e.name)s=h.reject("Invalid arguments");else{var i=e.name===n.name&&a._dbInfo.db,d=i?h.resolve(a._dbInfo.db):G(e).then(function(p){var w=$[e.name],x=w.forages;w.db=p;for(var S=0;S<x.length;S++)x[S]._dbInfo.db=p;return p});e.storeName?s=d.then(function(p){if(p.objectStoreNames.contains(e.storeName)){var w=p.version+1;W(e);var x=$[e.name],S=x.forages;p.close();for(var E=0;E<S.length;E++){var B=S[E];B._dbInfo.db=null,B._dbInfo.version=w}var z=new h(function(D,K){var U=f.open(e.name,w);U.onerror=function(J){var Re=U.result;Re.close(),K(J)},U.onupgradeneeded=function(){var J=U.result;J.deleteObjectStore(e.storeName)},U.onsuccess=function(){var J=U.result;J.close(),D(J)}});return z.then(function(D){x.db=D;for(var K=0;K<S.length;K++){var U=S[K];U._dbInfo.db=D,q(U._dbInfo)}}).catch(function(D){throw(Y(e,D)||h.resolve()).catch(function(){}),D})}}):s=d.then(function(p){W(e);var w=$[e.name],x=w.forages;p.close();for(var S=0;S<x.length;S++){var E=x[S];E._dbInfo.db=null}var B=new h(function(z,D){var K=f.deleteDatabase(e.name);K.onerror=function(){var U=K.result;U&&U.close(),D(K.error)},K.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},K.onsuccess=function(){var U=K.result;U&&U.close(),z(U)}});return B.then(function(z){w.db=z;for(var D=0;D<x.length;D++){var K=x[D];q(K._dbInfo)}}).catch(function(z){throw(Y(e,z)||h.resolve()).catch(function(){}),z})})}return I(s,o),s}var ct={_driver:"asyncStorage",_initStorage:Ke,_support:g(),iterate:Ye,getItem:qe,setItem:nt,removeItem:tt,clear:rt,length:ot,key:it,keys:at,dropInstance:st};function lt(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ft="~~local_forage_type~",hn=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Ve=Ne.length,Qe="arbf",Xe="blob",vn="si08",gn="ui08",mn="uic8",pn="si16",bn="si32",yn="ur16",wn="ui32",xn="fl32",_n="fl64",Cn=Ve+Qe.length,Sn=Object.prototype.toString;function In(e){var o=e.length*.75,n=e.length,a,s=0,i,d,p,w;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var x=new ArrayBuffer(o),S=new Uint8Array(x);for(a=0;a<n;a+=4)i=ue.indexOf(e[a]),d=ue.indexOf(e[a+1]),p=ue.indexOf(e[a+2]),w=ue.indexOf(e[a+3]),S[s++]=i<<2|d>>4,S[s++]=(d&15)<<4|p>>2,S[s++]=(p&3)<<6|w&63;return x}function Ge(e){var o=new Uint8Array(e),n="",a;for(a=0;a<o.length;a+=3)n+=ue[o[a]>>2],n+=ue[(o[a]&3)<<4|o[a+1]>>4],n+=ue[(o[a+1]&15)<<2|o[a+2]>>6],n+=ue[o[a+2]&63];return o.length%3===2?n=n.substring(0,n.length-1)+"=":o.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function ut(e,o){var n="";if(e&&(n=Sn.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Sn.call(e.buffer)==="[object ArrayBuffer]")){var a,s=Ne;e instanceof ArrayBuffer?(a=e,s+=Qe):(a=e.buffer,n==="[object Int8Array]"?s+=vn:n==="[object Uint8Array]"?s+=gn:n==="[object Uint8ClampedArray]"?s+=mn:n==="[object Int16Array]"?s+=pn:n==="[object Uint16Array]"?s+=yn:n==="[object Int32Array]"?s+=bn:n==="[object Uint32Array]"?s+=wn:n==="[object Float32Array]"?s+=xn:n==="[object Float64Array]"?s+=_n:o(new Error("Failed to get type for BinaryArray"))),o(s+Ge(a))}else if(n==="[object Blob]"){var i=new FileReader;i.onload=function(){var d=ft+e.type+"~"+Ge(this.result);o(Ne+Xe+d)},i.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(d){console.error("Couldn't convert value into a JSON string: ",e),o(null,d)}}function dt(e){if(e.substring(0,Ve)!==Ne)return JSON.parse(e);var o=e.substring(Cn),n=e.substring(Ve,Cn),a;if(n===Xe&&hn.test(o)){var s=o.match(hn);a=s[1],o=o.substring(s[0].length)}var i=In(o);switch(n){case Qe:return i;case Xe:return _([i],{type:a});case vn:return new Int8Array(i);case gn:return new Uint8Array(i);case mn:return new Uint8ClampedArray(i);case pn:return new Int16Array(i);case yn:return new Uint16Array(i);case bn:return new Int32Array(i);case wn:return new Uint32Array(i);case xn:return new Float32Array(i);case _n:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var Je={serialize:ut,deserialize:dt,stringToBuffer:In,bufferToString:Ge};function En(e,o,n,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,a)}function ht(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=typeof e[a]!="string"?e[a].toString():e[a];var s=new h(function(i,d){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return d(p)}n.db.transaction(function(p){En(p,n,function(){o._dbInfo=n,i()},function(w,x){d(x)})},d)});return n.serializer=Je,s}function de(e,o,n,a,s,i){e.executeSql(n,a,s,function(d,p){p.code===p.SYNTAX_ERR?d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(w,x){x.rows.length?i(w,p):En(w,o,function(){w.executeSql(n,a,s,i)},i)},i):i(d,p)},i)}function vt(e,o){var n=this;e=C(e);var a=new h(function(s,i){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(p){de(p,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[e],function(w,x){var S=x.rows.length?x.rows.item(0).value:null;S&&(S=d.serializer.deserialize(S)),s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function gt(e,o){var n=this,a=new h(function(s,i){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(p){de(p,d,"SELECT * FROM "+d.storeName,[],function(w,x){for(var S=x.rows,E=S.length,B=0;B<E;B++){var z=S.item(B),D=z.value;if(D&&(D=d.serializer.deserialize(D)),D=e(D,z.key,B+1),D!==void 0){s(D);return}}s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function Rn(e,o,n,a){var s=this;e=C(e);var i=new h(function(d,p){s.ready().then(function(){o===void 0&&(o=null);var w=o,x=s._dbInfo;x.serializer.serialize(o,function(S,E){E?p(E):x.db.transaction(function(B){de(B,x,"INSERT OR REPLACE INTO "+x.storeName+" (key, value) VALUES (?, ?)",[e,S],function(){d(w)},function(z,D){p(D)})},function(B){if(B.code===B.QUOTA_ERR){if(a>0){d(Rn.apply(s,[e,w,n,a-1]));return}p(B)}})})}).catch(p)});return I(i,n),i}function mt(e,o,n){return Rn.apply(this,[e,o,n,1])}function pt(e,o){var n=this;e=C(e);var a=new h(function(s,i){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(p){de(p,d,"DELETE FROM "+d.storeName+" WHERE key = ?",[e],function(){s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function bt(e){var o=this,n=new h(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(d){de(d,i,"DELETE FROM "+i.storeName,[],function(){a()},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function yt(e){var o=this,n=new h(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(d){de(d,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(p,w){var x=w.rows.item(0).c;a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function wt(e,o){var n=this,a=new h(function(s,i){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(p){de(p,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[e+1],function(w,x){var S=x.rows.length?x.rows.item(0).key:null;s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function xt(e){var o=this,n=new h(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(d){de(d,i,"SELECT key FROM "+i.storeName,[],function(p,w){for(var x=[],S=0;S<w.rows.length;S++)x.push(w.rows.item(S).key);a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function _t(e){return new h(function(o,n){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,i){for(var d=[],p=0;p<i.rows.length;p++)d.push(i.rows.item(p).name);o({db:e,storeNames:d})},function(s,i){n(i)})},function(a){n(a)})})}function Ct(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;return e.name?s=new h(function(i){var d;e.name===n.name?d=a._dbInfo.db:d=openDatabase(e.name,"","",0),e.storeName?i({db:d,storeNames:[e.storeName]}):i(_t(d))}).then(function(i){return new h(function(d,p){i.db.transaction(function(w){function x(z){return new h(function(D,K){w.executeSql("DROP TABLE IF EXISTS "+z,[],function(){D()},function(U,J){K(J)})})}for(var S=[],E=0,B=i.storeNames.length;E<B;E++)S.push(x(i.storeNames[E]));h.all(S).then(function(){d()}).catch(function(z){p(z)})},function(w){p(w)})})}):s=h.reject("Invalid arguments"),I(s,o),s}var St={_driver:"webSQLStorage",_initStorage:ht,_support:lt(),iterate:gt,getItem:vt,setItem:mt,removeItem:pt,clear:bt,length:yt,key:wt,keys:xt,dropInstance:Ct};function It(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function An(e,o){var n=e.name+"/";return e.storeName!==o.storeName&&(n+=e.storeName+"/"),n}function Et(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Rt(){return!Et()||localStorage.length>0}function At(e){var o=this,n={};if(e)for(var a in e)n[a]=e[a];return n.keyPrefix=An(e,o._defaultConfig),Rt()?(o._dbInfo=n,n.serializer=Je,h.resolve()):h.reject()}function Ot(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var i=localStorage.key(s);i.indexOf(a)===0&&localStorage.removeItem(i)}});return I(n,e),n}function Pt(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo,i=localStorage.getItem(s.keyPrefix+e);return i&&(i=s.serializer.deserialize(i)),i});return I(a,o),a}function Nt(e,o){var n=this,a=n.ready().then(function(){for(var s=n._dbInfo,i=s.keyPrefix,d=i.length,p=localStorage.length,w=1,x=0;x<p;x++){var S=localStorage.key(x);if(S.indexOf(i)===0){var E=localStorage.getItem(S);if(E&&(E=s.serializer.deserialize(E)),E=e(E,S.substring(d),w++),E!==void 0)return E}}});return I(a,o),a}function Lt(e,o){var n=this,a=n.ready().then(function(){var s=n._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(s.keyPrefix.length)),i});return I(a,o),a}function Tt(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo,s=localStorage.length,i=[],d=0;d<s;d++){var p=localStorage.key(d);p.indexOf(a.keyPrefix)===0&&i.push(p.substring(a.keyPrefix.length))}return i});return I(n,e),n}function Bt(e){var o=this,n=o.keys().then(function(a){return a.length});return I(n,e),n}function $t(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return I(a,o),a}function zt(e,o,n){var a=this;e=C(e);var s=a.ready().then(function(){o===void 0&&(o=null);var i=o;return new h(function(d,p){var w=a._dbInfo;w.serializer.serialize(o,function(x,S){if(S)p(S);else try{localStorage.setItem(w.keyPrefix+e,x),d(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(E),p(E)}})})});return I(s,n),s}function kt(e,o){if(o=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var a=this,s;return e.name?s=new h(function(i){e.storeName?i(An(e,a._defaultConfig)):i(e.name+"/")}).then(function(i){for(var d=localStorage.length-1;d>=0;d--){var p=localStorage.key(d);p.indexOf(i)===0&&localStorage.removeItem(p)}}):s=h.reject("Invalid arguments"),I(s,o),s}var Dt={_driver:"localStorageWrapper",_initStorage:At,_support:It(),iterate:Nt,getItem:Pt,setItem:zt,removeItem:$t,clear:Ot,length:Bt,key:Lt,keys:Tt,dropInstance:kt},jt=function(o,n){return o===n||typeof o=="number"&&typeof n=="number"&&isNaN(o)&&isNaN(n)},Ft=function(o,n){for(var a=o.length,s=0;s<a;){if(jt(o[s],n))return!0;s++}return!1},On=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},Pn={},we={INDEXEDDB:ct,WEBSQL:St,LOCALSTORAGE:Dt},Mt=[we.INDEXEDDB._driver,we.WEBSQL._driver,we.LOCALSTORAGE._driver],Le=["dropInstance"],Ze=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Le),Ht={description:"",driver:Mt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wt(e,o){e[o]=function(){var n=arguments;return e.ready().then(function(){return e[o].apply(e,n)})}}function en(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var n in o)o.hasOwnProperty(n)&&(On(o[n])?arguments[0][n]=o[n].slice():arguments[0][n]=o[n])}return arguments[0]}var Ut=function(){function e(o){m(this,e);for(var n in we)if(we.hasOwnProperty(n)){var a=we[n],s=a._driver;this[n]=s,Ee[s]||this.defineDriver(a)}this._defaultConfig=en({},Ht),this._config=en({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":v(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in n){if(a==="storeName"&&(n[a]=n[a].replace(/\W/g,"_")),a==="version"&&typeof n[a]!="number")return new Error("Database version must be a number.");this._config[a]=n[a]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,a,s){var i=new h(function(d,p){try{var w=n._driver,x=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(x);return}for(var S=Ze.concat("_initStorage"),E=0,B=S.length;E<B;E++){var z=S[E],D=!Ft(Le,z);if((D||n[z])&&typeof n[z]!="function"){p(x);return}}var K=function(){for(var Re=function(Yt){return function(){var Vt=new Error("Method "+Yt+" is not implemented by the current driver"),Nn=h.reject(Vt);return I(Nn,arguments[arguments.length-1]),Nn}},nn=0,qt=Le.length;nn<qt;nn++){var tn=Le[nn];n[tn]||(n[tn]=Re(tn))}};K();var U=function(Re){Ee[w]&&console.info("Redefining LocalForage driver: "+w),Ee[w]=n,Pn[w]=Re,d()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(J){p(J)}});return A(i,a,s),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,a,s){var i=Ee[n]?h.resolve(Ee[n]):h.reject(new Error("Driver not found."));return A(i,a,s),i},e.prototype.getSerializer=function(n){var a=h.resolve(Je);return A(a,n),a},e.prototype.ready=function(n){var a=this,s=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return A(s,n,n),s},e.prototype.setDriver=function(n,a,s){var i=this;On(n)||(n=[n]);var d=this._getSupportedDrivers(n);function p(){i._config.driver=i.driver()}function w(E){return i._extend(E),p(),i._ready=i._initStorage(i._config),i._ready}function x(E){return function(){var B=0;function z(){for(;B<E.length;){var D=E[B];return B++,i._dbInfo=null,i._ready=null,i.getDriver(D).then(w).catch(z)}p();var K=new Error("No available storage method found.");return i._driverSet=h.reject(K),i._driverSet}return z()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=S.then(function(){var E=d[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(B){i._driver=B._driver,p(),i._wrapLibraryMethodsWithReady(),i._initDriver=x(d)})}).catch(function(){p();var E=new Error("No available storage method found.");return i._driverSet=h.reject(E),i._driverSet}),A(this._driverSet,a,s),this._driverSet},e.prototype.supports=function(n){return!!Pn[n]},e.prototype._extend=function(n){en(this,n)},e.prototype._getSupportedDrivers=function(n){for(var a=[],s=0,i=n.length;s<i;s++){var d=n[s];this.supports(d)&&a.push(d)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,a=Ze.length;n<a;n++)Wt(this,Ze[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Kt=new Ut;l.exports=Kt},{3:3}]},{},[4])(4)})})(Jn);var To=Jn.exports;const De=Ar(To),We=(r={})=>{r.driver??(r.driver=De.INDEXEDDB);const t=De.createInstance(r);return{keys:async()=>t.keys(),hasItem:async f=>{const g=f.toString();return t.keys().then(_=>_.includes(g))},getItem:async f=>t.getItem(f.toString()),setItem:async(f,g)=>t.setItem(f.toString(),g),removeItem:async f=>t.removeItem(f.toString()),getAllItems:async()=>Promise.all((await t.keys()).map(f=>t.getItem(f)))}},dn=(r,t)=>{const c=Fe(typeof t=="function"?t():t);let l=!1;return Cr(c,async()=>{l&&await De.setItem(r,Sr(c))}),De.getItem(r).then(u=>{u&&Object.assign(c,u),l=!0}),c},Oe=We({name:"snapshot",version:1}),Bo=Oe.setItem;Oe.setItem=async(r,t)=>{const c={...t,nodes:[]};return await Zn.setItem(r,c),Bo(r,t)};const $o=Oe.removeItem;Oe.removeItem=async r=>{await Promise.all([$o(r),Zn.removeItem(r),et.removeItem(r)])};const Zn=We({name:"shallowSnapshot",version:1}),et=We({name:"screenshot",version:1}),qo=async(r,t)=>{await Oe.setItem(r.id,r),await et.setItem(r.id,t)};We({name:"cache",version:1});const Yo=dn("url",{}),Vo=dn("githubPng",{}),Qo=dn("githubZip",{});export{Oe as a,et as b,Wo as c,jo as d,Ae as e,Rr as f,Uo as g,Be as h,Ko as i,Vo as j,Qo as k,Fo as l,yo as m,No as n,Ho as o,Mo as p,Lo as q,qo as r,Zn as s,ke as t,Yo as u,Ar as v,fn as w};
//# sourceMappingURL=storage-0cbb1879.js.map
